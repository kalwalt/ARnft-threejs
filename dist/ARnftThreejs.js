!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("three")):"function"==typeof define&&define.amd?define(["three"],t):"object"==typeof exports?exports.ARnftThreejs=t(require("three")):e.ARnftThreejs=t(e.THREE)}(this,(e=>(()=>{"use strict";var t={381:t=>{t.exports=e}},s={};function n(e){var i=s[e];if(void 0!==i)return i.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function s(e){var s=function(e,s){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,s);if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===t(s)?s:String(s)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function o(e,t,s){return t&&r(e.prototype,t),s&&r(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(i,{default:()=>oe});var c=n(381),l=function(){function t(){e(this,t)}return o(t,null,[{key:"interpolate",value:function(e){for(var t=0;t<16;t++)this.trackedMatrix.delta[t]=e[t]-this.trackedMatrix.interpolated[t],this.trackedMatrix.interpolated[t]=this.trackedMatrix.interpolated[t]+this.trackedMatrix.delta[t]/24;return this.trackedMatrix.interpolated}},{key:"isMobile",value:function(){return/Android|mobile|iPad|iPhone/i.test(navigator.userAgent)}},{key:"setMatrix",value:function(e,t){var s=[];for(var n in t)s[n]=t[n];"function"==typeof e.elements.set?e.elements.set(s):e.elements=[].slice.call(s)}}]),t}();a(l,"trackedMatrix",{delta:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],interpolated:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]});var u=function(){function t(s,i,r,o){e(this,t),a(this,"canvas_draw",void 0),a(this,"camera",void 0),a(this,"configData",void 0),a(this,"renderer",void 0),a(this,"uuid",void 0),a(this,"root",void 0),a(this,"target",void 0),a(this,"scene",void 0),a(this,"version",void 0),this.configData=s,this.uuid=r,this.target=window||n.g,this.renderer=new c.WebGLRenderer({canvas:i,context:s.renderer.context,alpha:s.renderer.alpha,premultipliedAlpha:s.renderer.premultipliedAlpha,antialias:s.renderer.antialias,stencil:s.renderer.stencil,precision:s.renderer.precision,depth:s.renderer.depth,logarithmicDepthBuffer:s.renderer.logarithmicDepthBuffer}),this.renderer.setPixelRatio(window.devicePixelRatio),this.scene=new c.Scene,t.globalScene=this.scene,this.camera=!0===o?new c.PerspectiveCamera(s.camera.fov,s.camera.ratio,s.camera.near,s.camera.far):new c.Camera,this.version="0.4.6",console.log("ARnftThreejs version: ",this.version)}return o(t,[{key:"initRenderer",value:function(){var e=this;this.camera.matrixAutoUpdate=!1,this.target.addEventListener("getProjectionMatrix",(function(t){l.setMatrix(e.camera.projectionMatrix,t.detail.proj)})),this.scene.add(this.camera);var t=new c.AmbientLight(16777215);this.scene.add(t),this.target.addEventListener("getWindowSize",(function(t){e.renderer.setSize(t.detail.sw,t.detail.sh)}));var s=new CustomEvent("onInitThreejsRendering",{detail:{renderer:this.renderer,scene:this.scene,camera:this.camera}});this.target.dispatchEvent(s)}},{key:"draw",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"getRenderer",value:function(){return this.renderer}},{key:"getScene",value:function(){return this.scene}},{key:"getCamera",value:function(){return this.camera}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"setScene",value:function(e){this.scene=e}},{key:"setCamera",value:function(e){this.camera=e}}],[{key:"getGlobalScene",value:function(){return t.globalScene}}]),t}();function h(e,t){if(t===c.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===c.TriangleFanDrawMode||t===c.TriangleStripDrawMode){let s=e.getIndex();if(null===s){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),s=e.getIndex()}const n=s.count-2,i=[];if(t===c.TriangleFanDrawMode)for(let e=1;e<=n;e++)i.push(s.getX(0)),i.push(s.getX(e)),i.push(s.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(i.push(s.getX(e)),i.push(s.getX(e+1)),i.push(s.getX(e+2))):(i.push(s.getX(e+2)),i.push(s.getX(e+1)),i.push(s.getX(e)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=e.clone();return r.setIndex(i),r.clearGroups(),r}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}a(u,"globalScene",void 0);class d extends c.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new T(e)})),this.register((function(e){return new A(e)})),this.register((function(e){return new M(e)})),this.register((function(e){return new y(e)})),this.register((function(e){return new _(e)})),this.register((function(e){return new w(e)})),this.register((function(e){return new R(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new E(e)})),this.register((function(e){return new x(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new L(e)})),this.register((function(e){return new b(e)}))}load(e,t,s,n){const i=this;let r;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:c.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const o=function(t){n?n(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},a=new c.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(s){try{i.parse(s,r,(function(s){t(s),i.manager.itemEnd(e)}),o)}catch(e){o(e)}}),s,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,n){let i;const r={},o={},a=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(a.decode(new Uint8Array(e,0,4))===S){try{r[p.KHR_BINARY_GLTF]=new I(e)}catch(e){return void(n&&n(e))}i=JSON.parse(r[p.KHR_BINARY_GLTF].content)}else i=JSON.parse(a.decode(e));else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new J(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](c);o[t.name]=t,r[t.name]=!0}if(i.extensionsUsed)for(let e=0;e<i.extensionsUsed.length;++e){const t=i.extensionsUsed[e],s=i.extensionsRequired||[];switch(t){case p.KHR_MATERIALS_UNLIT:r[t]=new g;break;case p.KHR_DRACO_MESH_COMPRESSION:r[t]=new O(i,this.dracoLoader);break;case p.KHR_TEXTURE_TRANSFORM:r[t]=new C;break;case p.KHR_MESH_QUANTIZATION:r[t]=new N;break;default:s.indexOf(t)>=0&&void 0===o[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}c.setExtensions(r),c.setPlugins(o),c.parse(s,n)}parseAsync(e,t){const s=this;return new Promise((function(n,i){s.parse(e,t,n,i)}))}}function f(){let e={};return{get:function(t){return e[t]},add:function(t,s){e[t]=s},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const p={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class m{constructor(e){this.parser=e,this.name=p.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,n=t.length;s<n;s++){const n=t[s];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let n=t.cache.get(s);if(n)return n;const i=t.json,r=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let o;const a=new c.Color(16777215);void 0!==r.color&&a.fromArray(r.color);const l=void 0!==r.range?r.range:0;switch(r.type){case"directional":o=new c.DirectionalLight(a),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new c.PointLight(a),o.distance=l;break;case"spot":o=new c.SpotLight(a),o.distance=l,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,o.angle=r.spot.outerConeAngle,o.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+r.type)}return o.position.set(0,0,0),o.decay=2,q(o,r),void 0!==r.intensity&&(o.intensity=r.intensity),o.name=t.createUniqueName(r.name||"light_"+e),n=Promise.resolve(o),t.cache.add(s,n),n}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,s=this.parser,n=s.json.nodes[e],i=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return s._getNodeRef(t.cache,i,e)}))}}class g{constructor(){this.name=p.KHR_MATERIALS_UNLIT}getMaterialType(){return c.MeshBasicMaterial}extendParams(e,t,s){const n=[];e.color=new c.Color(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==i.baseColorTexture&&n.push(s.assignTexture(e,"map",i.baseColorTexture,c.sRGBEncoding))}return Promise.all(n)}}class v{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=s.extensions[this.name].emissiveStrength;return void 0!==n&&(t.emissiveIntensity=n),Promise.resolve()}}class T{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];if(void 0!==r.clearcoatFactor&&(t.clearcoat=r.clearcoatFactor),void 0!==r.clearcoatTexture&&i.push(s.assignTexture(t,"clearcoatMap",r.clearcoatTexture)),void 0!==r.clearcoatRoughnessFactor&&(t.clearcoatRoughness=r.clearcoatRoughnessFactor),void 0!==r.clearcoatRoughnessTexture&&i.push(s.assignTexture(t,"clearcoatRoughnessMap",r.clearcoatRoughnessTexture)),void 0!==r.clearcoatNormalTexture&&(i.push(s.assignTexture(t,"clearcoatNormalMap",r.clearcoatNormalTexture)),void 0!==r.clearcoatNormalTexture.scale)){const e=r.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new c.Vector2(e,e)}return Promise.all(i)}}class x{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];return void 0!==r.iridescenceFactor&&(t.iridescence=r.iridescenceFactor),void 0!==r.iridescenceTexture&&i.push(s.assignTexture(t,"iridescenceMap",r.iridescenceTexture)),void 0!==r.iridescenceIor&&(t.iridescenceIOR=r.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==r.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=r.iridescenceThicknessMinimum),void 0!==r.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=r.iridescenceThicknessMaximum),void 0!==r.iridescenceThicknessTexture&&i.push(s.assignTexture(t,"iridescenceThicknessMap",r.iridescenceThicknessTexture)),Promise.all(i)}}class y{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new c.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const r=n.extensions[this.name];return void 0!==r.sheenColorFactor&&t.sheenColor.fromArray(r.sheenColorFactor),void 0!==r.sheenRoughnessFactor&&(t.sheenRoughness=r.sheenRoughnessFactor),void 0!==r.sheenColorTexture&&i.push(s.assignTexture(t,"sheenColorMap",r.sheenColorTexture,c.sRGBEncoding)),void 0!==r.sheenRoughnessTexture&&i.push(s.assignTexture(t,"sheenRoughnessMap",r.sheenRoughnessTexture)),Promise.all(i)}}class _{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];return void 0!==r.transmissionFactor&&(t.transmission=r.transmissionFactor),void 0!==r.transmissionTexture&&i.push(s.assignTexture(t,"transmissionMap",r.transmissionTexture)),Promise.all(i)}}class w{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];t.thickness=void 0!==r.thicknessFactor?r.thicknessFactor:0,void 0!==r.thicknessTexture&&i.push(s.assignTexture(t,"thicknessMap",r.thicknessTexture)),t.attenuationDistance=r.attenuationDistance||1/0;const o=r.attenuationColor||[1,1,1];return t.attenuationColor=new c.Color(o[0],o[1],o[2]),Promise.all(i)}}class R{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=s.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}class E{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];t.specularIntensity=void 0!==r.specularFactor?r.specularFactor:1,void 0!==r.specularTexture&&i.push(s.assignTexture(t,"specularIntensityMap",r.specularTexture));const o=r.specularColorFactor||[1,1,1];return t.specularColor=new c.Color(o[0],o[1],o[2]),void 0!==r.specularColorTexture&&i.push(s.assignTexture(t,"specularColorMap",r.specularColorTexture,c.sRGBEncoding)),Promise.all(i)}}class A{constructor(e){this.parser=e,this.name=p.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,n=s.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],r=t.options.ktx2Loader;if(!r){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,r)}}class M{constructor(e){this.parser=e,this.name=p.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,n=s.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const r=i.extensions[t],o=n.images[r.source];let a=s.textureLoader;if(o.uri){const e=s.options.manager.getHandler(o.uri);null!==e&&(a=e)}return this.detectSupport().then((function(i){if(i)return s.loadTextureImage(e,r.source,a);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class L{constructor(e){this.name=p.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const e=s.extensions[this.name],n=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return n.then((function(t){const s=e.byteOffset||0,n=e.byteLength||0,r=e.count,o=e.byteStride,a=new Uint8Array(t,s,n);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(r,o,a,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(r*o);return i.decodeGltfBuffer(new Uint8Array(t),r,o,a,e.mode,e.filter),t}))}))}return null}}class b{constructor(e){this.name=p.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,s=t.nodes[e];if(!s.extensions||!s.extensions[this.name]||void 0===s.mesh)return null;const n=t.meshes[s.mesh];for(const e of n.primitives)if(e.mode!==H.TRIANGLES&&e.mode!==H.TRIANGLE_STRIP&&e.mode!==H.TRIANGLE_FAN&&void 0!==e.mode)return null;const i=s.extensions[this.name].attributes,r=[],o={};for(const e in i)r.push(this.parser.getDependency("accessor",i[e]).then((t=>(o[e]=t,o[e]))));return r.length<1?null:(r.push(this.parser.createNodeMesh(e)),Promise.all(r).then((e=>{const t=e.pop(),s=t.isGroup?t.children:[t],n=e[0].count,i=[];for(const e of s){const t=new c.Matrix4,s=new c.Vector3,r=new c.Quaternion,a=new c.Vector3(1,1,1),l=new c.InstancedMesh(e.geometry,e.material,n);for(let e=0;e<n;e++)o.TRANSLATION&&s.fromBufferAttribute(o.TRANSLATION,e),o.ROTATION&&r.fromBufferAttribute(o.ROTATION,e),o.SCALE&&a.fromBufferAttribute(o.SCALE,e),l.setMatrixAt(e,t.compose(s,r,a));for(const t in o)"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,o[t]);c.Object3D.prototype.copy.call(l,e),l.frustumCulled=!1,this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const S="glTF";class I{constructor(e){this.name=p.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==S)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,i=new DataView(e,12);let r=0;for(;r<n;){const t=i.getUint32(r,!0);r+=4;const n=i.getUint32(r,!0);if(r+=4,1313821514===n){const n=new Uint8Array(e,12+r,t);this.content=s.decode(n)}else if(5130562===n){const s=12+r;this.body=e.slice(s,s+t)}r+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class O{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=p.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,o={},a={},c={};for(const e in r){const t=j[e]||e.toLowerCase();o[t]=r[e]}for(const t in e.attributes){const n=j[t]||t.toLowerCase();if(void 0!==r[t]){const i=s.accessors[e.attributes[t]],r=D[i.componentType];c[n]=r.name,a[n]=!0===i.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(const t in e.attributes){const s=e.attributes[t],n=a[t];void 0!==n&&(s.normalized=n)}t(e)}),o,c)}))}))}}class C{constructor(){this.name=p.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class N{constructor(){this.name=p.KHR_MESH_QUANTIZATION}}class P extends c.Interpolant{constructor(e,t,s,n){super(e,t,s,n)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let e=0;e!==n;e++)t[e]=s[i+e];return t}interpolate_(e,t,s,n){const i=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=2*o,c=3*o,l=n-t,u=(s-t)/l,h=u*u,d=h*u,f=e*c,p=f-c,m=-2*d+3*h,g=d-h,v=1-m,T=g-h+u;for(let e=0;e!==o;e++){const t=r[p+e+o],s=r[p+e+a]*l,n=r[f+e+o],c=r[f+e]*l;i[e]=v*t+T*s+m*n+g*c}return i}}const k=new c.Quaternion;class F extends P{interpolate_(e,t,s,n){const i=super.interpolate_(e,t,s,n);return k.fromArray(i).normalize().toArray(i),i}}const H={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},D={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},V={9728:c.NearestFilter,9729:c.LinearFilter,9984:c.NearestMipmapNearestFilter,9985:c.LinearMipmapNearestFilter,9986:c.NearestMipmapLinearFilter,9987:c.LinearMipmapLinearFilter},U={33071:c.ClampToEdgeWrapping,33648:c.MirroredRepeatWrapping,10497:c.RepeatWrapping},G={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},B={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},K={CUBICSPLINE:void 0,LINEAR:c.InterpolateLinear,STEP:c.InterpolateDiscrete};function X(e,t,s){for(const n in s.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=s.extensions[n])}function q(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function z(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let s=0,n=t.weights.length;s<n;s++)e.morphTargetInfluences[s]=t.weights[s];if(t.extras&&Array.isArray(t.extras.targetNames)){const s=t.extras.targetNames;if(e.morphTargetInfluences.length===s.length){e.morphTargetDictionary={};for(let t=0,n=s.length;t<n;t++)e.morphTargetDictionary[s[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Y(e){const t=e.extensions&&e.extensions[p.KHR_DRACO_MESH_COMPRESSION];let s;return s=t?"draco:"+t.bufferView+":"+t.indices+":"+W(t.attributes):e.indices+":"+W(e.attributes)+":"+e.mode,s}function W(e){let t="";const s=Object.keys(e).sort();for(let n=0,i=s.length;n<i;n++)t+=s[n]+":"+e[s[n]]+";";return t}function Z(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Q=new c.Matrix4;class J{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new f,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,n=!1,i=-1;"undefined"!=typeof navigator&&(s=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),n=navigator.userAgent.indexOf("Firefox")>-1,i=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||s||n&&i<98?this.textureLoader=new c.TextureLoader(this.options.manager):this.textureLoader=new c.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new c.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,n=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])})).then((function(t){const r={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:s,userData:{}};X(i,r,n),q(r,n),Promise.all(s._invokeAll((function(e){return e.afterRoot&&e.afterRoot(r)}))).then((function(){e(r)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let s=0,n=t.length;s<n;s++){const n=t[s].joints;for(let t=0,s=n.length;t<s;t++)e[n[t]].isBone=!0}for(let t=0,n=e.length;t<n;t++){const n=e[t];void 0!==n.mesh&&(this._addNodeRef(this.meshCache,n.mesh),void 0!==n.skin&&(s[n.mesh].isSkinnedMesh=!0)),void 0!==n.camera&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const n=s.clone(),i=(e,t)=>{const s=this.associations.get(e);null!=s&&this.associations.set(t,s);for(const[s,n]of e.children.entries())i(n,t.children[s])};return i(s,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const n=e(t[s]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let n=0;n<t.length;n++){const i=e(t[n]);i&&s.push(i)}return s}getDependency(e,t){const s=e+":"+t;let n=this.cache.get(s);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne((function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)})),!n)throw new Error("Unknown type: "+e)}this.cache.add(s,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return s.getDependency(e,n)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[p.KHR_BINARY_GLTF].body);const n=this.options;return new Promise((function(e,i){s.load(c.LoaderUtils.resolveURL(t.uri,n.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const s=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+s)}))}loadAccessor(e){const t=this,s=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse){const e=G[n.type],t=D[n.componentType],s=!0===n.normalized,i=new t(n.count*e);return Promise.resolve(new c.BufferAttribute(i,e,s))}const i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],r=G[n.type],o=D[n.componentType],a=o.BYTES_PER_ELEMENT,l=a*r,u=n.byteOffset||0,h=void 0!==n.bufferView?s.bufferViews[n.bufferView].byteStride:void 0,d=!0===n.normalized;let f,p;if(h&&h!==l){const e=Math.floor(u/h),s="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+e+":"+n.count;let l=t.cache.get(s);l||(f=new o(i,e*h,n.count*h/a),l=new c.InterleavedBuffer(f,h/a),t.cache.add(s,l)),p=new c.InterleavedBufferAttribute(l,r,u%h/a,d)}else f=null===i?new o(n.count*r):new o(i,u,n.count*r),p=new c.BufferAttribute(f,r,d);if(void 0!==n.sparse){const t=G.SCALAR,s=D[n.sparse.indices.componentType],a=n.sparse.indices.byteOffset||0,l=n.sparse.values.byteOffset||0,u=new s(e[1],a,n.sparse.count*t),h=new o(e[2],l,n.sparse.count*r);null!==i&&(p=new c.BufferAttribute(p.array.slice(),p.itemSize,p.normalized));for(let e=0,t=u.length;e<t;e++){const t=u[e];if(p.setX(t,h[e*r]),r>=2&&p.setY(t,h[e*r+1]),r>=3&&p.setZ(t,h[e*r+2]),r>=4&&p.setW(t,h[e*r+3]),r>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p}))}loadTexture(e){const t=this.json,s=this.options,n=t.textures[e].source,i=t.images[n];let r=this.textureLoader;if(i.uri){const e=s.manager.getHandler(i.uri);null!==e&&(r=e)}return this.loadTextureImage(e,n,r)}loadTextureImage(e,t,s){const n=this,i=this.json,r=i.textures[e],o=i.images[t],a=(o.uri||o.bufferView)+":"+r.sampler;if(this.textureCache[a])return this.textureCache[a];const l=this.loadImageSource(t,s).then((function(t){t.flipY=!1,t.name=r.name||o.name||"";const s=(i.samplers||{})[r.sampler]||{};return t.magFilter=V[s.magFilter]||c.LinearFilter,t.minFilter=V[s.minFilter]||c.LinearMipmapLinearFilter,t.wrapS=U[s.wrapS]||c.RepeatWrapping,t.wrapT=U[s.wrapT]||c.RepeatWrapping,n.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[a]=l,l}loadImageSource(e,t){const s=this.json,n=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const i=s.images[e],r=self.URL||self.webkitURL;let o=i.uri||"",a=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){a=!0;const t=new Blob([e],{type:i.mimeType});return o=r.createObjectURL(t),o}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const l=Promise.resolve(o).then((function(e){return new Promise((function(s,i){let r=s;!0===t.isImageBitmapLoader&&(r=function(e){const t=new c.Texture(e);t.needsUpdate=!0,s(t)}),t.load(c.LoaderUtils.resolveURL(e,n.path),r,void 0,i)}))})).then((function(e){var t;return!0===a&&r.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=l,l}assignTexture(e,t,s,n){const i=this;return this.getDependency("texture",s.index).then((function(r){if(!r)return null;if(void 0===s.texCoord||0==s.texCoord||"aoMap"===t&&1==s.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+t+" not yet supported."),i.extensions[p.KHR_TEXTURE_TRANSFORM]){const e=void 0!==s.extensions?s.extensions[p.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(r);r=i.extensions[p.KHR_TEXTURE_TRANSFORM].extendTexture(r,e),i.associations.set(r,t)}}return void 0!==n&&(r.encoding=n),e[t]=r,r}))}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const n=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,r=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new c.PointsMaterial,c.Material.prototype.copy.call(t,s),t.color.copy(s.color),t.map=s.map,t.sizeAttenuation=!1,this.cache.add(e,t)),s=t}else if(e.isLine){const e="LineBasicMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new c.LineBasicMaterial,c.Material.prototype.copy.call(t,s),t.color.copy(s.color),this.cache.add(e,t)),s=t}if(n||i||r){let e="ClonedMaterial:"+s.uuid+":";n&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),r&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=s.clone(),i&&(t.vertexColors=!0),r&&(t.flatShading=!0),n&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(s))),s=t}s.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=s}getMaterialType(){return c.MeshStandardMaterial}loadMaterial(e){const t=this,s=this.json,n=this.extensions,i=s.materials[e];let r;const o={},a=[];if((i.extensions||{})[p.KHR_MATERIALS_UNLIT]){const e=n[p.KHR_MATERIALS_UNLIT];r=e.getMaterialType(),a.push(e.extendParams(o,i,t))}else{const s=i.pbrMetallicRoughness||{};if(o.color=new c.Color(1,1,1),o.opacity=1,Array.isArray(s.baseColorFactor)){const e=s.baseColorFactor;o.color.fromArray(e),o.opacity=e[3]}void 0!==s.baseColorTexture&&a.push(t.assignTexture(o,"map",s.baseColorTexture,c.sRGBEncoding)),o.metalness=void 0!==s.metallicFactor?s.metallicFactor:1,o.roughness=void 0!==s.roughnessFactor?s.roughnessFactor:1,void 0!==s.metallicRoughnessTexture&&(a.push(t.assignTexture(o,"metalnessMap",s.metallicRoughnessTexture)),a.push(t.assignTexture(o,"roughnessMap",s.metallicRoughnessTexture))),r=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),a.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=c.DoubleSide);const l=i.alphaMode||"OPAQUE";if("BLEND"===l?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===l&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&r!==c.MeshBasicMaterial&&(a.push(t.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new c.Vector2(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;o.normalScale.set(e,e)}return void 0!==i.occlusionTexture&&r!==c.MeshBasicMaterial&&(a.push(t.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&r!==c.MeshBasicMaterial&&(o.emissive=(new c.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&r!==c.MeshBasicMaterial&&a.push(t.assignTexture(o,"emissiveMap",i.emissiveTexture,c.sRGBEncoding)),Promise.all(a).then((function(){const s=new r(o);return i.name&&(s.name=i.name),q(s,i),t.associations.set(s,{materials:e}),i.extensions&&X(n,s,i),s}))}createUniqueName(e){const t=c.PropertyBinding.sanitizeNodeName(e||"");let s=t;for(let e=1;this.nodeNamesUsed[s];++e)s=t+"_"+e;return this.nodeNamesUsed[s]=!0,s}loadGeometries(e){const t=this,s=this.extensions,n=this.primitiveCache;function i(e){return s[p.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(s){return $(s,e,t)}))}const r=[];for(let s=0,o=e.length;s<o;s++){const o=e[s],a=Y(o),l=n[a];if(l)r.push(l.promise);else{let e;e=o.extensions&&o.extensions[p.KHR_DRACO_MESH_COMPRESSION]?i(o):$(new c.BufferGeometry,o,t),n[a]={primitive:o,promise:e},r.push(e)}}return Promise.all(r)}loadMesh(e){const t=this,s=this.json,n=this.extensions,i=s.meshes[e],r=i.primitives,o=[];for(let e=0,t=r.length;e<t;e++){const t=void 0===r[e].material?(void 0===(a=this.cache).DefaultMaterial&&(a.DefaultMaterial=new c.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:c.FrontSide})),a.DefaultMaterial):this.getDependency("material",r[e].material);o.push(t)}var a;return o.push(t.loadGeometries(r)),Promise.all(o).then((function(s){const o=s.slice(0,s.length-1),a=s[s.length-1],l=[];for(let s=0,u=a.length;s<u;s++){const u=a[s],d=r[s];let f;const p=o[s];if(d.mode===H.TRIANGLES||d.mode===H.TRIANGLE_STRIP||d.mode===H.TRIANGLE_FAN||void 0===d.mode)f=!0===i.isSkinnedMesh?new c.SkinnedMesh(u,p):new c.Mesh(u,p),!0!==f.isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),d.mode===H.TRIANGLE_STRIP?f.geometry=h(f.geometry,c.TriangleStripDrawMode):d.mode===H.TRIANGLE_FAN&&(f.geometry=h(f.geometry,c.TriangleFanDrawMode));else if(d.mode===H.LINES)f=new c.LineSegments(u,p);else if(d.mode===H.LINE_STRIP)f=new c.Line(u,p);else if(d.mode===H.LINE_LOOP)f=new c.LineLoop(u,p);else{if(d.mode!==H.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);f=new c.Points(u,p)}Object.keys(f.geometry.morphAttributes).length>0&&z(f,i),f.name=t.createUniqueName(i.name||"mesh_"+e),q(f,i),d.extensions&&X(n,f,d),t.assignFinalMaterial(f),l.push(f)}for(let s=0,n=l.length;s<n;s++)t.associations.set(l[s],{meshes:e,primitives:s});if(1===l.length)return l[0];const u=new c.Group;t.associations.set(u,{meshes:e});for(let e=0,t=l.length;e<t;e++)u.add(l[e]);return u}))}loadCamera(e){let t;const s=this.json.cameras[e],n=s[s.type];if(n)return"perspective"===s.type?t=new c.PerspectiveCamera(c.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===s.type&&(t=new c.OrthographicCamera(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),q(t,s),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],s=[];for(let e=0,n=t.joints.length;e<n;e++)s.push(this.getDependency("node",t.joints[e]));return void 0!==t.inverseBindMatrices?s.push(this.getDependency("accessor",t.inverseBindMatrices)):s.push(null),Promise.all(s).then((function(e){const s=e.pop(),n=e,i=[],r=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];if(o){i.push(o);const t=new c.Matrix4;null!==s&&t.fromArray(s.array,16*e),r.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}return new c.Skeleton(i,r)}))}loadAnimation(e){const t=this.json.animations[e],s=[],n=[],i=[],r=[],o=[];for(let e=0,a=t.channels.length;e<a;e++){const a=t.channels[e],c=t.samplers[a.sampler],l=a.target,u=l.node,h=void 0!==t.parameters?t.parameters[c.input]:c.input,d=void 0!==t.parameters?t.parameters[c.output]:c.output;s.push(this.getDependency("node",u)),n.push(this.getDependency("accessor",h)),i.push(this.getDependency("accessor",d)),r.push(c),o.push(l)}return Promise.all([Promise.all(s),Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(o)]).then((function(s){const n=s[0],i=s[1],r=s[2],o=s[3],a=s[4],l=[];for(let e=0,t=n.length;e<t;e++){const t=n[e],s=i[e],u=r[e],h=o[e],d=a[e];if(void 0===t)continue;let f;switch(t.updateMatrix(),B[d.path]){case B.weights:f=c.NumberKeyframeTrack;break;case B.rotation:f=c.QuaternionKeyframeTrack;break;default:f=c.VectorKeyframeTrack}const p=t.name?t.name:t.uuid,m=void 0!==h.interpolation?K[h.interpolation]:c.InterpolateLinear,g=[];B[d.path]===B.weights?t.traverse((function(e){e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(p);let v=u.array;if(u.normalized){const e=Z(v.constructor),t=new Float32Array(v.length);for(let s=0,n=v.length;s<n;s++)t[s]=v[s]*e;v=t}for(let e=0,t=g.length;e<t;e++){const t=new f(g[e]+"."+B[d.path],s.array,v,m);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(e){return new(this instanceof c.QuaternionKeyframeTrack?F:P)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}const u=t.name?t.name:"animation_"+e;return new c.AnimationClip(u,void 0,l)}))}createNodeMesh(e){const t=this.json,s=this,n=t.nodes[e];return void 0===n.mesh?null:s.getDependency("mesh",n.mesh).then((function(e){const t=s._getNodeRef(s.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,s=n.weights.length;t<s;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}loadNode(e){const t=this.json,s=this.extensions,n=this,i=t.nodes[e],r=i.name?n.createUniqueName(i.name):"";return function(){const t=[],s=n._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));s&&t.push(s),void 0!==i.camera&&t.push(n.getDependency("camera",i.camera).then((function(e){return n._getNodeRef(n.cameraCache,i.camera,e)}))),n._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)}));const r=[],o=i.children||[];for(let e=0,t=o.length;e<t;e++)r.push(n.getDependency("node",o[e]));const a=void 0===i.skin?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([Promise.all(t),Promise.all(r),a])}().then((function(t){const o=t[0],a=t[1],l=t[2];let u;if(u=!0===i.isBone?new c.Bone:o.length>1?new c.Group:1===o.length?o[0]:new c.Object3D,u!==o[0])for(let e=0,t=o.length;e<t;e++)u.add(o[e]);if(i.name&&(u.userData.name=i.name,u.name=r),q(u,i),i.extensions&&X(s,u,i),void 0!==i.matrix){const e=new c.Matrix4;e.fromArray(i.matrix),u.applyMatrix4(e)}else void 0!==i.translation&&u.position.fromArray(i.translation),void 0!==i.rotation&&u.quaternion.fromArray(i.rotation),void 0!==i.scale&&u.scale.fromArray(i.scale);n.associations.has(u)||n.associations.set(u,{}),n.associations.get(u).nodes=e,null!==l&&u.traverse((function(e){e.isSkinnedMesh&&e.bind(l,Q)}));for(let e=0,t=a.length;e<t;e++)u.add(a[e]);return u}))}loadScene(e){const t=this.extensions,s=this.json.scenes[e],n=this,i=new c.Group;s.name&&(i.name=n.createUniqueName(s.name)),q(i,s),s.extensions&&X(t,i,s);const r=s.nodes||[],o=[];for(let e=0,t=r.length;e<t;e++)o.push(n.getDependency("node",r[e]));return Promise.all(o).then((function(e){for(let t=0,s=e.length;t<s;t++)i.add(e[t]);return n.associations=(e=>{const t=new Map;for(const[e,s]of n.associations)(e instanceof c.Material||e instanceof c.Texture)&&t.set(e,s);return e.traverse((e=>{const s=n.associations.get(e);null!=s&&t.set(e,s)})),t})(i),i}))}}function $(e,t,s){const n=t.attributes,i=[];function r(t,n){return s.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(const t in n){const s=j[t]||t.toLowerCase();s in e.attributes||i.push(r(n[t],s))}if(void 0!==t.indices&&!e.index){const n=s.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(n)}return q(e,t),function(e,t,s){const n=t.attributes,i=new c.Box3;if(void 0===n.POSITION)return;{const e=s.json.accessors[n.POSITION],t=e.min,r=e.max;if(void 0===t||void 0===r)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new c.Vector3(t[0],t[1],t[2]),new c.Vector3(r[0],r[1],r[2])),e.normalized){const t=Z(D[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const r=t.targets;if(void 0!==r){const e=new c.Vector3,t=new c.Vector3;for(let n=0,i=r.length;n<i;n++){const i=r[n];if(void 0!==i.POSITION){const n=s.json.accessors[i.POSITION],r=n.min,o=n.max;if(void 0!==r&&void 0!==o){if(t.setX(Math.max(Math.abs(r[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(r[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(r[2]),Math.abs(o[2]))),n.normalized){const e=Z(D[n.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const o=new c.Sphere;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=o}(e,t,s),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,s){let n=!1,i=!1,r=!1;for(let e=0,s=t.length;e<s;e++){const s=t[e];if(void 0!==s.POSITION&&(n=!0),void 0!==s.NORMAL&&(i=!0),void 0!==s.COLOR_0&&(r=!0),n&&i&&r)break}if(!n&&!i&&!r)return Promise.resolve(e);const o=[],a=[],c=[];for(let l=0,u=t.length;l<u;l++){const u=t[l];if(n){const t=void 0!==u.POSITION?s.getDependency("accessor",u.POSITION):e.attributes.position;o.push(t)}if(i){const t=void 0!==u.NORMAL?s.getDependency("accessor",u.NORMAL):e.attributes.normal;a.push(t)}if(r){const t=void 0!==u.COLOR_0?s.getDependency("accessor",u.COLOR_0):e.attributes.color;c.push(t)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c)]).then((function(t){const s=t[0],o=t[1],a=t[2];return n&&(e.morphAttributes.position=s),i&&(e.morphAttributes.normal=o),r&&(e.morphAttributes.color=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,s):e}))}var ee=function(){function t(s){e(this,t),a(this,"y",void 0),a(this,"s",void 0),a(this,"alpha",0),this.setAlpha(s),this.y=null,this.s=null}return o(t,[{key:"setAlpha",value:function(e){if(e<=0||e>1)throw new Error;this.alpha=e}},{key:"filter",value:function(e,t,s){var n;return s&&this.setAlpha(s),n=this.y?this.alpha*e+(1-this.alpha)*this.s:e,this.y=e,this.s=n,n}},{key:"lastValue",value:function(){return this.y}}]),t}(),te=function(){function t(s){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e(this,t),a(this,"freq",void 0),a(this,"minCutOff",void 0),a(this,"beta",void 0),a(this,"dCutOff",void 0),a(this,"x",void 0),a(this,"dx",void 0),a(this,"lasttime",void 0),a(this,"currValue",void 0),a(this,"prevValue",void 0),s<=0||n<=0||r<=0)throw new Error;this.freq=s,this.minCutOff=n,this.beta=i,this.dCutOff=r,this.x=new ee(this.alpha(this.minCutOff)),this.dx=new ee(this.alpha(this.dCutOff)),this.lasttime=null,this.currValue=0,this.prevValue=this.currValue}return o(t,[{key:"alpha",value:function(e){var t=1/this.freq;return 1/(1+1/(2*Math.PI*e)/t)}},{key:"UpdateParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.freq=e,this.minCutOff=t,this.beta=s,this.dCutOff=n,this.x.setAlpha(this.alpha(this.minCutOff)),this.dx.setAlpha(this.alpha(this.dCutOff))}},{key:"Filter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.prevValue=this.currValue,this.lasttime&&t&&(this.freq=1/(t-this.lasttime)),this.lasttime=t;var s=this.x.lastValue(),n=s?(e-s)*this.freq:0,i=this.dx.filter(n,t,this.alpha(this.dCutOff)),r=this.minCutOff+this.beta*Math.abs(i);return this.currValue=this.x.filter(e,t,this.alpha(r))}}]),t}(),se=function(){function t(s){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e(this,t),a(this,"oneEuroFilters",void 0),a(this,"_freq",void 0),a(this,"_beta",void 0),a(this,"_dcutoff",void 0),a(this,"_mincutoff",void 0),a(this,"currValue",void 0),a(this,"prevValue",void 0),this.currValue=new c.Vector3,this.prevValue=new c.Vector3,this._freq=s,this._mincutoff=n,this._beta=i,this._dcutoff=r,this.oneEuroFilters=[],this.oneEuroFilters.push(new te(s,n,i,r)),this.oneEuroFilters.push(new te(s,n,i,r)),this.oneEuroFilters.push(new te(s,n,i,r))}return o(t,[{key:"freq",get:function(){return this._freq}},{key:"beta",get:function(){return this._beta}},{key:"dcutoff",get:function(){return this._dcutoff}},{key:"mincutoff_1",get:function(){return this._mincutoff}},{key:"UpdateParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._freq=e,this._mincutoff=t,this._beta=s,this._dcutoff=n;for(var i=0;i<this.oneEuroFilters.length;i++)this.oneEuroFilters[i].UpdateParams(this._freq,this._mincutoff,this._beta,this._dcutoff)}},{key:"Filter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.prevValue=this.currValue;var s=new c.Vector3,n=s.toArray(),i=e.toArray();this.oneEuroFilters.forEach((function(e,s){n[s]=e.Filter(i[s],t)}));var r=new c.Vector3;return this.currValue=r.fromArray(n)}}]),t}(),ne=function(){function t(s){e(this,t),a(this,"_inDelay",void 0),a(this,"_totalTime",void 0),a(this,"_prevTime",void 0),a(this,"_timeOut",void 0),this._timeOut=s,this._inDelay=!1}return o(t,[{key:"Update",value:function(e){var t=Math.floor(Date.now()/1e3);return this._inDelay||(this._prevTime=t,this._totalTime=0),this._totalTime+=t-this._prevTime,this._inDelay&&this._totalTime>this._timeOut?(this._inDelay=!1,!0):e?(this._inDelay=!0,!1):(this._inDelay=!1,!1)}}]),t}(),ie=function(){function t(){e(this,t),a(this,"delayExitCheck",void 0),a(this,"delayEnterCheck",void 0),a(this,"_hasFound",!1),a(this,"_lastTranslation",void 0),a(this,"_frameDrops",0),a(this,"_deltaAccuracy",10),a(this,"_positionFilter",void 0),a(this,"_rotationFilter",void 0),a(this,"filterFrequency",30),a(this,"filterMinCutoff",1),a(this,"filterBeta",0),a(this,"filterDcutoff",1),this.delayEnterCheck=new ne(2),this.delayExitCheck=new ne(0),this._positionFilter=new se(this.filterFrequency),this._rotationFilter=new se(2*this.filterFrequency)}return o(t,[{key:"update",value:function(e){var t=new c.Vector3,s=new c.Vector3,n=new c.Vector3;if(e){var i=(new c.Matrix4).fromArray(this.getArrayMatrix(e));if(this._hasFound){var r=(new c.Vector3).setFromMatrixPosition(i);if(Math.abs(r.distanceTo(this._lastTranslation))>this._deltaAccuracy)return this._frameDrops+=1,this._frameDrops>3&&(this._lastTranslation=r),[t,s,n];this._frameDrops=0,this._lastTranslation=r}else{this._hasFound=!0;var o=new c.Vector3;this._lastTranslation=o.setFromMatrixPosition(i)}this._positionFilter.UpdateParams(this.filterFrequency,this.filterMinCutoff,this.filterBeta,this.filterDcutoff),this._rotationFilter.UpdateParams(2*this.filterFrequency,this.filterMinCutoff,this.filterBeta,this.filterDcutoff),new c.Matrix4;var a=new c.Quaternion,l=new c.Euler,u=new c.Vector3(0,0,0);i.decompose(u,a,n);var h=l.setFromQuaternion(a),d=new c.Vector3;s=this._rotationFilter.Filter(d.setFromEuler(h)),t=this._positionFilter.Filter(u)}else this._hasFound=!1,this._frameDrops=0;return[t,s,n]}},{key:"getArrayMatrix",value:function(e){var t=[];for(var s in e)t[s]=e[s];return t}}]),t}(),re=function(){function t(s){e(this,t),a(this,"entities",[]),a(this,"names",void 0),a(this,"scene",void 0),a(this,"target",void 0),a(this,"uuid",void 0),a(this,"_filter",void 0),a(this,"_oef",void 0),this.scene=u.getGlobalScene(),this.target=window||n.g,this.uuid=s,this.names=[],this._filter=new ie,this._oef=!1}return o(t,[{key:"add",value:function(e,t,s){var n=this;this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(t){var s=t.detail;e.position.y=s.height/s.dpi*2.54*10/2,e.position.x=s.width/s.dpi*2.54*10/2}));var i=new c.Object3D;i.name="root-"+t,this.scene.add(i),i.add(e),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(t){if(i.visible=!0,e.visible=!0,!0===n._oef){var s=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));s=n._filter.update(t.detail.matrixGL_RH),i.position.setX(s[0].x),i.position.setY(s[0].y),i.position.setZ(s[0].z),i.rotation.setFromVector3(s[1]),i.scale.setX(s[2].x),i.scale.setY(s[2].y),i.scale.setZ(s[2].z)}else{i.matrixAutoUpdate=!1;var r=l.interpolate(t.detail.matrixGL_RH);l.setMatrix(i.matrix,r)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(t){i.visible=s,e.visible=s})),this.names.push(t),this.entities.push({name:t})}},{key:"addModel",value:function(e,t,s,n){var i,r=this,o=new c.Object3D;o.name="root-"+t,this.scene.add(o),(new d).load(e,(function(e){(i=e.scene).scale.set(s,s,s),i.rotation.x=Math.PI/2,r.target.addEventListener("getNFTData-"+r.uuid+"-"+t,(function(e){var t=e.detail;i.position.y=t.height/t.dpi*2.54*10/2,i.position.x=t.width/t.dpi*2.54*10/2})),o.add(i)})),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(o.visible=!0,i.visible=!0,!0===r._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=r._filter.update(e.detail.matrixGL_RH),o.position.setX(t[0].x),o.position.setY(t[0].y),o.position.setZ(t[0].z),o.rotation.setFromVector3(t[1]),o.scale.setX(t[2].x),o.scale.setY(t[2].y),o.scale.setZ(t[2].z)}else{o.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(o.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){o.visible=n,i.visible=n})),this.names.push(t)}},{key:"addModelWithCallback",value:function(e,t,s,n){var i,r=this,o=new c.Object3D;o.name="root-"+t,this.scene.add(o),(new d).load(e,(function(e){i=e.scene,r.target.addEventListener("getNFTData-"+r.uuid+"-"+t,(function(e){var t=e.detail;i.position.y=t.height/t.dpi*2.54*10/2,i.position.x=t.width/t.dpi*2.54*10/2})),s(e),o.add(i)})),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(o.visible=!0,i.visible=!0,!0===r._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=r._filter.update(e.detail.matrixGL_RH),o.position.setX(t[0].x),o.position.setY(t[0].y),o.position.setZ(t[0].z),o.rotation.setFromVector3(t[1]),o.scale.setX(t[2].x),o.scale.setY(t[2].y),o.scale.setZ(t[2].z)}else{o.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(o.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){o.visible=n,i.visible=n})),this.names.push(t)}},{key:"addImage",value:function(e,t,s,n,i,r){var o=this,a=new c.Object3D;a.name="root-"+t,this.scene.add(a);var u=new c.PlaneGeometry(i.w,i.h,i.ws,i.hs),h=(new c.TextureLoader).load(e),d=new c.MeshStandardMaterial({color:s,map:h}),f=new c.Mesh(u,d);f.scale.set(n,n,n),this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(e){var t=e.detail;f.position.y=t.height/t.dpi*2.54*10/2,f.position.x=t.width/t.dpi*2.54*10/2})),a.add(f),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(a.visible=!0,f.visible=!0,!0===o._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=o._filter.update(e.detail.matrixGL_RH),a.position.setX(t[0].x),a.position.setY(t[0].y),a.position.setZ(t[0].z),a.rotation.setFromVector3(t[1]),a.scale.setX(t[2].x),a.scale.setY(t[2].y),a.scale.setZ(t[2].z)}else{a.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(a.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){a.visible=r,f.visible=r})),this.names.push(t)}},{key:"addVideo",value:function(e,t,s,n,i){var r=this,o=new c.Object3D;o.name="root-"+t,this.scene.add(o);var a=document.getElementById(e),u=new c.VideoTexture(a),h=new c.MeshStandardMaterial({color:12303359,map:u}),d=new c.PlaneGeometry(n.w,n.h,n.ws,n.hs),f=new c.Mesh(d,h);f.scale.set(s,s,s),this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(e){var t=e.detail;f.position.y=t.height/t.dpi*2.54*10/2,f.position.x=t.width/t.dpi*2.54*10/2})),o.add(f),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(a.play(),o.visible=!0,f.visible=!0,!0===r._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=r._filter.update(e.detail.matrixGL_RH),o.position.setX(t[0].x),o.position.setY(t[0].y),o.position.setZ(t[0].z),o.rotation.setFromVector3(t[1]),o.scale.setX(t[2].x),o.scale.setY(t[2].y),o.scale.setZ(t[2].z)}else{o.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(o.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){o.visible=i,f.visible=i,a.pause()})),this.names.push(t)}},{key:"getNames",value:function(){return this.names}},{key:"oef",get:function(){return this._oef},set:function(e){this._oef=e}}]),t}();const oe={SceneRendererTJS:u,NFTaddTJS:re}})(),i.default})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a2UsZUFBZWpqQixFQUFPLElBQ3BDNVksRUFBS3VVLE1BQU1tVixLQUFLOVEsRUFBTyxHQUFHd2UsR0FDMUJwM0IsRUFBS3VVLE1BQU1vVixLQUFLL1EsRUFBTyxHQUFHZ1UsR0FDMUI1c0IsRUFBS3VVLE1BQU1xVixLQUFLaFIsRUFBTyxHQUFHZ2pCLE9BQ3ZCLENBQ0g1N0IsRUFBS3lHLGtCQUFtQixFQUN4QixJQUFNbkMsRUFBU1IsRUFBTWc0QixZQUFZbjFCLEVBQUdHLE9BQU82MEIsYUFDM0M3M0IsRUFBTThDLFVBQVU1RyxFQUFLc0UsT0FBUUEsT0FHckMvRCxLQUFLMkMsT0FBT3dELGlCQUFpQixtQkFBcUJuRyxLQUFLdUUsS0FBTyxJQUFNNkksR0FBTSxTQUFDaEgsR0FDdkUzRyxFQUFLeTdCLFFBQVVKLEVBQ2Z1QixFQUFNbkIsUUFBVUosRUFDaEIwQixFQUFRSyxXQUVaNzhCLEtBQUsyNkIsTUFBTTF5QixLQUFLbUYsS0FDbkIsQ0FBQTFNLElBQUEsV0FBQTRDLE1BTU0sV0FDSCxPQUFPdEQsS0FBSzI2QixRQUNmLENBQUFqNkIsSUFBQSxNQUFBSyxJQWFELFdBQ0ksT0FBT2YsS0FBSzY2QixNQUNmMzJCLElBVkQsU0FBZTQ0QixHQUNYOThCLEtBQUs2NkIsS0FBT2lDLE1BQ2ZyQyxFQWpTeUIsR0M3QzlCLFVBQWlCcjJCLGlCQUFBQSxFQUFrQnEyQixVQUFBQSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvZXh0ZXJuYWwgdW1kIHtcImNvbW1vbmpzXCI6XCJ0aHJlZVwiLFwiY29tbW9uanMyXCI6XCJ0aHJlZVwiLFwiYW1kXCI6XCJ0aHJlZVwiLFwicm9vdFwiOlwiVEhSRUVcIn0iLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJvcGVydHlLZXkuanMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJpbWl0aXZlLmpzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vc3JjL3V0aWxzL1V0aWxzLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9TY2VuZVJlbmRlcmVyVEpTLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy90aHJlZS9leGFtcGxlcy9qc20vdXRpbHMvQnVmZmVyR2VvbWV0cnlVdGlscy5qcyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9ub2RlX21vZHVsZXMvdGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qcyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9zcmMvZmlsdGVycy9PbmVFdXJvRmlsdGVyLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9maWx0ZXJzL0RlbGF5YWJsZVNpZ25hbEZpbHRlci50cyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9zcmMvZmlsdGVycy9BUm5mdEZpbHRlci50cyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9zcmMvbWFya2VybWVkaWEvTkZUYWRkVEpTLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ0aHJlZVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJ0aHJlZVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJBUm5mdFRocmVlanNcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJ0aHJlZVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiQVJuZnRUaHJlZWpzXCJdID0gZmFjdG9yeShyb290W1wiVEhSRUVcIl0pO1xufSkodGhpcywgKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzM4MV9fKSA9PiB7XG5yZXR1cm4gIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18zODFfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufSIsImltcG9ydCBfdHlwZW9mIGZyb20gXCIuL3R5cGVvZi5qc1wiO1xuaW1wb3J0IHRvUHJpbWl0aXZlIGZyb20gXCIuL3RvUHJpbWl0aXZlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7XG4gIHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiLi90eXBlb2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlcztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG59IiwiaW1wb3J0IHRvUHJvcGVydHlLZXkgZnJvbSBcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufSIsImltcG9ydCB0b1Byb3BlcnR5S2V5IGZyb20gXCIuL3RvUHJvcGVydHlLZXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAga2V5ID0gdG9Qcm9wZXJ0eUtleShrZXkpO1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbn1cclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHRyYWNrZWRNYXRyaXg6IGFueSA9IHtcclxuICAgICAgICAvLyBmb3IgaW50ZXJwb2xhdGlvblxyXG4gICAgICAgIGRlbHRhOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXHJcbiAgICAgICAgaW50ZXJwb2xhdGVkOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXHJcbiAgICB9O1xyXG4gICAgLy9wcml2YXRlIHN0YXRpYyBpbnRlcnBvbGF0aW9uRmFjdG9yOiBudW1iZXIgPSAyNFxyXG4gICAgc3RhdGljIGludGVycG9sYXRlKHdvcmxkOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uRmFjdG9yID0gMjQ7XHJcblxyXG4gICAgICAgIC8vIGludGVycG9sYXRlIG1hdHJpeFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnRyYWNrZWRNYXRyaXguZGVsdGFbaV0gPSB3b3JsZFtpXSAtIHRoaXMudHJhY2tlZE1hdHJpeC5pbnRlcnBvbGF0ZWRbaV07XHJcbiAgICAgICAgICAgIHRoaXMudHJhY2tlZE1hdHJpeC5pbnRlcnBvbGF0ZWRbaV0gPVxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja2VkTWF0cml4LmludGVycG9sYXRlZFtpXSArIHRoaXMudHJhY2tlZE1hdHJpeC5kZWx0YVtpXSAvIGludGVycG9sYXRpb25GYWN0b3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrZWRNYXRyaXguaW50ZXJwb2xhdGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc01vYmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gL0FuZHJvaWR8bW9iaWxlfGlQYWR8aVBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0TWF0cml4KG1hdHJpeDogYW55LCB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgY29uc3QgYXJyYXk6IGFueSA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGFycmF5W2tleV0gPSB2YWx1ZVtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG1hdHJpeC5lbGVtZW50cy5zZXQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBtYXRyaXguZWxlbWVudHMuc2V0KGFycmF5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXRyaXguZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKGFycmF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHMvVXRpbHNcIjtcclxuXHJcbmludGVyZmFjZSBDb25maWdEYXRhIHtcclxuICAgIGNhbWVyYToge1xyXG4gICAgICAgIGZhcjogbnVtYmVyO1xyXG4gICAgICAgIGZvdjogbnVtYmVyO1xyXG4gICAgICAgIG1hdHJpeEF1dG9VcGRhdGU6IGJvb2xlYW47XHJcbiAgICAgICAgbmVhcjogbnVtYmVyO1xyXG4gICAgICAgIHJhdGlvOiBudW1iZXI7XHJcbiAgICB9O1xyXG4gICAgcmVuZGVyZXI6IHtcclxuICAgICAgICBhbHBoYTogYm9vbGVhbjtcclxuICAgICAgICBhbnRpYWxpYXM6IGJvb2xlYW47XHJcbiAgICAgICAgY29udGV4dDogYW55O1xyXG4gICAgICAgIGRlcHRoOiBib29sZWFuO1xyXG4gICAgICAgIGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6IGJvb2xlYW47XHJcbiAgICAgICAgcHJlY2lzaW9uOiBzdHJpbmc7XHJcbiAgICAgICAgc3RlbmNpbDogYm9vbGVhbjtcclxuICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IGJvb2xlYW47XHJcbiAgICAgICAgb2JqVmlzaWJpbGl0eTogYm9vbGVhbjtcclxuICAgIH07XHJcbn1cclxuXHJcbmludGVyZmFjZSBSb290IGV4dGVuZHMgVEhSRUUuT2JqZWN0M0Qge1xyXG4gICAgLy9tYXRyaXg6IG9iamVjdFxyXG59XHJcblxyXG5pbnRlcmZhY2UgUmVuZGVyZXIge1xyXG4gICAgcmVuZGVyOiAoc2NlbmU6IFRIUkVFLlNjZW5lLCBjYW1lcmE6IFRIUkVFLkNhbWVyYSkgPT4gdm9pZDtcclxuICAgIHNldFBpeGVsUmF0aW86IChwaXhlbFJhdGlvOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBzZXRTaXplOiAodzogbnVtYmVyLCBoOiBudW1iZXIpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBDYW1lcmEgZXh0ZW5kcyBUSFJFRS5DYW1lcmEge1xyXG4gICAgbWF0cml4QXV0b1VwZGF0ZTogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNjZW5lIGV4dGVuZHMgVEhSRUUuU2NlbmUge1xyXG4gICAgYWRkOiAobm9kZTogVEhSRUUuT2JqZWN0M0QpID0+IHRoaXM7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lUmVuZGVyZXJUSlMge1xyXG4gICAgcHVibGljIGNhbnZhc19kcmF3OiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY2FtZXJhOiBDYW1lcmE7XHJcbiAgICBwcml2YXRlIGNvbmZpZ0RhdGE6IENvbmZpZ0RhdGE7XHJcbiAgICBwdWJsaWMgcmVuZGVyZXI6IFJlbmRlcmVyO1xyXG4gICAgcHJpdmF0ZSB1dWlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJvb3Q6IFJvb3Q7XHJcbiAgICBwcml2YXRlIHRhcmdldDogRXZlbnRUYXJnZXQ7XHJcbiAgICBwcml2YXRlIHNjZW5lOiBTY2VuZTtcclxuICAgIHByaXZhdGUgc3RhdGljIGdsb2JhbFNjZW5lOiBTY2VuZTtcclxuICAgIHByaXZhdGUgdmVyc2lvbjogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ0RhdGE6IENvbmZpZ0RhdGEsIGNhbnZhc0RyYXc6IEhUTUxDYW52YXNFbGVtZW50LCB1dWlkOiBzdHJpbmcsIGNhbWVyYUJvb2w6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ0RhdGEgPSBjb25maWdEYXRhO1xyXG4gICAgICAgIHRoaXMudXVpZCA9IHV1aWQ7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB3aW5kb3cgfHwgZ2xvYmFsO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XHJcbiAgICAgICAgICAgIGNhbnZhczogY2FudmFzRHJhdyxcclxuICAgICAgICAgICAgY29udGV4dDogY29uZmlnRGF0YS5yZW5kZXJlci5jb250ZXh0LFxyXG4gICAgICAgICAgICBhbHBoYTogY29uZmlnRGF0YS5yZW5kZXJlci5hbHBoYSxcclxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBjb25maWdEYXRhLnJlbmRlcmVyLnByZW11bHRpcGxpZWRBbHBoYSxcclxuICAgICAgICAgICAgYW50aWFsaWFzOiBjb25maWdEYXRhLnJlbmRlcmVyLmFudGlhbGlhcyxcclxuICAgICAgICAgICAgc3RlbmNpbDogY29uZmlnRGF0YS5yZW5kZXJlci5zdGVuY2lsLFxyXG4gICAgICAgICAgICBwcmVjaXNpb246IGNvbmZpZ0RhdGEucmVuZGVyZXIucHJlY2lzaW9uLFxyXG4gICAgICAgICAgICBkZXB0aDogY29uZmlnRGF0YS5yZW5kZXJlci5kZXB0aCxcclxuICAgICAgICAgICAgbG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcjogY29uZmlnRGF0YS5yZW5kZXJlci5sb2dhcml0aG1pY0RlcHRoQnVmZmVyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgICAgIFNjZW5lUmVuZGVyZXJUSlMuZ2xvYmFsU2NlbmUgPSB0aGlzLnNjZW5lO1xyXG4gICAgICAgIGlmIChjYW1lcmFCb29sID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YS5jYW1lcmEuZm92LFxyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YS5jYW1lcmEucmF0aW8sXHJcbiAgICAgICAgICAgICAgICBjb25maWdEYXRhLmNhbWVyYS5uZWFyLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YS5jYW1lcmEuZmFyXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuQ2FtZXJhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IFwiMC40LjZcIjtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFSbmZ0VGhyZWVqcyB2ZXJzaW9uOiBcIiwgdGhpcy52ZXJzaW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0UmVuZGVyZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRQcm9qZWN0aW9uTWF0cml4XCIsIChldjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIFV0aWxzLnNldE1hdHJpeCh0aGlzLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4LCBldi5kZXRhaWwucHJvaik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5jYW1lcmEpO1xyXG5cclxuICAgICAgICBjb25zdCBsaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldFdpbmRvd1NpemVcIiwgKF9ldjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZShfZXYuZGV0YWlsLnN3LCBfZXYuZGV0YWlsLnNoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2V0SW5pdFJlbmRlcmVyRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJvbkluaXRUaHJlZWpzUmVuZGVyaW5nXCIsIHtcclxuICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJlcjogdGhpcy5yZW5kZXJlcixcclxuICAgICAgICAgICAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxyXG4gICAgICAgICAgICAgICAgY2FtZXJhOiB0aGlzLmNhbWVyYSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRhcmdldC5kaXNwYXRjaEV2ZW50KHNldEluaXRSZW5kZXJlckV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXR0ZXJzXHJcblxyXG4gICAgZ2V0UmVuZGVyZXIoKTogUmVuZGVyZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNjZW5lKCk6IFNjZW5lIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYW1lcmEoKTogQ2FtZXJhIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW1lcmE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEdsb2JhbFNjZW5lKCk6IFNjZW5lIHtcclxuICAgICAgICByZXR1cm4gU2NlbmVSZW5kZXJlclRKUy5nbG9iYWxTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZXR0ZXJzXHJcblxyXG4gICAgc2V0UmVuZGVyZXIocmVuZGVyZXI6IFJlbmRlcmVyKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNjZW5lKHNjZW5lOiBTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDYW1lcmEoY2FtZXJhOiBDYW1lcmEpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB0aWNrIHRvIGJlIGltcGxlbWVudGVkXHJcbiAgICAvKiB0aWNrICgpIHtcclxuICAgIHRoaXMuZHJhdygpXHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudGljaylcclxuICB9Ki9cclxufVxyXG4iLCJpbXBvcnQge1xuXHRCdWZmZXJBdHRyaWJ1dGUsXG5cdEJ1ZmZlckdlb21ldHJ5LFxuXHRGbG9hdDMyQnVmZmVyQXR0cmlidXRlLFxuXHRJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUsXG5cdEludGVybGVhdmVkQnVmZmVyLFxuXHRJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcblx0VHJpYW5nbGVGYW5EcmF3TW9kZSxcblx0VHJpYW5nbGVTdHJpcERyYXdNb2RlLFxuXHRUcmlhbmdsZXNEcmF3TW9kZSxcblx0VmVjdG9yMyxcbn0gZnJvbSAndGhyZWUnO1xuXG5mdW5jdGlvbiBjb21wdXRlVGFuZ2VudHMoKSB7XG5cblx0dGhyb3cgbmV3IEVycm9yKCAnQnVmZmVyR2VvbWV0cnlVdGlsczogY29tcHV0ZVRhbmdlbnRzIHJlbmFtZWQgdG8gY29tcHV0ZU1pa2tUU3BhY2VUYW5nZW50cy4nICk7XG5cbn1cblxuZnVuY3Rpb24gY29tcHV0ZU1pa2tUU3BhY2VUYW5nZW50cyggZ2VvbWV0cnksIE1pa2tUU3BhY2UsIG5lZ2F0ZVNpZ24gPSB0cnVlICkge1xuXG5cdGlmICggISBNaWtrVFNwYWNlIHx8ICEgTWlra1RTcGFjZS5pc1JlYWR5ICkge1xuXG5cdFx0dGhyb3cgbmV3IEVycm9yKCAnQnVmZmVyR2VvbWV0cnlVdGlsczogSW5pdGlhbGl6ZWQgTWlra1RTcGFjZSBsaWJyYXJ5IHJlcXVpcmVkLicgKTtcblxuXHR9XG5cblx0aWYgKCAhIGdlb21ldHJ5Lmhhc0F0dHJpYnV0ZSggJ3Bvc2l0aW9uJyApIHx8ICEgZ2VvbWV0cnkuaGFzQXR0cmlidXRlKCAnbm9ybWFsJyApIHx8ICEgZ2VvbWV0cnkuaGFzQXR0cmlidXRlKCAndXYnICkgKSB7XG5cblx0XHR0aHJvdyBuZXcgRXJyb3IoICdCdWZmZXJHZW9tZXRyeVV0aWxzOiBUYW5nZW50cyByZXF1aXJlIFwicG9zaXRpb25cIiwgXCJub3JtYWxcIiwgYW5kIFwidXZcIiBhdHRyaWJ1dGVzLicgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0QXR0cmlidXRlQXJyYXkoIGF0dHJpYnV0ZSApIHtcblxuXHRcdGlmICggYXR0cmlidXRlLm5vcm1hbGl6ZWQgfHwgYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgKSB7XG5cblx0XHRcdGNvbnN0IGRzdEFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSggYXR0cmlidXRlLmdldENvdW50KCkgKiBhdHRyaWJ1dGUuaXRlbVNpemUgKTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBqID0gMDsgaSA8IGF0dHJpYnV0ZS5nZXRDb3VudCgpOyBpICsrICkge1xuXG5cdFx0XHRcdGRzdEFycmF5WyBqICsrIF0gPSBhdHRyaWJ1dGUuZ2V0WCggaSApO1xuXHRcdFx0XHRkc3RBcnJheVsgaiArKyBdID0gYXR0cmlidXRlLmdldFkoIGkgKTtcblxuXHRcdFx0XHRpZiAoIGF0dHJpYnV0ZS5pdGVtU2l6ZSA+IDIgKSB7XG5cblx0XHRcdFx0XHRkc3RBcnJheVsgaiArKyBdID0gYXR0cmlidXRlLmdldFooIGkgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRzdEFycmF5O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBhdHRyaWJ1dGUuYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgKSB7XG5cblx0XHRcdHJldHVybiBhdHRyaWJ1dGUuYXJyYXk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSggYXR0cmlidXRlLmFycmF5ICk7XG5cblx0fVxuXG5cdC8vIE1pa2tUU3BhY2UgYWxnb3JpdGhtIHJlcXVpcmVzIG5vbi1pbmRleGVkIGlucHV0LlxuXG5cdGNvbnN0IF9nZW9tZXRyeSA9IGdlb21ldHJ5LmluZGV4ID8gZ2VvbWV0cnkudG9Ob25JbmRleGVkKCkgOiBnZW9tZXRyeTtcblxuXHQvLyBDb21wdXRlIHZlcnRleCB0YW5nZW50cy5cblxuXHRjb25zdCB0YW5nZW50cyA9IE1pa2tUU3BhY2UuZ2VuZXJhdGVUYW5nZW50cyhcblxuXHRcdGdldEF0dHJpYnV0ZUFycmF5KCBfZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbiApLFxuXHRcdGdldEF0dHJpYnV0ZUFycmF5KCBfZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwgKSxcblx0XHRnZXRBdHRyaWJ1dGVBcnJheSggX2dlb21ldHJ5LmF0dHJpYnV0ZXMudXYgKVxuXG5cdCk7XG5cblx0Ly8gVGV4dHVyZSBjb29yZGluYXRlIGNvbnZlbnRpb24gb2YgZ2xURiBkaWZmZXJzIGZyb20gdGhlIGFwcGFyZW50XG5cdC8vIGRlZmF1bHQgb2YgdGhlIE1pa2tUU3BhY2UgbGlicmFyeTsgLncgY29tcG9uZW50IG11c3QgYmUgZmxpcHBlZC5cblxuXHRpZiAoIG5lZ2F0ZVNpZ24gKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDM7IGkgPCB0YW5nZW50cy5sZW5ndGg7IGkgKz0gNCApIHtcblxuXHRcdFx0dGFuZ2VudHNbIGkgXSAqPSAtIDE7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vXG5cblx0X2dlb21ldHJ5LnNldEF0dHJpYnV0ZSggJ3RhbmdlbnQnLCBuZXcgQnVmZmVyQXR0cmlidXRlKCB0YW5nZW50cywgNCApICk7XG5cblx0aWYgKCBnZW9tZXRyeSAhPT0gX2dlb21ldHJ5ICkge1xuXG5cdFx0Z2VvbWV0cnkuY29weSggX2dlb21ldHJ5ICk7XG5cblx0fVxuXG5cdHJldHVybiBnZW9tZXRyeTtcblxufVxuXG4vKipcbiAqIEBwYXJhbSAge0FycmF5PEJ1ZmZlckdlb21ldHJ5Pn0gZ2VvbWV0cmllc1xuICogQHBhcmFtICB7Qm9vbGVhbn0gdXNlR3JvdXBzXG4gKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeX1cbiAqL1xuZnVuY3Rpb24gbWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCBnZW9tZXRyaWVzLCB1c2VHcm91cHMgPSBmYWxzZSApIHtcblxuXHRjb25zdCBpc0luZGV4ZWQgPSBnZW9tZXRyaWVzWyAwIF0uaW5kZXggIT09IG51bGw7XG5cblx0Y29uc3QgYXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KCBPYmplY3Qua2V5cyggZ2VvbWV0cmllc1sgMCBdLmF0dHJpYnV0ZXMgKSApO1xuXHRjb25zdCBtb3JwaEF0dHJpYnV0ZXNVc2VkID0gbmV3IFNldCggT2JqZWN0LmtleXMoIGdlb21ldHJpZXNbIDAgXS5tb3JwaEF0dHJpYnV0ZXMgKSApO1xuXG5cdGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcblx0Y29uc3QgbW9ycGhBdHRyaWJ1dGVzID0ge307XG5cblx0Y29uc3QgbW9ycGhUYXJnZXRzUmVsYXRpdmUgPSBnZW9tZXRyaWVzWyAwIF0ubW9ycGhUYXJnZXRzUmVsYXRpdmU7XG5cblx0Y29uc3QgbWVyZ2VkR2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKTtcblxuXHRsZXQgb2Zmc2V0ID0gMDtcblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKysgaSApIHtcblxuXHRcdGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1sgaSBdO1xuXHRcdGxldCBhdHRyaWJ1dGVzQ291bnQgPSAwO1xuXG5cdFx0Ly8gZW5zdXJlIHRoYXQgYWxsIGdlb21ldHJpZXMgYXJlIGluZGV4ZWQsIG9yIG5vbmVcblxuXHRcdGlmICggaXNJbmRleGVkICE9PSAoIGdlb21ldHJ5LmluZGV4ICE9PSBudWxsICkgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArIGkgKyAnLiBBbGwgZ2VvbWV0cmllcyBtdXN0IGhhdmUgY29tcGF0aWJsZSBhdHRyaWJ1dGVzOyBtYWtlIHN1cmUgaW5kZXggYXR0cmlidXRlIGV4aXN0cyBhbW9uZyBhbGwgZ2VvbWV0cmllcywgb3IgaW4gbm9uZSBvZiB0aGVtLicgKTtcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gZ2F0aGVyIGF0dHJpYnV0ZXMsIGV4aXQgZWFybHkgaWYgdGhleSdyZSBkaWZmZXJlbnRcblxuXHRcdGZvciAoIGNvbnN0IG5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcyApIHtcblxuXHRcdFx0aWYgKCAhIGF0dHJpYnV0ZXNVc2VkLmhhcyggbmFtZSApICkge1xuXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArIGkgKyAnLiBBbGwgZ2VvbWV0cmllcyBtdXN0IGhhdmUgY29tcGF0aWJsZSBhdHRyaWJ1dGVzOyBtYWtlIHN1cmUgXCInICsgbmFtZSArICdcIiBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uJyApO1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGF0dHJpYnV0ZXNbIG5hbWUgXSA9PT0gdW5kZWZpbmVkICkgYXR0cmlidXRlc1sgbmFtZSBdID0gW107XG5cblx0XHRcdGF0dHJpYnV0ZXNbIG5hbWUgXS5wdXNoKCBnZW9tZXRyeS5hdHRyaWJ1dGVzWyBuYW1lIF0gKTtcblxuXHRcdFx0YXR0cmlidXRlc0NvdW50ICsrO1xuXG5cdFx0fVxuXG5cdFx0Ly8gZW5zdXJlIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlc1xuXG5cdFx0aWYgKCBhdHRyaWJ1dGVzQ291bnQgIT09IGF0dHJpYnV0ZXNVc2VkLnNpemUgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArIGkgKyAnLiBNYWtlIHN1cmUgYWxsIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlcy4nICk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdC8vIGdhdGhlciBtb3JwaCBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XG5cblx0XHRpZiAoIG1vcnBoVGFyZ2V0c1JlbGF0aXZlICE9PSBnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICsgaSArICcuIC5tb3JwaFRhcmdldHNSZWxhdGl2ZSBtdXN0IGJlIGNvbnNpc3RlbnQgdGhyb3VnaG91dCBhbGwgZ2VvbWV0cmllcy4nICk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGZvciAoIGNvbnN0IG5hbWUgaW4gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzICkge1xuXG5cdFx0XHRpZiAoICEgbW9ycGhBdHRyaWJ1dGVzVXNlZC5oYXMoIG5hbWUgKSApIHtcblxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgKyBpICsgJy4gIC5tb3JwaEF0dHJpYnV0ZXMgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuJyApO1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG1vcnBoQXR0cmlidXRlc1sgbmFtZSBdID09PSB1bmRlZmluZWQgKSBtb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXSA9IFtdO1xuXG5cdFx0XHRtb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXS5wdXNoKCBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB1c2VHcm91cHMgKSB7XG5cblx0XHRcdGxldCBjb3VudDtcblxuXHRcdFx0aWYgKCBpc0luZGV4ZWQgKSB7XG5cblx0XHRcdFx0Y291bnQgPSBnZW9tZXRyeS5pbmRleC5jb3VudDtcblxuXHRcdFx0fSBlbHNlIGlmICggZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGNvdW50ID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgKyBpICsgJy4gVGhlIGdlb21ldHJ5IG11c3QgaGF2ZSBlaXRoZXIgYW4gaW5kZXggb3IgYSBwb3NpdGlvbiBhdHRyaWJ1dGUnICk7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1lcmdlZEdlb21ldHJ5LmFkZEdyb3VwKCBvZmZzZXQsIGNvdW50LCBpICk7XG5cblx0XHRcdG9mZnNldCArPSBjb3VudDtcblxuXHRcdH1cblxuXHR9XG5cblx0Ly8gbWVyZ2UgaW5kaWNlc1xuXG5cdGlmICggaXNJbmRleGVkICkge1xuXG5cdFx0bGV0IGluZGV4T2Zmc2V0ID0gMDtcblx0XHRjb25zdCBtZXJnZWRJbmRleCA9IFtdO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsrIGkgKSB7XG5cblx0XHRcdGNvbnN0IGluZGV4ID0gZ2VvbWV0cmllc1sgaSBdLmluZGV4O1xuXG5cdFx0XHRmb3IgKCBsZXQgaiA9IDA7IGogPCBpbmRleC5jb3VudDsgKysgaiApIHtcblxuXHRcdFx0XHRtZXJnZWRJbmRleC5wdXNoKCBpbmRleC5nZXRYKCBqICkgKyBpbmRleE9mZnNldCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGluZGV4T2Zmc2V0ICs9IGdlb21ldHJpZXNbIGkgXS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O1xuXG5cdFx0fVxuXG5cdFx0bWVyZ2VkR2VvbWV0cnkuc2V0SW5kZXgoIG1lcmdlZEluZGV4ICk7XG5cblx0fVxuXG5cdC8vIG1lcmdlIGF0dHJpYnV0ZXNcblxuXHRmb3IgKCBjb25zdCBuYW1lIGluIGF0dHJpYnV0ZXMgKSB7XG5cblx0XHRjb25zdCBtZXJnZWRBdHRyaWJ1dGUgPSBtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoIGF0dHJpYnV0ZXNbIG5hbWUgXSApO1xuXG5cdFx0aWYgKCAhIG1lcmdlZEF0dHJpYnV0ZSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2hpbGUgdHJ5aW5nIHRvIG1lcmdlIHRoZSAnICsgbmFtZSArICcgYXR0cmlidXRlLicgKTtcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0bWVyZ2VkR2VvbWV0cnkuc2V0QXR0cmlidXRlKCBuYW1lLCBtZXJnZWRBdHRyaWJ1dGUgKTtcblxuXHR9XG5cblx0Ly8gbWVyZ2UgbW9ycGggYXR0cmlidXRlc1xuXG5cdGZvciAoIGNvbnN0IG5hbWUgaW4gbW9ycGhBdHRyaWJ1dGVzICkge1xuXG5cdFx0Y29uc3QgbnVtTW9ycGhUYXJnZXRzID0gbW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF1bIDAgXS5sZW5ndGg7XG5cblx0XHRpZiAoIG51bU1vcnBoVGFyZ2V0cyA9PT0gMCApIGJyZWFrO1xuXG5cdFx0bWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzID0gbWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzIHx8IHt9O1xuXHRcdG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1sgbmFtZSBdID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBudW1Nb3JwaFRhcmdldHM7ICsrIGkgKSB7XG5cblx0XHRcdGNvbnN0IG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UgPSBbXTtcblxuXHRcdFx0Zm9yICggbGV0IGogPSAwOyBqIDwgbW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF0ubGVuZ3RoOyArKyBqICkge1xuXG5cdFx0XHRcdG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UucHVzaCggbW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF1bIGogXVsgaSBdICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbWVyZ2VkTW9ycGhBdHRyaWJ1dGUgPSBtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UgKTtcblxuXHRcdFx0aWYgKCAhIG1lcmdlZE1vcnBoQXR0cmlidXRlICkge1xuXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArIG5hbWUgKyAnIG1vcnBoQXR0cmlidXRlLicgKTtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdH1cblxuXHRcdFx0bWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF0ucHVzaCggbWVyZ2VkTW9ycGhBdHRyaWJ1dGUgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIG1lcmdlZEdlb21ldHJ5O1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJuIHtCdWZmZXJBdHRyaWJ1dGV9XG4gKi9cbmZ1bmN0aW9uIG1lcmdlQnVmZmVyQXR0cmlidXRlcyggYXR0cmlidXRlcyApIHtcblxuXHRsZXQgVHlwZWRBcnJheTtcblx0bGV0IGl0ZW1TaXplO1xuXHRsZXQgbm9ybWFsaXplZDtcblx0bGV0IGFycmF5TGVuZ3RoID0gMDtcblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKysgaSApIHtcblxuXHRcdGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbIGkgXTtcblxuXHRcdGlmICggYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQuJyApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRpZiAoIFR5cGVkQXJyYXkgPT09IHVuZGVmaW5lZCApIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XG5cdFx0aWYgKCBUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUuYXJyYXkgbXVzdCBiZSBvZiBjb25zaXN0ZW50IGFycmF5IHR5cGVzIGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLicgKTtcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBpdGVtU2l6ZSA9PT0gdW5kZWZpbmVkICkgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG5cdFx0aWYgKCBpdGVtU2l6ZSAhPT0gYXR0cmlidXRlLml0ZW1TaXplICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLml0ZW1TaXplIG11c3QgYmUgY29uc2lzdGVudCBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nICk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGlmICggbm9ybWFsaXplZCA9PT0gdW5kZWZpbmVkICkgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZS5ub3JtYWxpemVkO1xuXHRcdGlmICggbm9ybWFsaXplZCAhPT0gYXR0cmlidXRlLm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZCBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJyApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRhcnJheUxlbmd0aCArPSBhdHRyaWJ1dGUuYXJyYXkubGVuZ3RoO1xuXG5cdH1cblxuXHRjb25zdCBhcnJheSA9IG5ldyBUeXBlZEFycmF5KCBhcnJheUxlbmd0aCApO1xuXHRsZXQgb2Zmc2V0ID0gMDtcblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKysgaSApIHtcblxuXHRcdGFycmF5LnNldCggYXR0cmlidXRlc1sgaSBdLmFycmF5LCBvZmZzZXQgKTtcblxuXHRcdG9mZnNldCArPSBhdHRyaWJ1dGVzWyBpIF0uYXJyYXkubGVuZ3RoO1xuXG5cdH1cblxuXHRyZXR1cm4gbmV3IEJ1ZmZlckF0dHJpYnV0ZSggYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkICk7XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0J1ZmZlckF0dHJpYnV0ZX1cbiAqIEByZXR1cm4ge0J1ZmZlckF0dHJpYnV0ZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDbG9uZUF0dHJpYnV0ZSggYXR0cmlidXRlICkge1xuXG5cdGlmICggYXR0cmlidXRlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgfHwgYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgKSB7XG5cblx0XHRyZXR1cm4gZGVpbnRlcmxlYXZlQXR0cmlidXRlKCBhdHRyaWJ1dGUgKTtcblxuXHR9XG5cblx0aWYgKCBhdHRyaWJ1dGUuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUgKSB7XG5cblx0XHRyZXR1cm4gbmV3IEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZSgpLmNvcHkoIGF0dHJpYnV0ZSApO1xuXG5cdH1cblxuXHRyZXR1cm4gbmV3IEJ1ZmZlckF0dHJpYnV0ZSgpLmNvcHkoIGF0dHJpYnV0ZSApO1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJuIHtBcnJheTxJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT59XG4gKi9cbmZ1bmN0aW9uIGludGVybGVhdmVBdHRyaWJ1dGVzKCBhdHRyaWJ1dGVzICkge1xuXG5cdC8vIEludGVybGVhdmVzIHRoZSBwcm92aWRlZCBhdHRyaWJ1dGVzIGludG8gYW4gSW50ZXJsZWF2ZWRCdWZmZXIgYW5kIHJldHVybnNcblx0Ly8gYSBzZXQgb2YgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzIGZvciBlYWNoIGF0dHJpYnV0ZVxuXHRsZXQgVHlwZWRBcnJheTtcblx0bGV0IGFycmF5TGVuZ3RoID0gMDtcblx0bGV0IHN0cmlkZSA9IDA7XG5cblx0Ly8gY2FsY3VsYXRlIHRoZSBsZW5ndGggYW5kIHR5cGUgb2YgdGhlIGludGVybGVhdmVkQnVmZmVyXG5cdGZvciAoIGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbDsgKysgaSApIHtcblxuXHRcdGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbIGkgXTtcblxuXHRcdGlmICggVHlwZWRBcnJheSA9PT0gdW5kZWZpbmVkICkgVHlwZWRBcnJheSA9IGF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3Rvcjtcblx0XHRpZiAoIFR5cGVkQXJyYXkgIT09IGF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3RvciApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ0F0dHJpYnV0ZUJ1ZmZlcnMgb2YgZGlmZmVyZW50IHR5cGVzIGNhbm5vdCBiZSBpbnRlcmxlYXZlZCcgKTtcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0YXJyYXlMZW5ndGggKz0gYXR0cmlidXRlLmFycmF5Lmxlbmd0aDtcblx0XHRzdHJpZGUgKz0gYXR0cmlidXRlLml0ZW1TaXplO1xuXG5cdH1cblxuXHQvLyBDcmVhdGUgdGhlIHNldCBvZiBidWZmZXIgYXR0cmlidXRlc1xuXHRjb25zdCBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlciggbmV3IFR5cGVkQXJyYXkoIGFycmF5TGVuZ3RoICksIHN0cmlkZSApO1xuXHRsZXQgb2Zmc2V0ID0gMDtcblx0Y29uc3QgcmVzID0gW107XG5cdGNvbnN0IGdldHRlcnMgPSBbICdnZXRYJywgJ2dldFknLCAnZ2V0WicsICdnZXRXJyBdO1xuXHRjb25zdCBzZXR0ZXJzID0gWyAnc2V0WCcsICdzZXRZJywgJ3NldFonLCAnc2V0VycgXTtcblxuXHRmb3IgKCBsZXQgaiA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaiA8IGw7IGogKysgKSB7XG5cblx0XHRjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzWyBqIF07XG5cdFx0Y29uc3QgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG5cdFx0Y29uc3QgY291bnQgPSBhdHRyaWJ1dGUuY291bnQ7XG5cdFx0Y29uc3QgaWJhID0gbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKCBpbnRlcmxlYXZlZEJ1ZmZlciwgaXRlbVNpemUsIG9mZnNldCwgYXR0cmlidXRlLm5vcm1hbGl6ZWQgKTtcblx0XHRyZXMucHVzaCggaWJhICk7XG5cblx0XHRvZmZzZXQgKz0gaXRlbVNpemU7XG5cblx0XHQvLyBNb3ZlIHRoZSBkYXRhIGZvciBlYWNoIGF0dHJpYnV0ZSBpbnRvIHRoZSBuZXcgaW50ZXJsZWF2ZWRCdWZmZXJcblx0XHQvLyBhdCB0aGUgYXBwcm9wcmlhdGUgb2Zmc2V0XG5cdFx0Zm9yICggbGV0IGMgPSAwOyBjIDwgY291bnQ7IGMgKysgKSB7XG5cblx0XHRcdGZvciAoIGxldCBrID0gMDsgayA8IGl0ZW1TaXplOyBrICsrICkge1xuXG5cdFx0XHRcdGliYVsgc2V0dGVyc1sgayBdIF0oIGMsIGF0dHJpYnV0ZVsgZ2V0dGVyc1sgayBdIF0oIGMgKSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiByZXM7XG5cbn1cblxuLy8gcmV0dXJucyBhIG5ldywgbm9uLWludGVybGVhdmVkIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIGF0dHJpYnV0ZVxuZXhwb3J0IGZ1bmN0aW9uIGRlaW50ZXJsZWF2ZUF0dHJpYnV0ZSggYXR0cmlidXRlICkge1xuXG5cdGNvbnN0IGNvbnMgPSBhdHRyaWJ1dGUuZGF0YS5hcnJheS5jb25zdHJ1Y3Rvcjtcblx0Y29uc3QgY291bnQgPSBhdHRyaWJ1dGUuY291bnQ7XG5cdGNvbnN0IGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuXHRjb25zdCBub3JtYWxpemVkID0gYXR0cmlidXRlLm5vcm1hbGl6ZWQ7XG5cblx0Y29uc3QgYXJyYXkgPSBuZXcgY29ucyggY291bnQgKiBpdGVtU2l6ZSApO1xuXHRsZXQgbmV3QXR0cmlidXRlO1xuXHRpZiAoIGF0dHJpYnV0ZS5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlICkge1xuXG5cdFx0bmV3QXR0cmlidXRlID0gbmV3IEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZSggYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkLCBhdHRyaWJ1dGUubWVzaFBlckF0dHJpYnV0ZSApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHRuZXdBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKCBhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQgKTtcblxuXHR9XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgY291bnQ7IGkgKysgKSB7XG5cblx0XHRuZXdBdHRyaWJ1dGUuc2V0WCggaSwgYXR0cmlidXRlLmdldFgoIGkgKSApO1xuXG5cdFx0aWYgKCBpdGVtU2l6ZSA+PSAyICkge1xuXG5cdFx0XHRuZXdBdHRyaWJ1dGUuc2V0WSggaSwgYXR0cmlidXRlLmdldFkoIGkgKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBpdGVtU2l6ZSA+PSAzICkge1xuXG5cdFx0XHRuZXdBdHRyaWJ1dGUuc2V0WiggaSwgYXR0cmlidXRlLmdldFooIGkgKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBpdGVtU2l6ZSA+PSA0ICkge1xuXG5cdFx0XHRuZXdBdHRyaWJ1dGUuc2V0VyggaSwgYXR0cmlidXRlLmdldFcoIGkgKSApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gbmV3QXR0cmlidXRlO1xuXG59XG5cbi8vIGRlaW50ZXJsZWF2ZXMgYWxsIGF0dHJpYnV0ZXMgb24gdGhlIGdlb21ldHJ5XG5leHBvcnQgZnVuY3Rpb24gZGVpbnRlcmxlYXZlR2VvbWV0cnkoIGdlb21ldHJ5ICkge1xuXG5cdGNvbnN0IGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuXHRjb25zdCBtb3JwaFRhcmdldHMgPSBnZW9tZXRyeS5tb3JwaFRhcmdldHM7XG5cdGNvbnN0IGF0dHJNYXAgPSBuZXcgTWFwKCk7XG5cblx0Zm9yICggY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMgKSB7XG5cblx0XHRjb25zdCBhdHRyID0gYXR0cmlidXRlc1sga2V5IF07XG5cdFx0aWYgKCBhdHRyLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgKSB7XG5cblx0XHRcdGlmICggISBhdHRyTWFwLmhhcyggYXR0ciApICkge1xuXG5cdFx0XHRcdGF0dHJNYXAuc2V0KCBhdHRyLCBkZWludGVybGVhdmVBdHRyaWJ1dGUoIGF0dHIgKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGF0dHJpYnV0ZXNbIGtleSBdID0gYXR0ck1hcC5nZXQoIGF0dHIgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Zm9yICggY29uc3Qga2V5IGluIG1vcnBoVGFyZ2V0cyApIHtcblxuXHRcdGNvbnN0IGF0dHIgPSBtb3JwaFRhcmdldHNbIGtleSBdO1xuXHRcdGlmICggYXR0ci5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlICkge1xuXG5cdFx0XHRpZiAoICEgYXR0ck1hcC5oYXMoIGF0dHIgKSApIHtcblxuXHRcdFx0XHRhdHRyTWFwLnNldCggYXR0ciwgZGVpbnRlcmxlYXZlQXR0cmlidXRlKCBhdHRyICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtb3JwaFRhcmdldHNbIGtleSBdID0gYXR0ck1hcC5nZXQoIGF0dHIgKTtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PEJ1ZmZlckdlb21ldHJ5Pn0gZ2VvbWV0cnlcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZXN0aW1hdGVCeXRlc1VzZWQoIGdlb21ldHJ5ICkge1xuXG5cdC8vIFJldHVybiB0aGUgZXN0aW1hdGVkIG1lbW9yeSB1c2VkIGJ5IHRoaXMgZ2VvbWV0cnkgaW4gYnl0ZXNcblx0Ly8gQ2FsY3VsYXRlIHVzaW5nIGl0ZW1TaXplLCBjb3VudCwgYW5kIEJZVEVTX1BFUl9FTEVNRU5UIHRvIGFjY291bnRcblx0Ly8gZm9yIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcy5cblx0bGV0IG1lbSA9IDA7XG5cdGZvciAoIGNvbnN0IG5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcyApIHtcblxuXHRcdGNvbnN0IGF0dHIgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRtZW0gKz0gYXR0ci5jb3VudCAqIGF0dHIuaXRlbVNpemUgKiBhdHRyLmFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xuXG5cdH1cblxuXHRjb25zdCBpbmRpY2VzID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcblx0bWVtICs9IGluZGljZXMgPyBpbmRpY2VzLmNvdW50ICogaW5kaWNlcy5pdGVtU2l6ZSAqIGluZGljZXMuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgOiAwO1xuXHRyZXR1cm4gbWVtO1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2VcbiAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5fVxuICovXG5mdW5jdGlvbiBtZXJnZVZlcnRpY2VzKCBnZW9tZXRyeSwgdG9sZXJhbmNlID0gMWUtNCApIHtcblxuXHR0b2xlcmFuY2UgPSBNYXRoLm1heCggdG9sZXJhbmNlLCBOdW1iZXIuRVBTSUxPTiApO1xuXG5cdC8vIEdlbmVyYXRlIGFuIGluZGV4IGJ1ZmZlciBpZiB0aGUgZ2VvbWV0cnkgZG9lc24ndCBoYXZlIG9uZSwgb3Igb3B0aW1pemUgaXRcblx0Ly8gaWYgaXQncyBhbHJlYWR5IGF2YWlsYWJsZS5cblx0Y29uc3QgaGFzaFRvSW5kZXggPSB7fTtcblx0Y29uc3QgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cdGNvbnN0IHBvc2l0aW9ucyA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJyApO1xuXHRjb25zdCB2ZXJ0ZXhDb3VudCA9IGluZGljZXMgPyBpbmRpY2VzLmNvdW50IDogcG9zaXRpb25zLmNvdW50O1xuXG5cdC8vIG5leHQgdmFsdWUgZm9yIHRyaWFuZ2xlIGluZGljZXNcblx0bGV0IG5leHRJbmRleCA9IDA7XG5cblx0Ly8gYXR0cmlidXRlcyBhbmQgbmV3IGF0dHJpYnV0ZSBhcnJheXNcblx0Y29uc3QgYXR0cmlidXRlTmFtZXMgPSBPYmplY3Qua2V5cyggZ2VvbWV0cnkuYXR0cmlidXRlcyApO1xuXHRjb25zdCB0bXBBdHRyaWJ1dGVzID0ge307XG5cdGNvbnN0IHRtcE1vcnBoQXR0cmlidXRlcyA9IHt9O1xuXHRjb25zdCBuZXdJbmRpY2VzID0gW107XG5cdGNvbnN0IGdldHRlcnMgPSBbICdnZXRYJywgJ2dldFknLCAnZ2V0WicsICdnZXRXJyBdO1xuXHRjb25zdCBzZXR0ZXJzID0gWyAnc2V0WCcsICdzZXRZJywgJ3NldFonLCAnc2V0VycgXTtcblxuXHQvLyBJbml0aWFsaXplIHRoZSBhcnJheXMsIGFsbG9jYXRpbmcgc3BhY2UgY29uc2VydmF0aXZlbHkuIEV4dHJhXG5cdC8vIHNwYWNlIHdpbGwgYmUgdHJpbW1lZCBpbiB0aGUgbGFzdCBzdGVwLlxuXHRmb3IgKCBsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0Y29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzWyBpIF07XG5cdFx0Y29uc3QgYXR0ciA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbIG5hbWUgXTtcblxuXHRcdHRtcEF0dHJpYnV0ZXNbIG5hbWUgXSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoXG5cdFx0XHRuZXcgYXR0ci5hcnJheS5jb25zdHJ1Y3RvciggYXR0ci5jb3VudCAqIGF0dHIuaXRlbVNpemUgKSxcblx0XHRcdGF0dHIuaXRlbVNpemUsXG5cdFx0XHRhdHRyLm5vcm1hbGl6ZWRcblx0XHQpO1xuXG5cdFx0Y29uc3QgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF07XG5cdFx0aWYgKCBtb3JwaEF0dHIgKSB7XG5cblx0XHRcdHRtcE1vcnBoQXR0cmlidXRlc1sgbmFtZSBdID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcblx0XHRcdFx0bmV3IG1vcnBoQXR0ci5hcnJheS5jb25zdHJ1Y3RvciggbW9ycGhBdHRyLmNvdW50ICogbW9ycGhBdHRyLml0ZW1TaXplICksXG5cdFx0XHRcdG1vcnBoQXR0ci5pdGVtU2l6ZSxcblx0XHRcdFx0bW9ycGhBdHRyLm5vcm1hbGl6ZWRcblx0XHRcdCk7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vIGNvbnZlcnQgdGhlIGVycm9yIHRvbGVyYW5jZSB0byBhbiBhbW91bnQgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdHJ1bmNhdGUgdG9cblx0Y29uc3QgZGVjaW1hbFNoaWZ0ID0gTWF0aC5sb2cxMCggMSAvIHRvbGVyYW5jZSApO1xuXHRjb25zdCBzaGlmdE11bHRpcGxpZXIgPSBNYXRoLnBvdyggMTAsIGRlY2ltYWxTaGlmdCApO1xuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgaSArKyApIHtcblxuXHRcdGNvbnN0IGluZGV4ID0gaW5kaWNlcyA/IGluZGljZXMuZ2V0WCggaSApIDogaTtcblxuXHRcdC8vIEdlbmVyYXRlIGEgaGFzaCBmb3IgdGhlIHZlcnRleCBhdHRyaWJ1dGVzIGF0IHRoZSBjdXJyZW50IGluZGV4ICdpJ1xuXHRcdGxldCBoYXNoID0gJyc7XG5cdFx0Zm9yICggbGV0IGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaiArKyApIHtcblxuXHRcdFx0Y29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzWyBqIF07XG5cdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdGNvbnN0IGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuXG5cdFx0XHRmb3IgKCBsZXQgayA9IDA7IGsgPCBpdGVtU2l6ZTsgayArKyApIHtcblxuXHRcdFx0XHQvLyBkb3VibGUgdGlsZGUgdHJ1bmNhdGVzIHRoZSBkZWNpbWFsIHZhbHVlXG5cdFx0XHRcdGhhc2ggKz0gYCR7IH4gfiAoIGF0dHJpYnV0ZVsgZ2V0dGVyc1sgayBdIF0oIGluZGV4ICkgKiBzaGlmdE11bHRpcGxpZXIgKSB9LGA7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIEFkZCBhbm90aGVyIHJlZmVyZW5jZSB0byB0aGUgdmVydGV4IGlmIGl0J3MgYWxyZWFkeVxuXHRcdC8vIHVzZWQgYnkgYW5vdGhlciBpbmRleFxuXHRcdGlmICggaGFzaCBpbiBoYXNoVG9JbmRleCApIHtcblxuXHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBoYXNoVG9JbmRleFsgaGFzaCBdICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBjb3B5IGRhdGEgdG8gdGhlIG5ldyBpbmRleCBpbiB0aGUgdGVtcG9yYXJ5IGF0dHJpYnV0ZXNcblx0XHRcdGZvciAoIGxldCBqID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaiA8IGw7IGogKysgKSB7XG5cblx0XHRcdFx0Y29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzWyBqIF07XG5cdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0XHRjb25zdCBtb3JwaEF0dHIgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXTtcblx0XHRcdFx0Y29uc3QgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG5cdFx0XHRcdGNvbnN0IG5ld2FycmF5ID0gdG1wQXR0cmlidXRlc1sgbmFtZSBdO1xuXHRcdFx0XHRjb25zdCBuZXdNb3JwaEFycmF5cyA9IHRtcE1vcnBoQXR0cmlidXRlc1sgbmFtZSBdO1xuXG5cdFx0XHRcdGZvciAoIGxldCBrID0gMDsgayA8IGl0ZW1TaXplOyBrICsrICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgZ2V0dGVyRnVuYyA9IGdldHRlcnNbIGsgXTtcblx0XHRcdFx0XHRjb25zdCBzZXR0ZXJGdW5jID0gc2V0dGVyc1sgayBdO1xuXHRcdFx0XHRcdG5ld2FycmF5WyBzZXR0ZXJGdW5jIF0oIG5leHRJbmRleCwgYXR0cmlidXRlWyBnZXR0ZXJGdW5jIF0oIGluZGV4ICkgKTtcblxuXHRcdFx0XHRcdGlmICggbW9ycGhBdHRyICkge1xuXG5cdFx0XHRcdFx0XHRmb3IgKCBsZXQgbSA9IDAsIG1sID0gbW9ycGhBdHRyLmxlbmd0aDsgbSA8IG1sOyBtICsrICkge1xuXG5cdFx0XHRcdFx0XHRcdG5ld01vcnBoQXJyYXlzWyBtIF1bIHNldHRlckZ1bmMgXSggbmV4dEluZGV4LCBtb3JwaEF0dHJbIG0gXVsgZ2V0dGVyRnVuYyBdKCBpbmRleCApICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aGFzaFRvSW5kZXhbIGhhc2ggXSA9IG5leHRJbmRleDtcblx0XHRcdG5ld0luZGljZXMucHVzaCggbmV4dEluZGV4ICk7XG5cdFx0XHRuZXh0SW5kZXggKys7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vIGdlbmVyYXRlIHJlc3VsdCBCdWZmZXJHZW9tZXRyeVxuXHRjb25zdCByZXN1bHQgPSBnZW9tZXRyeS5jbG9uZSgpO1xuXHRmb3IgKCBjb25zdCBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMgKSB7XG5cblx0XHRjb25zdCB0bXBBdHRyaWJ1dGUgPSB0bXBBdHRyaWJ1dGVzWyBuYW1lIF07XG5cblx0XHRyZXN1bHQuc2V0QXR0cmlidXRlKCBuYW1lLCBuZXcgQnVmZmVyQXR0cmlidXRlKFxuXHRcdFx0dG1wQXR0cmlidXRlLmFycmF5LnNsaWNlKCAwLCBuZXh0SW5kZXggKiB0bXBBdHRyaWJ1dGUuaXRlbVNpemUgKSxcblx0XHRcdHRtcEF0dHJpYnV0ZS5pdGVtU2l6ZSxcblx0XHRcdHRtcEF0dHJpYnV0ZS5ub3JtYWxpemVkLFxuXHRcdCkgKTtcblxuXHRcdGlmICggISAoIG5hbWUgaW4gdG1wTW9ycGhBdHRyaWJ1dGVzICkgKSBjb250aW51ZTtcblxuXHRcdGZvciAoIGxldCBqID0gMDsgaiA8IHRtcE1vcnBoQXR0cmlidXRlc1sgbmFtZSBdLmxlbmd0aDsgaiArKyApIHtcblxuXHRcdFx0Y29uc3QgdG1wTW9ycGhBdHRyaWJ1dGUgPSB0bXBNb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXVsgaiBdO1xuXG5cdFx0XHRyZXN1bHQubW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF1bIGogXSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoXG5cdFx0XHRcdHRtcE1vcnBoQXR0cmlidXRlLmFycmF5LnNsaWNlKCAwLCBuZXh0SW5kZXggKiB0bXBNb3JwaEF0dHJpYnV0ZS5pdGVtU2l6ZSApLFxuXHRcdFx0XHR0bXBNb3JwaEF0dHJpYnV0ZS5pdGVtU2l6ZSxcblx0XHRcdFx0dG1wTW9ycGhBdHRyaWJ1dGUubm9ybWFsaXplZCxcblx0XHRcdCk7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vIGluZGljZXNcblxuXHRyZXN1bHQuc2V0SW5kZXgoIG5ld0luZGljZXMgKTtcblxuXHRyZXR1cm4gcmVzdWx0O1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkcmF3TW9kZVxuICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XG4gKi9cbmZ1bmN0aW9uIHRvVHJpYW5nbGVzRHJhd01vZGUoIGdlb21ldHJ5LCBkcmF3TW9kZSApIHtcblxuXHRpZiAoIGRyYXdNb2RlID09PSBUcmlhbmdsZXNEcmF3TW9kZSApIHtcblxuXHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBHZW9tZXRyeSBhbHJlYWR5IGRlZmluZWQgYXMgdHJpYW5nbGVzLicgKTtcblx0XHRyZXR1cm4gZ2VvbWV0cnk7XG5cblx0fVxuXG5cdGlmICggZHJhd01vZGUgPT09IFRyaWFuZ2xlRmFuRHJhd01vZGUgfHwgZHJhd01vZGUgPT09IFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSApIHtcblxuXHRcdGxldCBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cblx0XHQvLyBnZW5lcmF0ZSBpbmRleCBpZiBub3QgcHJlc2VudFxuXG5cdFx0aWYgKCBpbmRleCA9PT0gbnVsbCApIHtcblxuXHRcdFx0Y29uc3QgaW5kaWNlcyA9IFtdO1xuXG5cdFx0XHRjb25zdCBwb3NpdGlvbiA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJyApO1xuXG5cdFx0XHRpZiAoIHBvc2l0aW9uICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgcG9zaXRpb24uY291bnQ7IGkgKysgKSB7XG5cblx0XHRcdFx0XHRpbmRpY2VzLnB1c2goIGkgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2VvbWV0cnkuc2V0SW5kZXgoIGluZGljZXMgKTtcblx0XHRcdFx0aW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5kZWZpbmVkIHBvc2l0aW9uIGF0dHJpYnV0ZS4gUHJvY2Vzc2luZyBub3QgcG9zc2libGUuJyApO1xuXHRcdFx0XHRyZXR1cm4gZ2VvbWV0cnk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vXG5cblx0XHRjb25zdCBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcblx0XHRjb25zdCBuZXdJbmRpY2VzID0gW107XG5cblx0XHRpZiAoIGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlICkge1xuXG5cdFx0XHQvLyBnbC5UUklBTkdMRV9GQU5cblxuXHRcdFx0Zm9yICggbGV0IGkgPSAxOyBpIDw9IG51bWJlck9mVHJpYW5nbGVzOyBpICsrICkge1xuXG5cdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggMCApICk7XG5cdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSApICk7XG5cdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSArIDEgKSApO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBnbC5UUklBTkdMRV9TVFJJUFxuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBudW1iZXJPZlRyaWFuZ2xlczsgaSArKyApIHtcblxuXHRcdFx0XHRpZiAoIGkgJSAyID09PSAwICkge1xuXG5cdFx0XHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICkgKTtcblx0XHRcdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAxICkgKTtcblx0XHRcdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAyICkgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICsgMiApICk7XG5cdFx0XHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICsgMSApICk7XG5cdFx0XHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICkgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICggKCBuZXdJbmRpY2VzLmxlbmd0aCAvIDMgKSAhPT0gbnVtYmVyT2ZUcmlhbmdsZXMgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5hYmxlIHRvIGdlbmVyYXRlIGNvcnJlY3QgYW1vdW50IG9mIHRyaWFuZ2xlcy4nICk7XG5cblx0XHR9XG5cblx0XHQvLyBidWlsZCBmaW5hbCBnZW9tZXRyeVxuXG5cdFx0Y29uc3QgbmV3R2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpO1xuXHRcdG5ld0dlb21ldHJ5LnNldEluZGV4KCBuZXdJbmRpY2VzICk7XG5cdFx0bmV3R2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcblxuXHRcdHJldHVybiBuZXdHZW9tZXRyeTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmtub3duIGRyYXcgbW9kZTonLCBkcmF3TW9kZSApO1xuXHRcdHJldHVybiBnZW9tZXRyeTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBtb3JwaGVkIGF0dHJpYnV0ZXMgb2YgYSBtb3JwaGVkL3NraW5uZWQgQnVmZmVyR2VvbWV0cnkuXG4gKiBIZWxwZnVsIGZvciBSYXl0cmFjaW5nIG9yIERlY2Fscy5cbiAqIEBwYXJhbSB7TWVzaCB8IExpbmUgfCBQb2ludHN9IG9iamVjdCBBbiBpbnN0YW5jZSBvZiBNZXNoLCBMaW5lIG9yIFBvaW50cy5cbiAqIEByZXR1cm4ge09iamVjdH0gQW4gT2JqZWN0IHdpdGggb3JpZ2luYWwgcG9zaXRpb24vbm9ybWFsIGF0dHJpYnV0ZXMgYW5kIG1vcnBoZWQgb25lcy5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZU1vcnBoZWRBdHRyaWJ1dGVzKCBvYmplY3QgKSB7XG5cblx0aWYgKCBvYmplY3QuZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSAhPT0gdHJ1ZSApIHtcblxuXHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiBHZW9tZXRyeSBpcyBub3Qgb2YgdHlwZSBCdWZmZXJHZW9tZXRyeS4nICk7XG5cdFx0cmV0dXJuIG51bGw7XG5cblx0fVxuXG5cdGNvbnN0IF92QSA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IF92QiA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IF92QyA9IG5ldyBWZWN0b3IzKCk7XG5cblx0Y29uc3QgX3RlbXBBID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgX3RlbXBCID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgX3RlbXBDID0gbmV3IFZlY3RvcjMoKTtcblxuXHRjb25zdCBfbW9ycGhBID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgX21vcnBoQiA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IF9tb3JwaEMgPSBuZXcgVmVjdG9yMygpO1xuXG5cdGZ1bmN0aW9uIF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcblx0XHRvYmplY3QsXG5cdFx0YXR0cmlidXRlLFxuXHRcdG1vcnBoQXR0cmlidXRlLFxuXHRcdG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxuXHRcdGEsXG5cdFx0Yixcblx0XHRjLFxuXHRcdG1vZGlmaWVkQXR0cmlidXRlQXJyYXlcblx0KSB7XG5cblx0XHRfdkEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBhICk7XG5cdFx0X3ZCLmZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgYiApO1xuXHRcdF92Qy5mcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUsIGMgKTtcblxuXHRcdGNvbnN0IG1vcnBoSW5mbHVlbmNlcyA9IG9iamVjdC5tb3JwaFRhcmdldEluZmx1ZW5jZXM7XG5cblx0XHRpZiAoIG1vcnBoQXR0cmlidXRlICYmIG1vcnBoSW5mbHVlbmNlcyApIHtcblxuXHRcdFx0X21vcnBoQS5zZXQoIDAsIDAsIDAgKTtcblx0XHRcdF9tb3JwaEIuc2V0KCAwLCAwLCAwICk7XG5cdFx0XHRfbW9ycGhDLnNldCggMCwgMCwgMCApO1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbW9ycGhBdHRyaWJ1dGUubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0Y29uc3QgaW5mbHVlbmNlID0gbW9ycGhJbmZsdWVuY2VzWyBpIF07XG5cdFx0XHRcdGNvbnN0IG1vcnBoID0gbW9ycGhBdHRyaWJ1dGVbIGkgXTtcblxuXHRcdFx0XHRpZiAoIGluZmx1ZW5jZSA9PT0gMCApIGNvbnRpbnVlO1xuXG5cdFx0XHRcdF90ZW1wQS5mcm9tQnVmZmVyQXR0cmlidXRlKCBtb3JwaCwgYSApO1xuXHRcdFx0XHRfdGVtcEIuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggbW9ycGgsIGIgKTtcblx0XHRcdFx0X3RlbXBDLmZyb21CdWZmZXJBdHRyaWJ1dGUoIG1vcnBoLCBjICk7XG5cblx0XHRcdFx0aWYgKCBtb3JwaFRhcmdldHNSZWxhdGl2ZSApIHtcblxuXHRcdFx0XHRcdF9tb3JwaEEuYWRkU2NhbGVkVmVjdG9yKCBfdGVtcEEsIGluZmx1ZW5jZSApO1xuXHRcdFx0XHRcdF9tb3JwaEIuYWRkU2NhbGVkVmVjdG9yKCBfdGVtcEIsIGluZmx1ZW5jZSApO1xuXHRcdFx0XHRcdF9tb3JwaEMuYWRkU2NhbGVkVmVjdG9yKCBfdGVtcEMsIGluZmx1ZW5jZSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRfbW9ycGhBLmFkZFNjYWxlZFZlY3RvciggX3RlbXBBLnN1YiggX3ZBICksIGluZmx1ZW5jZSApO1xuXHRcdFx0XHRcdF9tb3JwaEIuYWRkU2NhbGVkVmVjdG9yKCBfdGVtcEIuc3ViKCBfdkIgKSwgaW5mbHVlbmNlICk7XG5cdFx0XHRcdFx0X21vcnBoQy5hZGRTY2FsZWRWZWN0b3IoIF90ZW1wQy5zdWIoIF92QyApLCBpbmZsdWVuY2UgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0X3ZBLmFkZCggX21vcnBoQSApO1xuXHRcdFx0X3ZCLmFkZCggX21vcnBoQiApO1xuXHRcdFx0X3ZDLmFkZCggX21vcnBoQyApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBvYmplY3QuaXNTa2lubmVkTWVzaCApIHtcblxuXHRcdFx0b2JqZWN0LmJvbmVUcmFuc2Zvcm0oIGEsIF92QSApO1xuXHRcdFx0b2JqZWN0LmJvbmVUcmFuc2Zvcm0oIGIsIF92QiApO1xuXHRcdFx0b2JqZWN0LmJvbmVUcmFuc2Zvcm0oIGMsIF92QyApO1xuXG5cdFx0fVxuXG5cdFx0bW9kaWZpZWRBdHRyaWJ1dGVBcnJheVsgYSAqIDMgKyAwIF0gPSBfdkEueDtcblx0XHRtb2RpZmllZEF0dHJpYnV0ZUFycmF5WyBhICogMyArIDEgXSA9IF92QS55O1xuXHRcdG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbIGEgKiAzICsgMiBdID0gX3ZBLno7XG5cdFx0bW9kaWZpZWRBdHRyaWJ1dGVBcnJheVsgYiAqIDMgKyAwIF0gPSBfdkIueDtcblx0XHRtb2RpZmllZEF0dHJpYnV0ZUFycmF5WyBiICogMyArIDEgXSA9IF92Qi55O1xuXHRcdG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbIGIgKiAzICsgMiBdID0gX3ZCLno7XG5cdFx0bW9kaWZpZWRBdHRyaWJ1dGVBcnJheVsgYyAqIDMgKyAwIF0gPSBfdkMueDtcblx0XHRtb2RpZmllZEF0dHJpYnV0ZUFycmF5WyBjICogMyArIDEgXSA9IF92Qy55O1xuXHRcdG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbIGMgKiAzICsgMiBdID0gX3ZDLno7XG5cblx0fVxuXG5cdGNvbnN0IGdlb21ldHJ5ID0gb2JqZWN0Lmdlb21ldHJ5O1xuXHRjb25zdCBtYXRlcmlhbCA9IG9iamVjdC5tYXRlcmlhbDtcblxuXHRsZXQgYSwgYiwgYztcblx0Y29uc3QgaW5kZXggPSBnZW9tZXRyeS5pbmRleDtcblx0Y29uc3QgcG9zaXRpb25BdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXHRjb25zdCBtb3JwaFBvc2l0aW9uID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXHRjb25zdCBtb3JwaFRhcmdldHNSZWxhdGl2ZSA9IGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlO1xuXHRjb25zdCBub3JtYWxBdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbDtcblx0Y29uc3QgbW9ycGhOb3JtYWwgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247XG5cblx0Y29uc3QgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xuXHRjb25zdCBkcmF3UmFuZ2UgPSBnZW9tZXRyeS5kcmF3UmFuZ2U7XG5cdGxldCBpLCBqLCBpbCwgamw7XG5cdGxldCBncm91cDtcblx0bGV0IHN0YXJ0LCBlbmQ7XG5cblx0Y29uc3QgbW9kaWZpZWRQb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoIHBvc2l0aW9uQXR0cmlidXRlLmNvdW50ICogcG9zaXRpb25BdHRyaWJ1dGUuaXRlbVNpemUgKTtcblx0Y29uc3QgbW9kaWZpZWROb3JtYWwgPSBuZXcgRmxvYXQzMkFycmF5KCBub3JtYWxBdHRyaWJ1dGUuY291bnQgKiBub3JtYWxBdHRyaWJ1dGUuaXRlbVNpemUgKTtcblxuXHRpZiAoIGluZGV4ICE9PSBudWxsICkge1xuXG5cdFx0Ly8gaW5kZXhlZCBidWZmZXIgZ2VvbWV0cnlcblxuXHRcdGlmICggQXJyYXkuaXNBcnJheSggbWF0ZXJpYWwgKSApIHtcblxuXHRcdFx0Zm9yICggaSA9IDAsIGlsID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdGdyb3VwID0gZ3JvdXBzWyBpIF07XG5cblx0XHRcdFx0c3RhcnQgPSBNYXRoLm1heCggZ3JvdXAuc3RhcnQsIGRyYXdSYW5nZS5zdGFydCApO1xuXHRcdFx0XHRlbmQgPSBNYXRoLm1pbiggKCBncm91cC5zdGFydCArIGdyb3VwLmNvdW50ICksICggZHJhd1JhbmdlLnN0YXJ0ICsgZHJhd1JhbmdlLmNvdW50ICkgKTtcblxuXHRcdFx0XHRmb3IgKCBqID0gc3RhcnQsIGpsID0gZW5kOyBqIDwgamw7IGogKz0gMyApIHtcblxuXHRcdFx0XHRcdGEgPSBpbmRleC5nZXRYKCBqICk7XG5cdFx0XHRcdFx0YiA9IGluZGV4LmdldFgoIGogKyAxICk7XG5cdFx0XHRcdFx0YyA9IGluZGV4LmdldFgoIGogKyAyICk7XG5cblx0XHRcdFx0XHRfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXG5cdFx0XHRcdFx0XHRvYmplY3QsXG5cdFx0XHRcdFx0XHRwb3NpdGlvbkF0dHJpYnV0ZSxcblx0XHRcdFx0XHRcdG1vcnBoUG9zaXRpb24sXG5cdFx0XHRcdFx0XHRtb3JwaFRhcmdldHNSZWxhdGl2ZSxcblx0XHRcdFx0XHRcdGEsIGIsIGMsXG5cdFx0XHRcdFx0XHRtb2RpZmllZFBvc2l0aW9uXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcblx0XHRcdFx0XHRcdG9iamVjdCxcblx0XHRcdFx0XHRcdG5vcm1hbEF0dHJpYnV0ZSxcblx0XHRcdFx0XHRcdG1vcnBoTm9ybWFsLFxuXHRcdFx0XHRcdFx0bW9ycGhUYXJnZXRzUmVsYXRpdmUsXG5cdFx0XHRcdFx0XHRhLCBiLCBjLFxuXHRcdFx0XHRcdFx0bW9kaWZpZWROb3JtYWxcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0c3RhcnQgPSBNYXRoLm1heCggMCwgZHJhd1JhbmdlLnN0YXJ0ICk7XG5cdFx0XHRlbmQgPSBNYXRoLm1pbiggaW5kZXguY291bnQsICggZHJhd1JhbmdlLnN0YXJ0ICsgZHJhd1JhbmdlLmNvdW50ICkgKTtcblxuXHRcdFx0Zm9yICggaSA9IHN0YXJ0LCBpbCA9IGVuZDsgaSA8IGlsOyBpICs9IDMgKSB7XG5cblx0XHRcdFx0YSA9IGluZGV4LmdldFgoIGkgKTtcblx0XHRcdFx0YiA9IGluZGV4LmdldFgoIGkgKyAxICk7XG5cdFx0XHRcdGMgPSBpbmRleC5nZXRYKCBpICsgMiApO1xuXG5cdFx0XHRcdF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcblx0XHRcdFx0XHRvYmplY3QsXG5cdFx0XHRcdFx0cG9zaXRpb25BdHRyaWJ1dGUsXG5cdFx0XHRcdFx0bW9ycGhQb3NpdGlvbixcblx0XHRcdFx0XHRtb3JwaFRhcmdldHNSZWxhdGl2ZSxcblx0XHRcdFx0XHRhLCBiLCBjLFxuXHRcdFx0XHRcdG1vZGlmaWVkUG9zaXRpb25cblx0XHRcdFx0KTtcblxuXHRcdFx0XHRfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXG5cdFx0XHRcdFx0b2JqZWN0LFxuXHRcdFx0XHRcdG5vcm1hbEF0dHJpYnV0ZSxcblx0XHRcdFx0XHRtb3JwaE5vcm1hbCxcblx0XHRcdFx0XHRtb3JwaFRhcmdldHNSZWxhdGl2ZSxcblx0XHRcdFx0XHRhLCBiLCBjLFxuXHRcdFx0XHRcdG1vZGlmaWVkTm9ybWFsXG5cdFx0XHRcdCk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gbm9uLWluZGV4ZWQgYnVmZmVyIGdlb21ldHJ5XG5cblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG1hdGVyaWFsICkgKSB7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRncm91cCA9IGdyb3Vwc1sgaSBdO1xuXG5cdFx0XHRcdHN0YXJ0ID0gTWF0aC5tYXgoIGdyb3VwLnN0YXJ0LCBkcmF3UmFuZ2Uuc3RhcnQgKTtcblx0XHRcdFx0ZW5kID0gTWF0aC5taW4oICggZ3JvdXAuc3RhcnQgKyBncm91cC5jb3VudCApLCAoIGRyYXdSYW5nZS5zdGFydCArIGRyYXdSYW5nZS5jb3VudCApICk7XG5cblx0XHRcdFx0Zm9yICggaiA9IHN0YXJ0LCBqbCA9IGVuZDsgaiA8IGpsOyBqICs9IDMgKSB7XG5cblx0XHRcdFx0XHRhID0gajtcblx0XHRcdFx0XHRiID0gaiArIDE7XG5cdFx0XHRcdFx0YyA9IGogKyAyO1xuXG5cdFx0XHRcdFx0X2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxuXHRcdFx0XHRcdFx0b2JqZWN0LFxuXHRcdFx0XHRcdFx0cG9zaXRpb25BdHRyaWJ1dGUsXG5cdFx0XHRcdFx0XHRtb3JwaFBvc2l0aW9uLFxuXHRcdFx0XHRcdFx0bW9ycGhUYXJnZXRzUmVsYXRpdmUsXG5cdFx0XHRcdFx0XHRhLCBiLCBjLFxuXHRcdFx0XHRcdFx0bW9kaWZpZWRQb3NpdGlvblxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXG5cdFx0XHRcdFx0XHRvYmplY3QsXG5cdFx0XHRcdFx0XHRub3JtYWxBdHRyaWJ1dGUsXG5cdFx0XHRcdFx0XHRtb3JwaE5vcm1hbCxcblx0XHRcdFx0XHRcdG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxuXHRcdFx0XHRcdFx0YSwgYiwgYyxcblx0XHRcdFx0XHRcdG1vZGlmaWVkTm9ybWFsXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHN0YXJ0ID0gTWF0aC5tYXgoIDAsIGRyYXdSYW5nZS5zdGFydCApO1xuXHRcdFx0ZW5kID0gTWF0aC5taW4oIHBvc2l0aW9uQXR0cmlidXRlLmNvdW50LCAoIGRyYXdSYW5nZS5zdGFydCArIGRyYXdSYW5nZS5jb3VudCApICk7XG5cblx0XHRcdGZvciAoIGkgPSBzdGFydCwgaWwgPSBlbmQ7IGkgPCBpbDsgaSArPSAzICkge1xuXG5cdFx0XHRcdGEgPSBpO1xuXHRcdFx0XHRiID0gaSArIDE7XG5cdFx0XHRcdGMgPSBpICsgMjtcblxuXHRcdFx0XHRfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXG5cdFx0XHRcdFx0b2JqZWN0LFxuXHRcdFx0XHRcdHBvc2l0aW9uQXR0cmlidXRlLFxuXHRcdFx0XHRcdG1vcnBoUG9zaXRpb24sXG5cdFx0XHRcdFx0bW9ycGhUYXJnZXRzUmVsYXRpdmUsXG5cdFx0XHRcdFx0YSwgYiwgYyxcblx0XHRcdFx0XHRtb2RpZmllZFBvc2l0aW9uXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0X2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxuXHRcdFx0XHRcdG9iamVjdCxcblx0XHRcdFx0XHRub3JtYWxBdHRyaWJ1dGUsXG5cdFx0XHRcdFx0bW9ycGhOb3JtYWwsXG5cdFx0XHRcdFx0bW9ycGhUYXJnZXRzUmVsYXRpdmUsXG5cdFx0XHRcdFx0YSwgYiwgYyxcblx0XHRcdFx0XHRtb2RpZmllZE5vcm1hbFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdGNvbnN0IG1vcnBoZWRQb3NpdGlvbkF0dHJpYnV0ZSA9IG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBtb2RpZmllZFBvc2l0aW9uLCAzICk7XG5cdGNvbnN0IG1vcnBoZWROb3JtYWxBdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggbW9kaWZpZWROb3JtYWwsIDMgKTtcblxuXHRyZXR1cm4ge1xuXG5cdFx0cG9zaXRpb25BdHRyaWJ1dGU6IHBvc2l0aW9uQXR0cmlidXRlLFxuXHRcdG5vcm1hbEF0dHJpYnV0ZTogbm9ybWFsQXR0cmlidXRlLFxuXHRcdG1vcnBoZWRQb3NpdGlvbkF0dHJpYnV0ZTogbW9ycGhlZFBvc2l0aW9uQXR0cmlidXRlLFxuXHRcdG1vcnBoZWROb3JtYWxBdHRyaWJ1dGU6IG1vcnBoZWROb3JtYWxBdHRyaWJ1dGVcblxuXHR9O1xuXG59XG5cbmZ1bmN0aW9uIG1lcmdlR3JvdXBzKCBnZW9tZXRyeSApIHtcblxuXHRpZiAoIGdlb21ldHJ5Lmdyb3Vwcy5sZW5ndGggPT09IDAgKSB7XG5cblx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLm1lcmdlR3JvdXBzKCk6IE5vIGdyb3VwcyBhcmUgZGVmaW5lZC4gTm90aGluZyB0byBtZXJnZS4nICk7XG5cdFx0cmV0dXJuIGdlb21ldHJ5O1xuXG5cdH1cblxuXHRsZXQgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xuXG5cdC8vIHNvcnQgZ3JvdXBzIGJ5IG1hdGVyaWFsIGluZGV4XG5cblx0Z3JvdXBzID0gZ3JvdXBzLnNvcnQoICggYSwgYiApID0+IHtcblxuXHRcdGlmICggYS5tYXRlcmlhbEluZGV4ICE9PSBiLm1hdGVyaWFsSW5kZXggKSByZXR1cm4gYS5tYXRlcmlhbEluZGV4IC0gYi5tYXRlcmlhbEluZGV4O1xuXG5cdFx0cmV0dXJuIGEuc3RhcnQgLSBiLnN0YXJ0O1xuXG5cdH0gKTtcblxuXHQvLyBjcmVhdGUgaW5kZXggZm9yIG5vbi1pbmRleGVkIGdlb21ldHJpZXNcblxuXHRpZiAoIGdlb21ldHJ5LmdldEluZGV4KCkgPT09IG51bGwgKSB7XG5cblx0XHRjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJyApO1xuXHRcdGNvbnN0IGluZGljZXMgPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHBvc2l0aW9uQXR0cmlidXRlLmNvdW50OyBpICs9IDMgKSB7XG5cblx0XHRcdGluZGljZXMucHVzaCggaSwgaSArIDEsIGkgKyAyICk7XG5cblx0XHR9XG5cblx0XHRnZW9tZXRyeS5zZXRJbmRleCggaW5kaWNlcyApO1xuXG5cdH1cblxuXHQvLyBzb3J0IGluZGV4XG5cblx0Y29uc3QgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXG5cdGNvbnN0IG5ld0luZGljZXMgPSBbXTtcblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0Y29uc3QgZ3JvdXAgPSBncm91cHNbIGkgXTtcblxuXHRcdGNvbnN0IGdyb3VwU3RhcnQgPSBncm91cC5zdGFydDtcblx0XHRjb25zdCBncm91cExlbmd0aCA9IGdyb3VwU3RhcnQgKyBncm91cC5jb3VudDtcblxuXHRcdGZvciAoIGxldCBqID0gZ3JvdXBTdGFydDsgaiA8IGdyb3VwTGVuZ3RoOyBqICsrICkge1xuXG5cdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGogKSApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRnZW9tZXRyeS5kaXNwb3NlKCk7IC8vIFJlcXVpcmVkIHRvIGZvcmNlIGJ1ZmZlciByZWNyZWF0aW9uXG5cdGdlb21ldHJ5LnNldEluZGV4KCBuZXdJbmRpY2VzICk7XG5cblx0Ly8gdXBkYXRlIGdyb3VwcyBpbmRpY2VzXG5cblx0bGV0IHN0YXJ0ID0gMDtcblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0Y29uc3QgZ3JvdXAgPSBncm91cHNbIGkgXTtcblxuXHRcdGdyb3VwLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0c3RhcnQgKz0gZ3JvdXAuY291bnQ7XG5cblx0fVxuXG5cdC8vIG1lcmdlIGdyb3Vwc1xuXG5cdGxldCBjdXJyZW50R3JvdXAgPSBncm91cHNbIDAgXTtcblxuXHRnZW9tZXRyeS5ncm91cHMgPSBbIGN1cnJlbnRHcm91cCBdO1xuXG5cdGZvciAoIGxldCBpID0gMTsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRjb25zdCBncm91cCA9IGdyb3Vwc1sgaSBdO1xuXG5cdFx0aWYgKCBjdXJyZW50R3JvdXAubWF0ZXJpYWxJbmRleCA9PT0gZ3JvdXAubWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdFx0Y3VycmVudEdyb3VwLmNvdW50ICs9IGdyb3VwLmNvdW50O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y3VycmVudEdyb3VwID0gZ3JvdXA7XG5cdFx0XHRnZW9tZXRyeS5ncm91cHMucHVzaCggY3VycmVudEdyb3VwICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBnZW9tZXRyeTtcblxufVxuXG5cbi8vIENyZWF0ZXMgYSBuZXcsIG5vbi1pbmRleGVkIGdlb21ldHJ5IHdpdGggc21vb3RoIG5vcm1hbHMgZXZlcnl3aGVyZSBleGNlcHQgZmFjZXMgdGhhdCBtZWV0IGF0XG4vLyBhbiBhbmdsZSBncmVhdGVyIHRoYW4gdGhlIGNyZWFzZSBhbmdsZS5cbmZ1bmN0aW9uIHRvQ3JlYXNlZE5vcm1hbHMoIGdlb21ldHJ5LCBjcmVhc2VBbmdsZSA9IE1hdGguUEkgLyAzIC8qIDYwIGRlZ3JlZXMgKi8gKSB7XG5cblx0Y29uc3QgY3JlYXNlRG90ID0gTWF0aC5jb3MoIGNyZWFzZUFuZ2xlICk7XG5cdGNvbnN0IGhhc2hNdWx0aXBsaWVyID0gKCAxICsgMWUtMTAgKSAqIDFlMjtcblxuXHQvLyByZXVzYWJsZSB2ZXJ0b3JzXG5cdGNvbnN0IHZlcnRzID0gWyBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpIF07XG5cdGNvbnN0IHRlbXBWZWMxID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgdGVtcFZlYzIgPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCB0ZW1wTm9ybSA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IHRlbXBOb3JtMiA9IG5ldyBWZWN0b3IzKCk7XG5cblx0Ly8gaGFzaGVzIGEgdmVjdG9yXG5cdGZ1bmN0aW9uIGhhc2hWZXJ0ZXgoIHYgKSB7XG5cblx0XHRjb25zdCB4ID0gfiB+ICggdi54ICogaGFzaE11bHRpcGxpZXIgKTtcblx0XHRjb25zdCB5ID0gfiB+ICggdi55ICogaGFzaE11bHRpcGxpZXIgKTtcblx0XHRjb25zdCB6ID0gfiB+ICggdi56ICogaGFzaE11bHRpcGxpZXIgKTtcblx0XHRyZXR1cm4gYCR7eH0sJHt5fSwke3p9YDtcblxuXHR9XG5cblx0Y29uc3QgcmVzdWx0R2VvbWV0cnkgPSBnZW9tZXRyeS50b05vbkluZGV4ZWQoKTtcblx0Y29uc3QgcG9zQXR0ciA9IHJlc3VsdEdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cdGNvbnN0IHZlcnRleE1hcCA9IHt9O1xuXG5cdC8vIGZpbmQgYWxsIHRoZSBub3JtYWxzIHNoYXJlZCBieSBjb21tb25seSBsb2NhdGVkIHZlcnRpY2VzXG5cdGZvciAoIGxldCBpID0gMCwgbCA9IHBvc0F0dHIuY291bnQgLyAzOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdGNvbnN0IGkzID0gMyAqIGk7XG5cdFx0Y29uc3QgYSA9IHZlcnRzWyAwIF0uZnJvbUJ1ZmZlckF0dHJpYnV0ZSggcG9zQXR0ciwgaTMgKyAwICk7XG5cdFx0Y29uc3QgYiA9IHZlcnRzWyAxIF0uZnJvbUJ1ZmZlckF0dHJpYnV0ZSggcG9zQXR0ciwgaTMgKyAxICk7XG5cdFx0Y29uc3QgYyA9IHZlcnRzWyAyIF0uZnJvbUJ1ZmZlckF0dHJpYnV0ZSggcG9zQXR0ciwgaTMgKyAyICk7XG5cblx0XHR0ZW1wVmVjMS5zdWJWZWN0b3JzKCBjLCBiICk7XG5cdFx0dGVtcFZlYzIuc3ViVmVjdG9ycyggYSwgYiApO1xuXG5cdFx0Ly8gYWRkIHRoZSBub3JtYWwgdG8gdGhlIG1hcCBmb3IgYWxsIHZlcnRpY2VzXG5cdFx0Y29uc3Qgbm9ybWFsID0gbmV3IFZlY3RvcjMoKS5jcm9zc1ZlY3RvcnMoIHRlbXBWZWMxLCB0ZW1wVmVjMiApLm5vcm1hbGl6ZSgpO1xuXHRcdGZvciAoIGxldCBuID0gMDsgbiA8IDM7IG4gKysgKSB7XG5cblx0XHRcdGNvbnN0IHZlcnQgPSB2ZXJ0c1sgbiBdO1xuXHRcdFx0Y29uc3QgaGFzaCA9IGhhc2hWZXJ0ZXgoIHZlcnQgKTtcblx0XHRcdGlmICggISAoIGhhc2ggaW4gdmVydGV4TWFwICkgKSB7XG5cblx0XHRcdFx0dmVydGV4TWFwWyBoYXNoIF0gPSBbXTtcblxuXHRcdFx0fVxuXG5cdFx0XHR2ZXJ0ZXhNYXBbIGhhc2ggXS5wdXNoKCBub3JtYWwgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Ly8gYXZlcmFnZSBub3JtYWxzIGZyb20gYWxsIHZlcnRpY2VzIHRoYXQgc2hhcmUgYSBjb21tb24gbG9jYXRpb24gaWYgdGhleSBhcmUgd2l0aGluIHRoZVxuXHQvLyBwcm92aWRlZCBjcmVhc2UgdGhyZXNob2xkXG5cdGNvbnN0IG5vcm1hbEFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSggcG9zQXR0ci5jb3VudCAqIDMgKTtcblx0Y29uc3Qgbm9ybUF0dHIgPSBuZXcgQnVmZmVyQXR0cmlidXRlKCBub3JtYWxBcnJheSwgMywgZmFsc2UgKTtcblx0Zm9yICggbGV0IGkgPSAwLCBsID0gcG9zQXR0ci5jb3VudCAvIDM7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0Ly8gZ2V0IHRoZSBmYWNlIG5vcm1hbCBmb3IgdGhpcyB2ZXJ0ZXhcblx0XHRjb25zdCBpMyA9IDMgKiBpO1xuXHRcdGNvbnN0IGEgPSB2ZXJ0c1sgMCBdLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc0F0dHIsIGkzICsgMCApO1xuXHRcdGNvbnN0IGIgPSB2ZXJ0c1sgMSBdLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc0F0dHIsIGkzICsgMSApO1xuXHRcdGNvbnN0IGMgPSB2ZXJ0c1sgMiBdLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc0F0dHIsIGkzICsgMiApO1xuXG5cdFx0dGVtcFZlYzEuc3ViVmVjdG9ycyggYywgYiApO1xuXHRcdHRlbXBWZWMyLnN1YlZlY3RvcnMoIGEsIGIgKTtcblxuXHRcdHRlbXBOb3JtLmNyb3NzVmVjdG9ycyggdGVtcFZlYzEsIHRlbXBWZWMyICkubm9ybWFsaXplKCk7XG5cblx0XHQvLyBhdmVyYWdlIGFsbCBub3JtYWxzIHRoYXQgbWVldCB0aGUgdGhyZXNob2xkIGFuZCBzZXQgdGhlIG5vcm1hbCB2YWx1ZVxuXHRcdGZvciAoIGxldCBuID0gMDsgbiA8IDM7IG4gKysgKSB7XG5cblx0XHRcdGNvbnN0IHZlcnQgPSB2ZXJ0c1sgbiBdO1xuXHRcdFx0Y29uc3QgaGFzaCA9IGhhc2hWZXJ0ZXgoIHZlcnQgKTtcblx0XHRcdGNvbnN0IG90aGVyTm9ybWFscyA9IHZlcnRleE1hcFsgaGFzaCBdO1xuXHRcdFx0dGVtcE5vcm0yLnNldCggMCwgMCwgMCApO1xuXG5cdFx0XHRmb3IgKCBsZXQgayA9IDAsIGxrID0gb3RoZXJOb3JtYWxzLmxlbmd0aDsgayA8IGxrOyBrICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IG90aGVyTm9ybSA9IG90aGVyTm9ybWFsc1sgayBdO1xuXHRcdFx0XHRpZiAoIHRlbXBOb3JtLmRvdCggb3RoZXJOb3JtICkgPiBjcmVhc2VEb3QgKSB7XG5cblx0XHRcdFx0XHR0ZW1wTm9ybTIuYWRkKCBvdGhlck5vcm0gKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0dGVtcE5vcm0yLm5vcm1hbGl6ZSgpO1xuXHRcdFx0bm9ybUF0dHIuc2V0WFlaKCBpMyArIG4sIHRlbXBOb3JtMi54LCB0ZW1wTm9ybTIueSwgdGVtcE5vcm0yLnogKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmVzdWx0R2VvbWV0cnkuc2V0QXR0cmlidXRlKCAnbm9ybWFsJywgbm9ybUF0dHIgKTtcblx0cmV0dXJuIHJlc3VsdEdlb21ldHJ5O1xuXG59XG5cbmV4cG9ydCB7XG5cdGNvbXB1dGVUYW5nZW50cyxcblx0Y29tcHV0ZU1pa2tUU3BhY2VUYW5nZW50cyxcblx0bWVyZ2VCdWZmZXJHZW9tZXRyaWVzLFxuXHRtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMsXG5cdGludGVybGVhdmVBdHRyaWJ1dGVzLFxuXHRlc3RpbWF0ZUJ5dGVzVXNlZCxcblx0bWVyZ2VWZXJ0aWNlcyxcblx0dG9UcmlhbmdsZXNEcmF3TW9kZSxcblx0Y29tcHV0ZU1vcnBoZWRBdHRyaWJ1dGVzLFxuXHRtZXJnZUdyb3Vwcyxcblx0dG9DcmVhc2VkTm9ybWFsc1xufTtcbiIsImltcG9ydCB7XG5cdEFuaW1hdGlvbkNsaXAsXG5cdEJvbmUsXG5cdEJveDMsXG5cdEJ1ZmZlckF0dHJpYnV0ZSxcblx0QnVmZmVyR2VvbWV0cnksXG5cdENsYW1wVG9FZGdlV3JhcHBpbmcsXG5cdENvbG9yLFxuXHREaXJlY3Rpb25hbExpZ2h0LFxuXHREb3VibGVTaWRlLFxuXHRGaWxlTG9hZGVyLFxuXHRGcm9udFNpZGUsXG5cdEdyb3VwLFxuXHRJbWFnZUJpdG1hcExvYWRlcixcblx0SW5zdGFuY2VkTWVzaCxcblx0SW50ZXJsZWF2ZWRCdWZmZXIsXG5cdEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxuXHRJbnRlcnBvbGFudCxcblx0SW50ZXJwb2xhdGVEaXNjcmV0ZSxcblx0SW50ZXJwb2xhdGVMaW5lYXIsXG5cdExpbmUsXG5cdExpbmVCYXNpY01hdGVyaWFsLFxuXHRMaW5lTG9vcCxcblx0TGluZVNlZ21lbnRzLFxuXHRMaW5lYXJGaWx0ZXIsXG5cdExpbmVhck1pcG1hcExpbmVhckZpbHRlcixcblx0TGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcblx0TG9hZGVyLFxuXHRMb2FkZXJVdGlscyxcblx0TWF0ZXJpYWwsXG5cdE1hdGhVdGlscyxcblx0TWF0cml4NCxcblx0TWVzaCxcblx0TWVzaEJhc2ljTWF0ZXJpYWwsXG5cdE1lc2hQaHlzaWNhbE1hdGVyaWFsLFxuXHRNZXNoU3RhbmRhcmRNYXRlcmlhbCxcblx0TWlycm9yZWRSZXBlYXRXcmFwcGluZyxcblx0TmVhcmVzdEZpbHRlcixcblx0TmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcblx0TmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXG5cdE51bWJlcktleWZyYW1lVHJhY2ssXG5cdE9iamVjdDNELFxuXHRPcnRob2dyYXBoaWNDYW1lcmEsXG5cdFBlcnNwZWN0aXZlQ2FtZXJhLFxuXHRQb2ludExpZ2h0LFxuXHRQb2ludHMsXG5cdFBvaW50c01hdGVyaWFsLFxuXHRQcm9wZXJ0eUJpbmRpbmcsXG5cdFF1YXRlcm5pb24sXG5cdFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFxuXHRSZXBlYXRXcmFwcGluZyxcblx0U2tlbGV0b24sXG5cdFNraW5uZWRNZXNoLFxuXHRTcGhlcmUsXG5cdFNwb3RMaWdodCxcblx0VGV4dHVyZSxcblx0VGV4dHVyZUxvYWRlcixcblx0VHJpYW5nbGVGYW5EcmF3TW9kZSxcblx0VHJpYW5nbGVTdHJpcERyYXdNb2RlLFxuXHRWZWN0b3IyLFxuXHRWZWN0b3IzLFxuXHRWZWN0b3JLZXlmcmFtZVRyYWNrLFxuXHRzUkdCRW5jb2Rpbmdcbn0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgdG9UcmlhbmdsZXNEcmF3TW9kZSB9IGZyb20gJy4uL3V0aWxzL0J1ZmZlckdlb21ldHJ5VXRpbHMuanMnO1xuXG5jbGFzcyBHTFRGTG9hZGVyIGV4dGVuZHMgTG9hZGVyIHtcblxuXHRjb25zdHJ1Y3RvciggbWFuYWdlciApIHtcblxuXHRcdHN1cGVyKCBtYW5hZ2VyICk7XG5cblx0XHR0aGlzLmRyYWNvTG9hZGVyID0gbnVsbDtcblx0XHR0aGlzLmt0eDJMb2FkZXIgPSBudWxsO1xuXHRcdHRoaXMubWVzaG9wdERlY29kZXIgPSBudWxsO1xuXG5cdFx0dGhpcy5wbHVnaW5DYWxsYmFja3MgPSBbXTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURlRleHR1cmVCYXNpc1VFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURlRleHR1cmVXZWJQRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNTaGVlbkV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzVHJhbnNtaXNzaW9uRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNWb2x1bWVFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1hdGVyaWFsc0lvckV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzRW1pc3NpdmVTdHJlbmd0aEV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzU3BlY3VsYXJFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1hdGVyaWFsc0lyaWRlc2NlbmNlRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZMaWdodHNFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1lc2hvcHRDb21wcmVzc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWVzaEdwdUluc3RhbmNpbmcoIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHRsb2FkKCB1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvciApIHtcblxuXHRcdGNvbnN0IHNjb3BlID0gdGhpcztcblxuXHRcdGxldCByZXNvdXJjZVBhdGg7XG5cblx0XHRpZiAoIHRoaXMucmVzb3VyY2VQYXRoICE9PSAnJyApIHtcblxuXHRcdFx0cmVzb3VyY2VQYXRoID0gdGhpcy5yZXNvdXJjZVBhdGg7XG5cblx0XHR9IGVsc2UgaWYgKCB0aGlzLnBhdGggIT09ICcnICkge1xuXG5cdFx0XHRyZXNvdXJjZVBhdGggPSB0aGlzLnBhdGg7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXNvdXJjZVBhdGggPSBMb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSggdXJsICk7XG5cblx0XHR9XG5cblx0XHQvLyBUZWxscyB0aGUgTG9hZGluZ01hbmFnZXIgdG8gdHJhY2sgYW4gZXh0cmEgaXRlbSwgd2hpY2ggcmVzb2x2ZXMgYWZ0ZXJcblx0XHQvLyB0aGUgbW9kZWwgaXMgZnVsbHkgbG9hZGVkLiBUaGlzIG1lYW5zIHRoZSBjb3VudCBvZiBpdGVtcyBsb2FkZWQgd2lsbFxuXHRcdC8vIGJlIGluY29ycmVjdCwgYnV0IGVuc3VyZXMgbWFuYWdlci5vbkxvYWQoKSBkb2VzIG5vdCBmaXJlIGVhcmx5LlxuXHRcdHRoaXMubWFuYWdlci5pdGVtU3RhcnQoIHVybCApO1xuXG5cdFx0Y29uc3QgX29uRXJyb3IgPSBmdW5jdGlvbiAoIGUgKSB7XG5cblx0XHRcdGlmICggb25FcnJvciApIHtcblxuXHRcdFx0XHRvbkVycm9yKCBlICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Y29uc29sZS5lcnJvciggZSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKCB1cmwgKTtcblx0XHRcdHNjb3BlLm1hbmFnZXIuaXRlbUVuZCggdXJsICk7XG5cblx0XHR9O1xuXG5cdFx0Y29uc3QgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoIHRoaXMubWFuYWdlciApO1xuXG5cdFx0bG9hZGVyLnNldFBhdGgoIHRoaXMucGF0aCApO1xuXHRcdGxvYWRlci5zZXRSZXNwb25zZVR5cGUoICdhcnJheWJ1ZmZlcicgKTtcblx0XHRsb2FkZXIuc2V0UmVxdWVzdEhlYWRlciggdGhpcy5yZXF1ZXN0SGVhZGVyICk7XG5cdFx0bG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyggdGhpcy53aXRoQ3JlZGVudGlhbHMgKTtcblxuXHRcdGxvYWRlci5sb2FkKCB1cmwsIGZ1bmN0aW9uICggZGF0YSApIHtcblxuXHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRzY29wZS5wYXJzZSggZGF0YSwgcmVzb3VyY2VQYXRoLCBmdW5jdGlvbiAoIGdsdGYgKSB7XG5cblx0XHRcdFx0XHRvbkxvYWQoIGdsdGYgKTtcblxuXHRcdFx0XHRcdHNjb3BlLm1hbmFnZXIuaXRlbUVuZCggdXJsICk7XG5cblx0XHRcdFx0fSwgX29uRXJyb3IgKTtcblxuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0X29uRXJyb3IoIGUgKTtcblxuXHRcdFx0fVxuXG5cdFx0fSwgb25Qcm9ncmVzcywgX29uRXJyb3IgKTtcblxuXHR9XG5cblx0c2V0RFJBQ09Mb2FkZXIoIGRyYWNvTG9hZGVyICkge1xuXG5cdFx0dGhpcy5kcmFjb0xvYWRlciA9IGRyYWNvTG9hZGVyO1xuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRERFNMb2FkZXIoKSB7XG5cblx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cblx0XHRcdCdUSFJFRS5HTFRGTG9hZGVyOiBcIk1TRlRfdGV4dHVyZV9kZHNcIiBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXBkYXRlIHRvIFwiS0hSX3RleHR1cmVfYmFzaXN1XCIuJ1xuXG5cdFx0KTtcblxuXHR9XG5cblx0c2V0S1RYMkxvYWRlcigga3R4MkxvYWRlciApIHtcblxuXHRcdHRoaXMua3R4MkxvYWRlciA9IGt0eDJMb2FkZXI7XG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldE1lc2hvcHREZWNvZGVyKCBtZXNob3B0RGVjb2RlciApIHtcblxuXHRcdHRoaXMubWVzaG9wdERlY29kZXIgPSBtZXNob3B0RGVjb2Rlcjtcblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmVnaXN0ZXIoIGNhbGxiYWNrICkge1xuXG5cdFx0aWYgKCB0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKCBjYWxsYmFjayApID09PSAtIDEgKSB7XG5cblx0XHRcdHRoaXMucGx1Z2luQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dW5yZWdpc3RlciggY2FsbGJhY2sgKSB7XG5cblx0XHRpZiAoIHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoIGNhbGxiYWNrICkgIT09IC0gMSApIHtcblxuXHRcdFx0dGhpcy5wbHVnaW5DYWxsYmFja3Muc3BsaWNlKCB0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKCBjYWxsYmFjayApLCAxICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cGFyc2UoIGRhdGEsIHBhdGgsIG9uTG9hZCwgb25FcnJvciApIHtcblxuXHRcdGxldCBqc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB7fTtcblx0XHRjb25zdCBwbHVnaW5zID0ge307XG5cdFx0Y29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcblxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICkge1xuXG5cdFx0XHRqc29uID0gSlNPTi5wYXJzZSggZGF0YSApO1xuXG5cdFx0fSBlbHNlIGlmICggZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyICkge1xuXG5cdFx0XHRjb25zdCBtYWdpYyA9IHRleHREZWNvZGVyLmRlY29kZSggbmV3IFVpbnQ4QXJyYXkoIGRhdGEsIDAsIDQgKSApO1xuXG5cdFx0XHRpZiAoIG1hZ2ljID09PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyApIHtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0ZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEYgXSA9IG5ldyBHTFRGQmluYXJ5RXh0ZW5zaW9uKCBkYXRhICk7XG5cblx0XHRcdFx0fSBjYXRjaCAoIGVycm9yICkge1xuXG5cdFx0XHRcdFx0aWYgKCBvbkVycm9yICkgb25FcnJvciggZXJyb3IgKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGpzb24gPSBKU09OLnBhcnNlKCBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURiBdLmNvbnRlbnQgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRqc29uID0gSlNPTi5wYXJzZSggdGV4dERlY29kZXIuZGVjb2RlKCBkYXRhICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0anNvbiA9IGRhdGE7XG5cblx0XHR9XG5cblx0XHRpZiAoIGpzb24uYXNzZXQgPT09IHVuZGVmaW5lZCB8fCBqc29uLmFzc2V0LnZlcnNpb25bIDAgXSA8IDIgKSB7XG5cblx0XHRcdGlmICggb25FcnJvciApIG9uRXJyb3IoIG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuJyApICk7XG5cdFx0XHRyZXR1cm47XG5cblx0XHR9XG5cblx0XHRjb25zdCBwYXJzZXIgPSBuZXcgR0xURlBhcnNlcigganNvbiwge1xuXG5cdFx0XHRwYXRoOiBwYXRoIHx8IHRoaXMucmVzb3VyY2VQYXRoIHx8ICcnLFxuXHRcdFx0Y3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sXG5cdFx0XHRyZXF1ZXN0SGVhZGVyOiB0aGlzLnJlcXVlc3RIZWFkZXIsXG5cdFx0XHRtYW5hZ2VyOiB0aGlzLm1hbmFnZXIsXG5cdFx0XHRrdHgyTG9hZGVyOiB0aGlzLmt0eDJMb2FkZXIsXG5cdFx0XHRtZXNob3B0RGVjb2RlcjogdGhpcy5tZXNob3B0RGVjb2RlclxuXG5cdFx0fSApO1xuXG5cdFx0cGFyc2VyLmZpbGVMb2FkZXIuc2V0UmVxdWVzdEhlYWRlciggdGhpcy5yZXF1ZXN0SGVhZGVyICk7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLnBsdWdpbkNhbGxiYWNrcy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHBsdWdpbiA9IHRoaXMucGx1Z2luQ2FsbGJhY2tzWyBpIF0oIHBhcnNlciApO1xuXHRcdFx0cGx1Z2luc1sgcGx1Z2luLm5hbWUgXSA9IHBsdWdpbjtcblxuXHRcdFx0Ly8gV29ya2Fyb3VuZCB0byBhdm9pZCBkZXRlcm1pbmluZyBhcyB1bmtub3duIGV4dGVuc2lvblxuXHRcdFx0Ly8gaW4gYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCkuXG5cdFx0XHQvLyBSZW1vdmUgdGhpcyB3b3JrYXJvdW5kIGlmIHdlIG1vdmUgYWxsIHRoZSBleGlzdGluZ1xuXHRcdFx0Ly8gZXh0ZW5zaW9uIGhhbmRsZXJzIHRvIHBsdWdpbiBzeXN0ZW1cblx0XHRcdGV4dGVuc2lvbnNbIHBsdWdpbi5uYW1lIF0gPSB0cnVlO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBqc29uLmV4dGVuc2lvbnNVc2VkICkge1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBqc29uLmV4dGVuc2lvbnNVc2VkLmxlbmd0aDsgKysgaSApIHtcblxuXHRcdFx0XHRjb25zdCBleHRlbnNpb25OYW1lID0ganNvbi5leHRlbnNpb25zVXNlZFsgaSBdO1xuXHRcdFx0XHRjb25zdCBleHRlbnNpb25zUmVxdWlyZWQgPSBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZCB8fCBbXTtcblxuXHRcdFx0XHRzd2l0Y2ggKCBleHRlbnNpb25OYW1lICkge1xuXG5cdFx0XHRcdFx0Y2FzZSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ6XG5cdFx0XHRcdFx0XHRleHRlbnNpb25zWyBleHRlbnNpb25OYW1lIF0gPSBuZXcgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjpcblx0XHRcdFx0XHRcdGV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24oIGpzb24sIHRoaXMuZHJhY29Mb2FkZXIgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTpcblx0XHRcdFx0XHRcdGV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIEVYVEVOU0lPTlMuS0hSX01FU0hfUVVBTlRJWkFUSU9OOlxuXHRcdFx0XHRcdFx0ZXh0ZW5zaW9uc1sgZXh0ZW5zaW9uTmFtZSBdID0gbmV3IEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0XHRcdGlmICggZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoIGV4dGVuc2lvbk5hbWUgKSA+PSAwICYmIHBsdWdpbnNbIGV4dGVuc2lvbk5hbWUgXSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IFVua25vd24gZXh0ZW5zaW9uIFwiJyArIGV4dGVuc2lvbk5hbWUgKyAnXCIuJyApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRwYXJzZXIuc2V0RXh0ZW5zaW9ucyggZXh0ZW5zaW9ucyApO1xuXHRcdHBhcnNlci5zZXRQbHVnaW5zKCBwbHVnaW5zICk7XG5cdFx0cGFyc2VyLnBhcnNlKCBvbkxvYWQsIG9uRXJyb3IgKTtcblxuXHR9XG5cblx0cGFyc2VBc3luYyggZGF0YSwgcGF0aCApIHtcblxuXHRcdGNvbnN0IHNjb3BlID0gdGhpcztcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG5cblx0XHRcdHNjb3BlLnBhcnNlKCBkYXRhLCBwYXRoLCByZXNvbHZlLCByZWplY3QgKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn1cblxuLyogR0xURlJFR0lTVFJZICovXG5cbmZ1bmN0aW9uIEdMVEZSZWdpc3RyeSgpIHtcblxuXHRsZXQgb2JqZWN0cyA9IHt9O1xuXG5cdHJldHVyblx0e1xuXG5cdFx0Z2V0OiBmdW5jdGlvbiAoIGtleSApIHtcblxuXHRcdFx0cmV0dXJuIG9iamVjdHNbIGtleSBdO1xuXG5cdFx0fSxcblxuXHRcdGFkZDogZnVuY3Rpb24gKCBrZXksIG9iamVjdCApIHtcblxuXHRcdFx0b2JqZWN0c1sga2V5IF0gPSBvYmplY3Q7XG5cblx0XHR9LFxuXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiAoIGtleSApIHtcblxuXHRcdFx0ZGVsZXRlIG9iamVjdHNbIGtleSBdO1xuXG5cdFx0fSxcblxuXHRcdHJlbW92ZUFsbDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRvYmplY3RzID0ge307XG5cblx0XHR9XG5cblx0fTtcblxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKiogRVhURU5TSU9OUyAqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IEVYVEVOU0lPTlMgPSB7XG5cdEtIUl9CSU5BUllfR0xURjogJ0tIUl9iaW5hcnlfZ2xURicsXG5cdEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOiAnS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24nLFxuXHRLSFJfTElHSFRTX1BVTkNUVUFMOiAnS0hSX2xpZ2h0c19wdW5jdHVhbCcsXG5cdEtIUl9NQVRFUklBTFNfQ0xFQVJDT0FUOiAnS0hSX21hdGVyaWFsc19jbGVhcmNvYXQnLFxuXHRLSFJfTUFURVJJQUxTX0lPUjogJ0tIUl9tYXRlcmlhbHNfaW9yJyxcblx0S0hSX01BVEVSSUFMU19TSEVFTjogJ0tIUl9tYXRlcmlhbHNfc2hlZW4nLFxuXHRLSFJfTUFURVJJQUxTX1NQRUNVTEFSOiAnS0hSX21hdGVyaWFsc19zcGVjdWxhcicsXG5cdEtIUl9NQVRFUklBTFNfVFJBTlNNSVNTSU9OOiAnS0hSX21hdGVyaWFsc190cmFuc21pc3Npb24nLFxuXHRLSFJfTUFURVJJQUxTX0lSSURFU0NFTkNFOiAnS0hSX21hdGVyaWFsc19pcmlkZXNjZW5jZScsXG5cdEtIUl9NQVRFUklBTFNfVU5MSVQ6ICdLSFJfbWF0ZXJpYWxzX3VubGl0Jyxcblx0S0hSX01BVEVSSUFMU19WT0xVTUU6ICdLSFJfbWF0ZXJpYWxzX3ZvbHVtZScsXG5cdEtIUl9URVhUVVJFX0JBU0lTVTogJ0tIUl90ZXh0dXJlX2Jhc2lzdScsXG5cdEtIUl9URVhUVVJFX1RSQU5TRk9STTogJ0tIUl90ZXh0dXJlX3RyYW5zZm9ybScsXG5cdEtIUl9NRVNIX1FVQU5USVpBVElPTjogJ0tIUl9tZXNoX3F1YW50aXphdGlvbicsXG5cdEtIUl9NQVRFUklBTFNfRU1JU1NJVkVfU1RSRU5HVEg6ICdLSFJfbWF0ZXJpYWxzX2VtaXNzaXZlX3N0cmVuZ3RoJyxcblx0RVhUX1RFWFRVUkVfV0VCUDogJ0VYVF90ZXh0dXJlX3dlYnAnLFxuXHRFWFRfTUVTSE9QVF9DT01QUkVTU0lPTjogJ0VYVF9tZXNob3B0X2NvbXByZXNzaW9uJyxcblx0RVhUX01FU0hfR1BVX0lOU1RBTkNJTkc6ICdFWFRfbWVzaF9ncHVfaW5zdGFuY2luZydcbn07XG5cbi8qKlxuICogUHVuY3R1YWwgTGlnaHRzIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9saWdodHNfcHVuY3R1YWxcbiAqL1xuY2xhc3MgR0xURkxpZ2h0c0V4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTDtcblxuXHRcdC8vIE9iamVjdDNEIGluc3RhbmNlIGNhY2hlc1xuXHRcdHRoaXMuY2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9O1xuXG5cdH1cblxuXHRfbWFya0RlZnMoKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBub2RlRGVmcyA9IHRoaXMucGFyc2VyLmpzb24ubm9kZXMgfHwgW107XG5cblx0XHRmb3IgKCBsZXQgbm9kZUluZGV4ID0gMCwgbm9kZUxlbmd0aCA9IG5vZGVEZWZzLmxlbmd0aDsgbm9kZUluZGV4IDwgbm9kZUxlbmd0aDsgbm9kZUluZGV4ICsrICkge1xuXG5cdFx0XHRjb25zdCBub2RlRGVmID0gbm9kZURlZnNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRpZiAoIG5vZGVEZWYuZXh0ZW5zaW9uc1xuXHRcdFx0XHRcdCYmIG5vZGVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF1cblx0XHRcdFx0XHQmJiBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdLmxpZ2h0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cGFyc2VyLl9hZGROb2RlUmVmKCB0aGlzLmNhY2hlLCBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdLmxpZ2h0ICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9XG5cblx0X2xvYWRMaWdodCggbGlnaHRJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IGNhY2hlS2V5ID0gJ2xpZ2h0OicgKyBsaWdodEluZGV4O1xuXHRcdGxldCBkZXBlbmRlbmN5ID0gcGFyc2VyLmNhY2hlLmdldCggY2FjaGVLZXkgKTtcblxuXHRcdGlmICggZGVwZW5kZW5jeSApIHJldHVybiBkZXBlbmRlbmN5O1xuXG5cdFx0Y29uc3QganNvbiA9IHBhcnNlci5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSAoIGpzb24uZXh0ZW5zaW9ucyAmJiBqc29uLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgfHwge307XG5cdFx0Y29uc3QgbGlnaHREZWZzID0gZXh0ZW5zaW9ucy5saWdodHMgfHwgW107XG5cdFx0Y29uc3QgbGlnaHREZWYgPSBsaWdodERlZnNbIGxpZ2h0SW5kZXggXTtcblx0XHRsZXQgbGlnaHROb2RlO1xuXG5cdFx0Y29uc3QgY29sb3IgPSBuZXcgQ29sb3IoIDB4ZmZmZmZmICk7XG5cblx0XHRpZiAoIGxpZ2h0RGVmLmNvbG9yICE9PSB1bmRlZmluZWQgKSBjb2xvci5mcm9tQXJyYXkoIGxpZ2h0RGVmLmNvbG9yICk7XG5cblx0XHRjb25zdCByYW5nZSA9IGxpZ2h0RGVmLnJhbmdlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5yYW5nZSA6IDA7XG5cblx0XHRzd2l0Y2ggKCBsaWdodERlZi50eXBlICkge1xuXG5cdFx0XHRjYXNlICdkaXJlY3Rpb25hbCc6XG5cdFx0XHRcdGxpZ2h0Tm9kZSA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KCBjb2xvciApO1xuXHRcdFx0XHRsaWdodE5vZGUudGFyZ2V0LnBvc2l0aW9uLnNldCggMCwgMCwgLSAxICk7XG5cdFx0XHRcdGxpZ2h0Tm9kZS5hZGQoIGxpZ2h0Tm9kZS50YXJnZXQgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ3BvaW50Jzpcblx0XHRcdFx0bGlnaHROb2RlID0gbmV3IFBvaW50TGlnaHQoIGNvbG9yICk7XG5cdFx0XHRcdGxpZ2h0Tm9kZS5kaXN0YW5jZSA9IHJhbmdlO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnc3BvdCc6XG5cdFx0XHRcdGxpZ2h0Tm9kZSA9IG5ldyBTcG90TGlnaHQoIGNvbG9yICk7XG5cdFx0XHRcdGxpZ2h0Tm9kZS5kaXN0YW5jZSA9IHJhbmdlO1xuXHRcdFx0XHQvLyBIYW5kbGUgc3BvdGxpZ2h0IHByb3BlcnRpZXMuXG5cdFx0XHRcdGxpZ2h0RGVmLnNwb3QgPSBsaWdodERlZi5zcG90IHx8IHt9O1xuXHRcdFx0XHRsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlID0gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA6IDA7XG5cdFx0XHRcdGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgPSBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlIDogTWF0aC5QSSAvIDQuMDtcblx0XHRcdFx0bGlnaHROb2RlLmFuZ2xlID0gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcblx0XHRcdFx0bGlnaHROb2RlLnBlbnVtYnJhID0gMS4wIC0gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAvIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGU7XG5cdFx0XHRcdGxpZ2h0Tm9kZS50YXJnZXQucG9zaXRpb24uc2V0KCAwLCAwLCAtIDEgKTtcblx0XHRcdFx0bGlnaHROb2RlLmFkZCggbGlnaHROb2RlLnRhcmdldCApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogVW5leHBlY3RlZCBsaWdodCB0eXBlOiAnICsgbGlnaHREZWYudHlwZSApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gU29tZSBsaWdodHMgKGUuZy4gc3BvdCkgZGVmYXVsdCB0byBhIHBvc2l0aW9uIG90aGVyIHRoYW4gdGhlIG9yaWdpbi4gUmVzZXQgdGhlIHBvc2l0aW9uXG5cdFx0Ly8gaGVyZSwgYmVjYXVzZSBub2RlLWxldmVsIHBhcnNpbmcgd2lsbCBvbmx5IG92ZXJyaWRlIHBvc2l0aW9uIGlmIGV4cGxpY2l0bHkgc3BlY2lmaWVkLlxuXHRcdGxpZ2h0Tm9kZS5wb3NpdGlvbi5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdGxpZ2h0Tm9kZS5kZWNheSA9IDI7XG5cblx0XHRhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBsaWdodE5vZGUsIGxpZ2h0RGVmICk7XG5cblx0XHRpZiAoIGxpZ2h0RGVmLmludGVuc2l0eSAhPT0gdW5kZWZpbmVkICkgbGlnaHROb2RlLmludGVuc2l0eSA9IGxpZ2h0RGVmLmludGVuc2l0eTtcblxuXHRcdGxpZ2h0Tm9kZS5uYW1lID0gcGFyc2VyLmNyZWF0ZVVuaXF1ZU5hbWUoIGxpZ2h0RGVmLm5hbWUgfHwgKCAnbGlnaHRfJyArIGxpZ2h0SW5kZXggKSApO1xuXG5cdFx0ZGVwZW5kZW5jeSA9IFByb21pc2UucmVzb2x2ZSggbGlnaHROb2RlICk7XG5cblx0XHRwYXJzZXIuY2FjaGUuYWRkKCBjYWNoZUtleSwgZGVwZW5kZW5jeSApO1xuXG5cdFx0cmV0dXJuIGRlcGVuZGVuY3k7XG5cblx0fVxuXG5cdGdldERlcGVuZGVuY3koIHR5cGUsIGluZGV4ICkge1xuXG5cdFx0aWYgKCB0eXBlICE9PSAnbGlnaHQnICkgcmV0dXJuO1xuXG5cdFx0cmV0dXJuIHRoaXMuX2xvYWRMaWdodCggaW5kZXggKTtcblxuXHR9XG5cblx0Y3JlYXRlTm9kZUF0dGFjaG1lbnQoIG5vZGVJbmRleCApIHtcblxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IGpzb24gPSBwYXJzZXIuanNvbjtcblx0XHRjb25zdCBub2RlRGVmID0ganNvbi5ub2Rlc1sgbm9kZUluZGV4IF07XG5cdFx0Y29uc3QgbGlnaHREZWYgPSAoIG5vZGVEZWYuZXh0ZW5zaW9ucyAmJiBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgfHwge307XG5cdFx0Y29uc3QgbGlnaHRJbmRleCA9IGxpZ2h0RGVmLmxpZ2h0O1xuXG5cdFx0aWYgKCBsaWdodEluZGV4ID09PSB1bmRlZmluZWQgKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiB0aGlzLl9sb2FkTGlnaHQoIGxpZ2h0SW5kZXggKS50aGVuKCBmdW5jdGlvbiAoIGxpZ2h0ICkge1xuXG5cdFx0XHRyZXR1cm4gcGFyc2VyLl9nZXROb2RlUmVmKCBzZWxmLmNhY2hlLCBsaWdodEluZGV4LCBsaWdodCApO1xuXG5cdFx0fSApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFVubGl0IE1hdGVyaWFscyBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3VubGl0XG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSgpIHtcblxuXHRcdHJldHVybiBNZXNoQmFzaWNNYXRlcmlhbDtcblxuXHR9XG5cblx0ZXh0ZW5kUGFyYW1zKCBtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlciApIHtcblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdG1hdGVyaWFsUGFyYW1zLmNvbG9yID0gbmV3IENvbG9yKCAxLjAsIDEuMCwgMS4wICk7XG5cdFx0bWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuXHRcdGNvbnN0IG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3M7XG5cblx0XHRpZiAoIG1ldGFsbGljUm91Z2huZXNzICkge1xuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvciApICkge1xuXG5cdFx0XHRcdGNvbnN0IGFycmF5ID0gbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yO1xuXG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheSggYXJyYXkgKTtcblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WyAzIF07XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlLCBzUkdCRW5jb2RpbmcgKSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBNYXRlcmlhbHMgRW1pc3NpdmUgU3RyZW5ndGggRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvNTc2OGIzY2UwZWYzMmJjMzljZGYxYmVmMTBiOTQ4NTg2NjM1ZWFkMy9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfZW1pc3NpdmVfc3RyZW5ndGgvUkVBRE1FLm1kXG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNFbWlzc2l2ZVN0cmVuZ3RoRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0VNSVNTSVZFX1NUUkVOR1RIO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZW1pc3NpdmVTdHJlbmd0aCA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdLmVtaXNzaXZlU3RyZW5ndGg7XG5cblx0XHRpZiAoIGVtaXNzaXZlU3RyZW5ndGggIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmVJbnRlbnNpdHkgPSBlbWlzc2l2ZVN0cmVuZ3RoO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIENsZWFyY29hdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19jbGVhcmNvYXRcbiAqL1xuY2xhc3MgR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggbWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG5cblx0fVxuXG5cdGV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblxuXHRcdGlmICggZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvciAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXQgPSBleHRlbnNpb24uY2xlYXJjb2F0RmFjdG9yO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2NsZWFyY29hdE1hcCcsIGV4dGVuc2lvbi5jbGVhcmNvYXRUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXRSb3VnaG5lc3MgPSBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2NsZWFyY29hdFJvdWdobmVzc01hcCcsIGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXROb3JtYWxNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZSApICk7XG5cblx0XHRcdGlmICggZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRjb25zdCBzY2FsZSA9IGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlO1xuXG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdE5vcm1hbFNjYWxlID0gbmV3IFZlY3RvcjIoIHNjYWxlLCBzY2FsZSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBJcmlkZXNjZW5jZSBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19pcmlkZXNjZW5jZVxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzSXJpZGVzY2VuY2VFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfSVJJREVTQ0VOQ0U7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggbWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG5cblx0fVxuXG5cdGV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblxuXHRcdGlmICggZXh0ZW5zaW9uLmlyaWRlc2NlbmNlRmFjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmlyaWRlc2NlbmNlID0gZXh0ZW5zaW9uLmlyaWRlc2NlbmNlRmFjdG9yO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uaXJpZGVzY2VuY2VUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnaXJpZGVzY2VuY2VNYXAnLCBleHRlbnNpb24uaXJpZGVzY2VuY2VUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmlyaWRlc2NlbmNlSW9yICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmlyaWRlc2NlbmNlSU9SID0gZXh0ZW5zaW9uLmlyaWRlc2NlbmNlSW9yO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBtYXRlcmlhbFBhcmFtcy5pcmlkZXNjZW5jZVRoaWNrbmVzc1JhbmdlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmlyaWRlc2NlbmNlVGhpY2tuZXNzUmFuZ2UgPSBbIDEwMCwgNDAwIF07XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5pcmlkZXNjZW5jZVRoaWNrbmVzc01pbmltdW0gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuaXJpZGVzY2VuY2VUaGlja25lc3NSYW5nZVsgMCBdID0gZXh0ZW5zaW9uLmlyaWRlc2NlbmNlVGhpY2tuZXNzTWluaW11bTtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmlyaWRlc2NlbmNlVGhpY2tuZXNzTWF4aW11bSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5pcmlkZXNjZW5jZVRoaWNrbmVzc1JhbmdlWyAxIF0gPSBleHRlbnNpb24uaXJpZGVzY2VuY2VUaGlja25lc3NNYXhpbXVtO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uaXJpZGVzY2VuY2VUaGlja25lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnaXJpZGVzY2VuY2VUaGlja25lc3NNYXAnLCBleHRlbnNpb24uaXJpZGVzY2VuY2VUaGlja25lc3NUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFNoZWVuIE1hdGVyaWFscyBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYWluL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19zaGVlblxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzU2hlZW5FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfU0hFRU47XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggbWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG5cblx0fVxuXG5cdGV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRtYXRlcmlhbFBhcmFtcy5zaGVlbkNvbG9yID0gbmV3IENvbG9yKCAwLCAwLCAwICk7XG5cdFx0bWF0ZXJpYWxQYXJhbXMuc2hlZW5Sb3VnaG5lc3MgPSAwO1xuXHRcdG1hdGVyaWFsUGFyYW1zLnNoZWVuID0gMTtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdO1xuXG5cdFx0aWYgKCBleHRlbnNpb24uc2hlZW5Db2xvckZhY3RvciAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5zaGVlbkNvbG9yLmZyb21BcnJheSggZXh0ZW5zaW9uLnNoZWVuQ29sb3JGYWN0b3IgKTtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLnNoZWVuUm91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLnNoZWVuUm91Z2huZXNzID0gZXh0ZW5zaW9uLnNoZWVuUm91Z2huZXNzRmFjdG9yO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uc2hlZW5Db2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdzaGVlbkNvbG9yTWFwJywgZXh0ZW5zaW9uLnNoZWVuQ29sb3JUZXh0dXJlLCBzUkdCRW5jb2RpbmcgKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uc2hlZW5Sb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnc2hlZW5Sb3VnaG5lc3NNYXAnLCBleHRlbnNpb24uc2hlZW5Sb3VnaG5lc3NUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFRyYW5zbWlzc2lvbiBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc190cmFuc21pc3Npb25cbiAqIERyYWZ0OiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvcHVsbC8xNjk4XG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNUcmFuc21pc3Npb25FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVFJBTlNNSVNTSU9OO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRpZiAoIGV4dGVuc2lvbi50cmFuc21pc3Npb25GYWN0b3IgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMudHJhbnNtaXNzaW9uID0gZXh0ZW5zaW9uLnRyYW5zbWlzc2lvbkZhY3RvcjtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLnRyYW5zbWlzc2lvblRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICd0cmFuc21pc3Npb25NYXAnLCBleHRlbnNpb24udHJhbnNtaXNzaW9uVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBNYXRlcmlhbHMgVm9sdW1lIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfdm9sdW1lXG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNWb2x1bWVFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVk9MVU1FO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRtYXRlcmlhbFBhcmFtcy50aGlja25lc3MgPSBleHRlbnNpb24udGhpY2tuZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgPyBleHRlbnNpb24udGhpY2tuZXNzRmFjdG9yIDogMDtcblxuXHRcdGlmICggZXh0ZW5zaW9uLnRoaWNrbmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICd0aGlja25lc3NNYXAnLCBleHRlbnNpb24udGhpY2tuZXNzVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRtYXRlcmlhbFBhcmFtcy5hdHRlbnVhdGlvbkRpc3RhbmNlID0gZXh0ZW5zaW9uLmF0dGVudWF0aW9uRGlzdGFuY2UgfHwgSW5maW5pdHk7XG5cblx0XHRjb25zdCBjb2xvckFycmF5ID0gZXh0ZW5zaW9uLmF0dGVudWF0aW9uQ29sb3IgfHwgWyAxLCAxLCAxIF07XG5cdFx0bWF0ZXJpYWxQYXJhbXMuYXR0ZW51YXRpb25Db2xvciA9IG5ldyBDb2xvciggY29sb3JBcnJheVsgMCBdLCBjb2xvckFycmF5WyAxIF0sIGNvbG9yQXJyYXlbIDIgXSApO1xuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogTWF0ZXJpYWxzIGlvciBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX2lvclxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzSW9yRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0lPUjtcblxuXHR9XG5cblx0Z2V0TWF0ZXJpYWxUeXBlKCBtYXRlcmlhbEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiBNZXNoUGh5c2ljYWxNYXRlcmlhbDtcblxuXHR9XG5cblx0ZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdO1xuXG5cdFx0bWF0ZXJpYWxQYXJhbXMuaW9yID0gZXh0ZW5zaW9uLmlvciAhPT0gdW5kZWZpbmVkID8gZXh0ZW5zaW9uLmlvciA6IDEuNTtcblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBNYXRlcmlhbHMgc3BlY3VsYXIgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19zcGVjdWxhclxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzU3BlY3VsYXJFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfU1BFQ1VMQVI7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggbWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG5cblx0fVxuXG5cdGV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblxuXHRcdG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFySW50ZW5zaXR5ID0gZXh0ZW5zaW9uLnNwZWN1bGFyRmFjdG9yICE9PSB1bmRlZmluZWQgPyBleHRlbnNpb24uc3BlY3VsYXJGYWN0b3IgOiAxLjA7XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5zcGVjdWxhclRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdzcGVjdWxhckludGVuc2l0eU1hcCcsIGV4dGVuc2lvbi5zcGVjdWxhclRleHR1cmUgKSApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgY29sb3JBcnJheSA9IGV4dGVuc2lvbi5zcGVjdWxhckNvbG9yRmFjdG9yIHx8IFsgMSwgMSwgMSBdO1xuXHRcdG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyQ29sb3IgPSBuZXcgQ29sb3IoIGNvbG9yQXJyYXlbIDAgXSwgY29sb3JBcnJheVsgMSBdLCBjb2xvckFycmF5WyAyIF0gKTtcblxuXHRcdGlmICggZXh0ZW5zaW9uLnNwZWN1bGFyQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnc3BlY3VsYXJDb2xvck1hcCcsIGV4dGVuc2lvbi5zcGVjdWxhckNvbG9yVGV4dHVyZSwgc1JHQkVuY29kaW5nICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIEJhc2lzVSBUZXh0dXJlIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX2Jhc2lzdVxuICovXG5jbGFzcyBHTFRGVGV4dHVyZUJhc2lzVUV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfQkFTSVNVO1xuXG5cdH1cblxuXHRsb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QganNvbiA9IHBhcnNlci5qc29uO1xuXG5cdFx0Y29uc3QgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbIHRleHR1cmVJbmRleCBdO1xuXG5cdFx0aWYgKCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9ucyB8fCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gdGV4dHVyZURlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblx0XHRjb25zdCBsb2FkZXIgPSBwYXJzZXIub3B0aW9ucy5rdHgyTG9hZGVyO1xuXG5cdFx0aWYgKCAhIGxvYWRlciApIHtcblxuXHRcdFx0aWYgKCBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZCAmJiBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKCB0aGlzLm5hbWUgKSA+PSAwICkge1xuXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IHNldEtUWDJMb2FkZXIgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGxvYWRpbmcgS1RYMiB0ZXh0dXJlcycgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBBc3N1bWVzIHRoYXQgdGhlIGV4dGVuc2lvbiBpcyBvcHRpb25hbCBhbmQgdGhhdCBhIGZhbGxiYWNrIHRleHR1cmUgaXMgcHJlc2VudFxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhcnNlci5sb2FkVGV4dHVyZUltYWdlKCB0ZXh0dXJlSW5kZXgsIGV4dGVuc2lvbi5zb3VyY2UsIGxvYWRlciApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFdlYlAgVGV4dHVyZSBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL0VYVF90ZXh0dXJlX3dlYnBcbiAqL1xuY2xhc3MgR0xURlRleHR1cmVXZWJQRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5FWFRfVEVYVFVSRV9XRUJQO1xuXHRcdHRoaXMuaXNTdXBwb3J0ZWQgPSBudWxsO1xuXG5cdH1cblxuXHRsb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICkge1xuXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMubmFtZTtcblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBqc29uID0gcGFyc2VyLmpzb247XG5cblx0XHRjb25zdCB0ZXh0dXJlRGVmID0ganNvbi50ZXh0dXJlc1sgdGV4dHVyZUluZGV4IF07XG5cblx0XHRpZiAoICEgdGV4dHVyZURlZi5leHRlbnNpb25zIHx8ICEgdGV4dHVyZURlZi5leHRlbnNpb25zWyBuYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gdGV4dHVyZURlZi5leHRlbnNpb25zWyBuYW1lIF07XG5cdFx0Y29uc3Qgc291cmNlID0ganNvbi5pbWFnZXNbIGV4dGVuc2lvbi5zb3VyY2UgXTtcblxuXHRcdGxldCBsb2FkZXIgPSBwYXJzZXIudGV4dHVyZUxvYWRlcjtcblx0XHRpZiAoIHNvdXJjZS51cmkgKSB7XG5cblx0XHRcdGNvbnN0IGhhbmRsZXIgPSBwYXJzZXIub3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoIHNvdXJjZS51cmkgKTtcblx0XHRcdGlmICggaGFuZGxlciAhPT0gbnVsbCApIGxvYWRlciA9IGhhbmRsZXI7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5kZXRlY3RTdXBwb3J0KCkudGhlbiggZnVuY3Rpb24gKCBpc1N1cHBvcnRlZCApIHtcblxuXHRcdFx0aWYgKCBpc1N1cHBvcnRlZCApIHJldHVybiBwYXJzZXIubG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBleHRlbnNpb24uc291cmNlLCBsb2FkZXIgKTtcblxuXHRcdFx0aWYgKCBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZCAmJiBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKCBuYW1lICkgPj0gMCApIHtcblxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBXZWJQIHJlcXVpcmVkIGJ5IGFzc2V0IGJ1dCB1bnN1cHBvcnRlZC4nICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gRmFsbCBiYWNrIHRvIFBORyBvciBKUEVHLlxuXHRcdFx0cmV0dXJuIHBhcnNlci5sb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdGRldGVjdFN1cHBvcnQoKSB7XG5cblx0XHRpZiAoICEgdGhpcy5pc1N1cHBvcnRlZCApIHtcblxuXHRcdFx0dGhpcy5pc1N1cHBvcnRlZCA9IG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUgKSB7XG5cblx0XHRcdFx0Y29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuXHRcdFx0XHQvLyBMb3NzeSB0ZXN0IGltYWdlLiBTdXBwb3J0IGZvciBsb3NzeSBpbWFnZXMgZG9lc24ndCBndWFyYW50ZWUgc3VwcG9ydCBmb3IgYWxsXG5cdFx0XHRcdC8vIFdlYlAgaW1hZ2VzLCB1bmZvcnR1bmF0ZWx5LlxuXHRcdFx0XHRpbWFnZS5zcmMgPSAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmlJQUFBQlhSVUpRVmxBNElCWUFBQUF3QVFDZEFTb0JBQUVBRHNEK0phUUFBM0FBQUFBQSc7XG5cblx0XHRcdFx0aW1hZ2Uub25sb2FkID0gaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRcdHJlc29sdmUoIGltYWdlLmhlaWdodCA9PT0gMSApO1xuXG5cdFx0XHRcdH07XG5cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzU3VwcG9ydGVkO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIG1lc2hvcHQgQnVmZmVyVmlldyBDb21wcmVzc2lvbiBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL0VYVF9tZXNob3B0X2NvbXByZXNzaW9uXG4gKi9cbmNsYXNzIEdMVEZNZXNob3B0Q29tcHJlc3Npb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLkVYVF9NRVNIT1BUX0NPTVBSRVNTSU9OO1xuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXG5cdH1cblxuXHRsb2FkQnVmZmVyVmlldyggaW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5wYXJzZXIuanNvbjtcblx0XHRjb25zdCBidWZmZXJWaWV3ID0ganNvbi5idWZmZXJWaWV3c1sgaW5kZXggXTtcblxuXHRcdGlmICggYnVmZmVyVmlldy5leHRlbnNpb25zICYmIGJ1ZmZlclZpZXcuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7XG5cblx0XHRcdGNvbnN0IGV4dGVuc2lvbkRlZiA9IGJ1ZmZlclZpZXcuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRcdGNvbnN0IGJ1ZmZlciA9IHRoaXMucGFyc2VyLmdldERlcGVuZGVuY3koICdidWZmZXInLCBleHRlbnNpb25EZWYuYnVmZmVyICk7XG5cdFx0XHRjb25zdCBkZWNvZGVyID0gdGhpcy5wYXJzZXIub3B0aW9ucy5tZXNob3B0RGVjb2RlcjtcblxuXHRcdFx0aWYgKCAhIGRlY29kZXIgfHwgISBkZWNvZGVyLnN1cHBvcnRlZCApIHtcblxuXHRcdFx0XHRpZiAoIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkICYmIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoIHRoaXMubmFtZSApID49IDAgKSB7XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBzZXRNZXNob3B0RGVjb2RlciBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgbG9hZGluZyBjb21wcmVzc2VkIGZpbGVzJyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQvLyBBc3N1bWVzIHRoYXQgdGhlIGV4dGVuc2lvbiBpcyBvcHRpb25hbCBhbmQgdGhhdCBmYWxsYmFjayBidWZmZXIgZGF0YSBpcyBwcmVzZW50XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBidWZmZXIudGhlbiggZnVuY3Rpb24gKCByZXMgKSB7XG5cblx0XHRcdFx0Y29uc3QgYnl0ZU9mZnNldCA9IGV4dGVuc2lvbkRlZi5ieXRlT2Zmc2V0IHx8IDA7XG5cdFx0XHRcdGNvbnN0IGJ5dGVMZW5ndGggPSBleHRlbnNpb25EZWYuYnl0ZUxlbmd0aCB8fCAwO1xuXG5cdFx0XHRcdGNvbnN0IGNvdW50ID0gZXh0ZW5zaW9uRGVmLmNvdW50O1xuXHRcdFx0XHRjb25zdCBzdHJpZGUgPSBleHRlbnNpb25EZWYuYnl0ZVN0cmlkZTtcblxuXHRcdFx0XHRjb25zdCBzb3VyY2UgPSBuZXcgVWludDhBcnJheSggcmVzLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoICk7XG5cblx0XHRcdFx0aWYgKCBkZWNvZGVyLmRlY29kZUdsdGZCdWZmZXJBc3luYyApIHtcblxuXHRcdFx0XHRcdHJldHVybiBkZWNvZGVyLmRlY29kZUdsdGZCdWZmZXJBc3luYyggY291bnQsIHN0cmlkZSwgc291cmNlLCBleHRlbnNpb25EZWYubW9kZSwgZXh0ZW5zaW9uRGVmLmZpbHRlciApLnRoZW4oIGZ1bmN0aW9uICggcmVzICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzLmJ1ZmZlcjtcblxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydCBmb3IgTWVzaG9wdERlY29kZXIgMC4xOCBvciBlYXJsaWVyLCB3aXRob3V0IGRlY29kZUdsdGZCdWZmZXJBc3luY1xuXHRcdFx0XHRcdHJldHVybiBkZWNvZGVyLnJlYWR5LnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gbmV3IEFycmF5QnVmZmVyKCBjb3VudCAqIHN0cmlkZSApO1xuXHRcdFx0XHRcdFx0ZGVjb2Rlci5kZWNvZGVHbHRmQnVmZmVyKCBuZXcgVWludDhBcnJheSggcmVzdWx0ICksIGNvdW50LCBzdHJpZGUsIHNvdXJjZSwgZXh0ZW5zaW9uRGVmLm1vZGUsIGV4dGVuc2lvbkRlZi5maWx0ZXIgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuLyoqXG4gKiBHUFUgSW5zdGFuY2luZyBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL0VYVF9tZXNoX2dwdV9pbnN0YW5jaW5nXG4gKlxuICovXG5jbGFzcyBHTFRGTWVzaEdwdUluc3RhbmNpbmcge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLkVYVF9NRVNIX0dQVV9JTlNUQU5DSU5HO1xuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXG5cdH1cblxuXHRjcmVhdGVOb2RlTWVzaCggbm9kZUluZGV4ICkge1xuXG5cdFx0Y29uc3QganNvbiA9IHRoaXMucGFyc2VyLmpzb247XG5cdFx0Y29uc3Qgbm9kZURlZiA9IGpzb24ubm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG5vZGVEZWYuZXh0ZW5zaW9ucyB8fCAhIG5vZGVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gfHxcblx0XHRcdG5vZGVEZWYubWVzaCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IG1lc2hEZWYgPSBqc29uLm1lc2hlc1sgbm9kZURlZi5tZXNoIF07XG5cblx0XHQvLyBObyBQb2ludHMgb3IgTGluZXMgKyBJbnN0YW5jaW5nIHN1cHBvcnQgeWV0XG5cblx0XHRmb3IgKCBjb25zdCBwcmltaXRpdmUgb2YgbWVzaERlZi5wcmltaXRpdmVzICkge1xuXG5cdFx0XHRpZiAoIHByaW1pdGl2ZS5tb2RlICE9PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVTICYmXG5cdFx0XHRcdCBwcmltaXRpdmUubW9kZSAhPT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQICYmXG5cdFx0XHRcdCBwcmltaXRpdmUubW9kZSAhPT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTiAmJlxuXHRcdFx0XHQgcHJpbWl0aXZlLm1vZGUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uRGVmID0gbm9kZURlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblx0XHRjb25zdCBhdHRyaWJ1dGVzRGVmID0gZXh0ZW5zaW9uRGVmLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBAVE9ETzogQ2FuIHdlIHN1cHBvcnQgSW5zdGFuY2VkTWVzaCArIFNraW5uZWRNZXNoP1xuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXHRcdGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcblxuXHRcdGZvciAoIGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzRGVmICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHRoaXMucGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIGF0dHJpYnV0ZXNEZWZbIGtleSBdICkudGhlbiggYWNjZXNzb3IgPT4ge1xuXG5cdFx0XHRcdGF0dHJpYnV0ZXNbIGtleSBdID0gYWNjZXNzb3I7XG5cdFx0XHRcdHJldHVybiBhdHRyaWJ1dGVzWyBrZXkgXTtcblxuXHRcdFx0fSApICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIHBlbmRpbmcubGVuZ3RoIDwgMSApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRwZW5kaW5nLnB1c2goIHRoaXMucGFyc2VyLmNyZWF0ZU5vZGVNZXNoKCBub2RlSW5kZXggKSApO1xuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICkudGhlbiggcmVzdWx0cyA9PiB7XG5cblx0XHRcdGNvbnN0IG5vZGVPYmplY3QgPSByZXN1bHRzLnBvcCgpO1xuXHRcdFx0Y29uc3QgbWVzaGVzID0gbm9kZU9iamVjdC5pc0dyb3VwID8gbm9kZU9iamVjdC5jaGlsZHJlbiA6IFsgbm9kZU9iamVjdCBdO1xuXHRcdFx0Y29uc3QgY291bnQgPSByZXN1bHRzWyAwIF0uY291bnQ7IC8vIEFsbCBhdHRyaWJ1dGUgY291bnRzIHNob3VsZCBiZSBzYW1lXG5cdFx0XHRjb25zdCBpbnN0YW5jZWRNZXNoZXMgPSBbXTtcblxuXHRcdFx0Zm9yICggY29uc3QgbWVzaCBvZiBtZXNoZXMgKSB7XG5cblx0XHRcdFx0Ly8gVGVtcG9yYWwgdmFyaWFibGVzXG5cdFx0XHRcdGNvbnN0IG0gPSBuZXcgTWF0cml4NCgpO1xuXHRcdFx0XHRjb25zdCBwID0gbmV3IFZlY3RvcjMoKTtcblx0XHRcdFx0Y29uc3QgcSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cdFx0XHRcdGNvbnN0IHMgPSBuZXcgVmVjdG9yMyggMSwgMSwgMSApO1xuXG5cdFx0XHRcdGNvbnN0IGluc3RhbmNlZE1lc2ggPSBuZXcgSW5zdGFuY2VkTWVzaCggbWVzaC5nZW9tZXRyeSwgbWVzaC5tYXRlcmlhbCwgY291bnQgKTtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSArKyApIHtcblxuXHRcdFx0XHRcdGlmICggYXR0cmlidXRlcy5UUkFOU0xBVElPTiApIHtcblxuXHRcdFx0XHRcdFx0cC5mcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGVzLlRSQU5TTEFUSU9OLCBpICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIGF0dHJpYnV0ZXMuUk9UQVRJT04gKSB7XG5cblx0XHRcdFx0XHRcdHEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlcy5ST1RBVElPTiwgaSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCBhdHRyaWJ1dGVzLlNDQUxFICkge1xuXG5cdFx0XHRcdFx0XHRzLmZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZXMuU0NBTEUsIGkgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGluc3RhbmNlZE1lc2guc2V0TWF0cml4QXQoIGksIG0uY29tcG9zZSggcCwgcSwgcyApICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBpbnN0YW5jZSBhdHRyaWJ1dGVzIHRvIHRoZSBnZW9tZXRyeSwgZXhjbHVkaW5nIFRSUy5cblx0XHRcdFx0Zm9yICggY29uc3QgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzICkge1xuXG5cdFx0XHRcdFx0aWYgKCBhdHRyaWJ1dGVOYW1lICE9PSAnVFJBTlNMQVRJT04nICYmXG5cdFx0XHRcdFx0XHQgYXR0cmlidXRlTmFtZSAhPT0gJ1JPVEFUSU9OJyAmJlxuXHRcdFx0XHRcdFx0IGF0dHJpYnV0ZU5hbWUgIT09ICdTQ0FMRScgKSB7XG5cblx0XHRcdFx0XHRcdG1lc2guZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVzWyBhdHRyaWJ1dGVOYW1lIF0gKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSnVzdCBpbiBjYXNlXG5cdFx0XHRcdE9iamVjdDNELnByb3RvdHlwZS5jb3B5LmNhbGwoIGluc3RhbmNlZE1lc2gsIG1lc2ggKTtcblxuXHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xODMzNFxuXHRcdFx0XHRpbnN0YW5jZWRNZXNoLmZydXN0dW1DdWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5wYXJzZXIuYXNzaWduRmluYWxNYXRlcmlhbCggaW5zdGFuY2VkTWVzaCApO1xuXG5cdFx0XHRcdGluc3RhbmNlZE1lc2hlcy5wdXNoKCBpbnN0YW5jZWRNZXNoICk7XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBub2RlT2JqZWN0LmlzR3JvdXAgKSB7XG5cblx0XHRcdFx0bm9kZU9iamVjdC5jbGVhcigpO1xuXG5cdFx0XHRcdG5vZGVPYmplY3QuYWRkKCAuLi4gaW5zdGFuY2VkTWVzaGVzICk7XG5cblx0XHRcdFx0cmV0dXJuIG5vZGVPYmplY3Q7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGluc3RhbmNlZE1lc2hlc1sgMCBdO1xuXG5cdFx0fSApO1xuXG5cdH1cblxufVxuXG4vKiBCSU5BUlkgRVhURU5TSU9OICovXG5jb25zdCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyA9ICdnbFRGJztcbmNvbnN0IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCA9IDEyO1xuY29uc3QgQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUyA9IHsgSlNPTjogMHg0RTRGNTM0QSwgQklOOiAweDAwNEU0OTQyIH07XG5cbmNsYXNzIEdMVEZCaW5hcnlFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBkYXRhICkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEY7XG5cdFx0dGhpcy5jb250ZW50ID0gbnVsbDtcblx0XHR0aGlzLmJvZHkgPSBudWxsO1xuXG5cdFx0Y29uc3QgaGVhZGVyVmlldyA9IG5ldyBEYXRhVmlldyggZGF0YSwgMCwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICk7XG5cdFx0Y29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcblxuXHRcdHRoaXMuaGVhZGVyID0ge1xuXHRcdFx0bWFnaWM6IHRleHREZWNvZGVyLmRlY29kZSggbmV3IFVpbnQ4QXJyYXkoIGRhdGEuc2xpY2UoIDAsIDQgKSApICksXG5cdFx0XHR2ZXJzaW9uOiBoZWFkZXJWaWV3LmdldFVpbnQzMiggNCwgdHJ1ZSApLFxuXHRcdFx0bGVuZ3RoOiBoZWFkZXJWaWV3LmdldFVpbnQzMiggOCwgdHJ1ZSApXG5cdFx0fTtcblxuXHRcdGlmICggdGhpcy5oZWFkZXIubWFnaWMgIT09IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDICkge1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBnbFRGLUJpbmFyeSBoZWFkZXIuJyApO1xuXG5cdFx0fSBlbHNlIGlmICggdGhpcy5oZWFkZXIudmVyc2lvbiA8IDIuMCApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogTGVnYWN5IGJpbmFyeSBmaWxlIGRldGVjdGVkLicgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGNodW5rQ29udGVudHNMZW5ndGggPSB0aGlzLmhlYWRlci5sZW5ndGggLSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEg7XG5cdFx0Y29uc3QgY2h1bmtWaWV3ID0gbmV3IERhdGFWaWV3KCBkYXRhLCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggKTtcblx0XHRsZXQgY2h1bmtJbmRleCA9IDA7XG5cblx0XHR3aGlsZSAoIGNodW5rSW5kZXggPCBjaHVua0NvbnRlbnRzTGVuZ3RoICkge1xuXG5cdFx0XHRjb25zdCBjaHVua0xlbmd0aCA9IGNodW5rVmlldy5nZXRVaW50MzIoIGNodW5rSW5kZXgsIHRydWUgKTtcblx0XHRcdGNodW5rSW5kZXggKz0gNDtcblxuXHRcdFx0Y29uc3QgY2h1bmtUeXBlID0gY2h1bmtWaWV3LmdldFVpbnQzMiggY2h1bmtJbmRleCwgdHJ1ZSApO1xuXHRcdFx0Y2h1bmtJbmRleCArPSA0O1xuXG5cdFx0XHRpZiAoIGNodW5rVHlwZSA9PT0gQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUy5KU09OICkge1xuXG5cdFx0XHRcdGNvbnN0IGNvbnRlbnRBcnJheSA9IG5ldyBVaW50OEFycmF5KCBkYXRhLCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggKyBjaHVua0luZGV4LCBjaHVua0xlbmd0aCApO1xuXHRcdFx0XHR0aGlzLmNvbnRlbnQgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoIGNvbnRlbnRBcnJheSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuQklOICkge1xuXG5cdFx0XHRcdGNvbnN0IGJ5dGVPZmZzZXQgPSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggKyBjaHVua0luZGV4O1xuXHRcdFx0XHR0aGlzLmJvZHkgPSBkYXRhLnNsaWNlKCBieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgY2h1bmtMZW5ndGggKTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbGllbnRzIG11c3QgaWdub3JlIGNodW5rcyB3aXRoIHVua25vd24gdHlwZXMuXG5cblx0XHRcdGNodW5rSW5kZXggKz0gY2h1bmtMZW5ndGg7XG5cblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuY29udGVudCA9PT0gbnVsbCApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogSlNPTiBjb250ZW50IG5vdCBmb3VuZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbi8qKlxuICogRFJBQ08gTWVzaCBDb21wcmVzc2lvbiBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvblxuICovXG5jbGFzcyBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBqc29uLCBkcmFjb0xvYWRlciApIHtcblxuXHRcdGlmICggISBkcmFjb0xvYWRlciApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogTm8gRFJBQ09Mb2FkZXIgaW5zdGFuY2UgcHJvdmlkZWQuJyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjtcblx0XHR0aGlzLmpzb24gPSBqc29uO1xuXHRcdHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcblx0XHR0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKTtcblxuXHR9XG5cblx0ZGVjb2RlUHJpbWl0aXZlKCBwcmltaXRpdmUsIHBhcnNlciApIHtcblxuXHRcdGNvbnN0IGpzb24gPSB0aGlzLmpzb247XG5cdFx0Y29uc3QgZHJhY29Mb2FkZXIgPSB0aGlzLmRyYWNvTG9hZGVyO1xuXHRcdGNvbnN0IGJ1ZmZlclZpZXdJbmRleCA9IHByaW1pdGl2ZS5leHRlbnNpb25zWyB0aGlzLm5hbWUgXS5idWZmZXJWaWV3O1xuXHRcdGNvbnN0IGdsdGZBdHRyaWJ1dGVNYXAgPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0uYXR0cmlidXRlcztcblx0XHRjb25zdCB0aHJlZUF0dHJpYnV0ZU1hcCA9IHt9O1xuXHRcdGNvbnN0IGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAgPSB7fTtcblx0XHRjb25zdCBhdHRyaWJ1dGVUeXBlTWFwID0ge307XG5cblx0XHRmb3IgKCBjb25zdCBhdHRyaWJ1dGVOYW1lIGluIGdsdGZBdHRyaWJ1dGVNYXAgKSB7XG5cblx0XHRcdGNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGF0dHJpYnV0ZU5hbWUgXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdHRocmVlQXR0cmlidXRlTWFwWyB0aHJlZUF0dHJpYnV0ZU5hbWUgXSA9IGdsdGZBdHRyaWJ1dGVNYXBbIGF0dHJpYnV0ZU5hbWUgXTtcblxuXHRcdH1cblxuXHRcdGZvciAoIGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gcHJpbWl0aXZlLmF0dHJpYnV0ZXMgKSB7XG5cblx0XHRcdGNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGF0dHJpYnV0ZU5hbWUgXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdGlmICggZ2x0ZkF0dHJpYnV0ZU1hcFsgYXR0cmlidXRlTmFtZSBdICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Y29uc3QgYWNjZXNzb3JEZWYgPSBqc29uLmFjY2Vzc29yc1sgcHJpbWl0aXZlLmF0dHJpYnV0ZXNbIGF0dHJpYnV0ZU5hbWUgXSBdO1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnRUeXBlID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTWyBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlIF07XG5cblx0XHRcdFx0YXR0cmlidXRlVHlwZU1hcFsgdGhyZWVBdHRyaWJ1dGVOYW1lIF0gPSBjb21wb25lbnRUeXBlLm5hbWU7XG5cdFx0XHRcdGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbIHRocmVlQXR0cmlidXRlTmFtZSBdID0gYWNjZXNzb3JEZWYubm9ybWFsaXplZCA9PT0gdHJ1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGJ1ZmZlclZpZXdJbmRleCApLnRoZW4oIGZ1bmN0aW9uICggYnVmZmVyVmlldyApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUgKSB7XG5cblx0XHRcdFx0ZHJhY29Mb2FkZXIuZGVjb2RlRHJhY29GaWxlKCBidWZmZXJWaWV3LCBmdW5jdGlvbiAoIGdlb21ldHJ5ICkge1xuXG5cdFx0XHRcdFx0Zm9yICggY29uc3QgYXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzICkge1xuXG5cdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzWyBhdHRyaWJ1dGVOYW1lIF07XG5cdFx0XHRcdFx0XHRjb25zdCBub3JtYWxpemVkID0gYXR0cmlidXRlTm9ybWFsaXplZE1hcFsgYXR0cmlidXRlTmFtZSBdO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vcm1hbGl6ZWQgIT09IHVuZGVmaW5lZCApIGF0dHJpYnV0ZS5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlc29sdmUoIGdlb21ldHJ5ICk7XG5cblx0XHRcdFx0fSwgdGhyZWVBdHRyaWJ1dGVNYXAsIGF0dHJpYnV0ZVR5cGVNYXAgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fSApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFRleHR1cmUgVHJhbnNmb3JtIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybVxuICovXG5jbGFzcyBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTtcblxuXHR9XG5cblx0ZXh0ZW5kVGV4dHVyZSggdGV4dHVyZSwgdHJhbnNmb3JtICkge1xuXG5cdFx0aWYgKCB0cmFuc2Zvcm0udGV4Q29vcmQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldHMgaW4gXCInICsgdGhpcy5uYW1lICsgJ1wiIGV4dGVuc2lvbiBub3QgeWV0IHN1cHBvcnRlZC4nICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIHRyYW5zZm9ybS5vZmZzZXQgPT09IHVuZGVmaW5lZCAmJiB0cmFuc2Zvcm0ucm90YXRpb24gPT09IHVuZGVmaW5lZCAmJiB0cmFuc2Zvcm0uc2NhbGUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzIxODE5LlxuXHRcdFx0cmV0dXJuIHRleHR1cmU7XG5cblx0XHR9XG5cblx0XHR0ZXh0dXJlID0gdGV4dHVyZS5jbG9uZSgpO1xuXG5cdFx0aWYgKCB0cmFuc2Zvcm0ub2Zmc2V0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHRleHR1cmUub2Zmc2V0LmZyb21BcnJheSggdHJhbnNmb3JtLm9mZnNldCApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0cmFuc2Zvcm0ucm90YXRpb24gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0dGV4dHVyZS5yb3RhdGlvbiA9IHRyYW5zZm9ybS5yb3RhdGlvbjtcblxuXHRcdH1cblxuXHRcdGlmICggdHJhbnNmb3JtLnNjYWxlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHRleHR1cmUucmVwZWF0LmZyb21BcnJheSggdHJhbnNmb3JtLnNjYWxlICk7XG5cblx0XHR9XG5cblx0XHR0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdHJldHVybiB0ZXh0dXJlO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIE1lc2ggUXVhbnRpemF0aW9uIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tZXNoX3F1YW50aXphdGlvblxuICovXG5jbGFzcyBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjtcblxuXHR9XG5cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqIElOVEVSUE9MQVRJT04gKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBTcGxpbmUgSW50ZXJwb2xhdGlvblxuLy8gU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhcHBlbmRpeC1jLXNwbGluZS1pbnRlcnBvbGF0aW9uXG5jbGFzcyBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCBleHRlbmRzIEludGVycG9sYW50IHtcblxuXHRjb25zdHJ1Y3RvciggcGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlciApIHtcblxuXHRcdHN1cGVyKCBwYXJhbWV0ZXJQb3NpdGlvbnMsIHNhbXBsZVZhbHVlcywgc2FtcGxlU2l6ZSwgcmVzdWx0QnVmZmVyICk7XG5cblx0fVxuXG5cdGNvcHlTYW1wbGVWYWx1ZV8oIGluZGV4ICkge1xuXG5cdFx0Ly8gQ29waWVzIGEgc2FtcGxlIHZhbHVlIHRvIHRoZSByZXN1bHQgYnVmZmVyLiBTZWUgZGVzY3JpcHRpb24gb2YgZ2xURlxuXHRcdC8vIENVQklDU1BMSU5FIHZhbHVlcyBsYXlvdXQgaW4gaW50ZXJwb2xhdGVfKCkgZnVuY3Rpb24gYmVsb3cuXG5cblx0XHRjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcixcblx0XHRcdHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzLFxuXHRcdFx0dmFsdWVTaXplID0gdGhpcy52YWx1ZVNpemUsXG5cdFx0XHRvZmZzZXQgPSBpbmRleCAqIHZhbHVlU2l6ZSAqIDMgKyB2YWx1ZVNpemU7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgIT09IHZhbHVlU2l6ZTsgaSArKyApIHtcblxuXHRcdFx0cmVzdWx0WyBpIF0gPSB2YWx1ZXNbIG9mZnNldCArIGkgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cblx0fVxuXG5cdGludGVycG9sYXRlXyggaTEsIHQwLCB0LCB0MSApIHtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0QnVmZmVyO1xuXHRcdGNvbnN0IHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzO1xuXHRcdGNvbnN0IHN0cmlkZSA9IHRoaXMudmFsdWVTaXplO1xuXG5cdFx0Y29uc3Qgc3RyaWRlMiA9IHN0cmlkZSAqIDI7XG5cdFx0Y29uc3Qgc3RyaWRlMyA9IHN0cmlkZSAqIDM7XG5cblx0XHRjb25zdCB0ZCA9IHQxIC0gdDA7XG5cblx0XHRjb25zdCBwID0gKCB0IC0gdDAgKSAvIHRkO1xuXHRcdGNvbnN0IHBwID0gcCAqIHA7XG5cdFx0Y29uc3QgcHBwID0gcHAgKiBwO1xuXG5cdFx0Y29uc3Qgb2Zmc2V0MSA9IGkxICogc3RyaWRlMztcblx0XHRjb25zdCBvZmZzZXQwID0gb2Zmc2V0MSAtIHN0cmlkZTM7XG5cblx0XHRjb25zdCBzMiA9IC0gMiAqIHBwcCArIDMgKiBwcDtcblx0XHRjb25zdCBzMyA9IHBwcCAtIHBwO1xuXHRcdGNvbnN0IHMwID0gMSAtIHMyO1xuXHRcdGNvbnN0IHMxID0gczMgLSBwcCArIHA7XG5cblx0XHQvLyBMYXlvdXQgb2Yga2V5ZnJhbWUgb3V0cHV0IHZhbHVlcyBmb3IgQ1VCSUNTUExJTkUgYW5pbWF0aW9uczpcblx0XHQvLyAgIFsgaW5UYW5nZW50XzEsIHNwbGluZVZlcnRleF8xLCBvdXRUYW5nZW50XzEsIGluVGFuZ2VudF8yLCBzcGxpbmVWZXJ0ZXhfMiwgLi4uIF1cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgIT09IHN0cmlkZTsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgcDAgPSB2YWx1ZXNbIG9mZnNldDAgKyBpICsgc3RyaWRlIF07IC8vIHNwbGluZVZlcnRleF9rXG5cdFx0XHRjb25zdCBtMCA9IHZhbHVlc1sgb2Zmc2V0MCArIGkgKyBzdHJpZGUyIF0gKiB0ZDsgLy8gb3V0VGFuZ2VudF9rICogKHRfaysxIC0gdF9rKVxuXHRcdFx0Y29uc3QgcDEgPSB2YWx1ZXNbIG9mZnNldDEgKyBpICsgc3RyaWRlIF07IC8vIHNwbGluZVZlcnRleF9rKzFcblx0XHRcdGNvbnN0IG0xID0gdmFsdWVzWyBvZmZzZXQxICsgaSBdICogdGQ7IC8vIGluVGFuZ2VudF9rKzEgKiAodF9rKzEgLSB0X2spXG5cblx0XHRcdHJlc3VsdFsgaSBdID0gczAgKiBwMCArIHMxICogbTAgKyBzMiAqIHAxICsgczMgKiBtMTtcblxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cblx0fVxuXG59XG5cbmNvbnN0IF9xID0gbmV3IFF1YXRlcm5pb24oKTtcblxuY2xhc3MgR0xURkN1YmljU3BsaW5lUXVhdGVybmlvbkludGVycG9sYW50IGV4dGVuZHMgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQge1xuXG5cdGludGVycG9sYXRlXyggaTEsIHQwLCB0LCB0MSApIHtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IHN1cGVyLmludGVycG9sYXRlXyggaTEsIHQwLCB0LCB0MSApO1xuXG5cdFx0X3EuZnJvbUFycmF5KCByZXN1bHQgKS5ub3JtYWxpemUoKS50b0FycmF5KCByZXN1bHQgKTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cblx0fVxuXG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqIElOVEVSTkFMUyAqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiBDT05TVEFOVFMgKi9cblxuY29uc3QgV0VCR0xfQ09OU1RBTlRTID0ge1xuXHRGTE9BVDogNTEyNixcblx0Ly9GTE9BVF9NQVQyOiAzNTY3NCxcblx0RkxPQVRfTUFUMzogMzU2NzUsXG5cdEZMT0FUX01BVDQ6IDM1Njc2LFxuXHRGTE9BVF9WRUMyOiAzNTY2NCxcblx0RkxPQVRfVkVDMzogMzU2NjUsXG5cdEZMT0FUX1ZFQzQ6IDM1NjY2LFxuXHRMSU5FQVI6IDk3MjksXG5cdFJFUEVBVDogMTA0OTcsXG5cdFNBTVBMRVJfMkQ6IDM1Njc4LFxuXHRQT0lOVFM6IDAsXG5cdExJTkVTOiAxLFxuXHRMSU5FX0xPT1A6IDIsXG5cdExJTkVfU1RSSVA6IDMsXG5cdFRSSUFOR0xFUzogNCxcblx0VFJJQU5HTEVfU1RSSVA6IDUsXG5cdFRSSUFOR0xFX0ZBTjogNixcblx0VU5TSUdORURfQllURTogNTEyMSxcblx0VU5TSUdORURfU0hPUlQ6IDUxMjNcbn07XG5cbmNvbnN0IFdFQkdMX0NPTVBPTkVOVF9UWVBFUyA9IHtcblx0NTEyMDogSW50OEFycmF5LFxuXHQ1MTIxOiBVaW50OEFycmF5LFxuXHQ1MTIyOiBJbnQxNkFycmF5LFxuXHQ1MTIzOiBVaW50MTZBcnJheSxcblx0NTEyNTogVWludDMyQXJyYXksXG5cdDUxMjY6IEZsb2F0MzJBcnJheVxufTtcblxuY29uc3QgV0VCR0xfRklMVEVSUyA9IHtcblx0OTcyODogTmVhcmVzdEZpbHRlcixcblx0OTcyOTogTGluZWFyRmlsdGVyLFxuXHQ5OTg0OiBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcixcblx0OTk4NTogTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcblx0OTk4NjogTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcblx0OTk4NzogTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyXG59O1xuXG5jb25zdCBXRUJHTF9XUkFQUElOR1MgPSB7XG5cdDMzMDcxOiBDbGFtcFRvRWRnZVdyYXBwaW5nLFxuXHQzMzY0ODogTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcblx0MTA0OTc6IFJlcGVhdFdyYXBwaW5nXG59O1xuXG5jb25zdCBXRUJHTF9UWVBFX1NJWkVTID0ge1xuXHQnU0NBTEFSJzogMSxcblx0J1ZFQzInOiAyLFxuXHQnVkVDMyc6IDMsXG5cdCdWRUM0JzogNCxcblx0J01BVDInOiA0LFxuXHQnTUFUMyc6IDksXG5cdCdNQVQ0JzogMTZcbn07XG5cbmNvbnN0IEFUVFJJQlVURVMgPSB7XG5cdFBPU0lUSU9OOiAncG9zaXRpb24nLFxuXHROT1JNQUw6ICdub3JtYWwnLFxuXHRUQU5HRU5UOiAndGFuZ2VudCcsXG5cdFRFWENPT1JEXzA6ICd1dicsXG5cdFRFWENPT1JEXzE6ICd1djInLFxuXHRDT0xPUl8wOiAnY29sb3InLFxuXHRXRUlHSFRTXzA6ICdza2luV2VpZ2h0Jyxcblx0Sk9JTlRTXzA6ICdza2luSW5kZXgnLFxufTtcblxuY29uc3QgUEFUSF9QUk9QRVJUSUVTID0ge1xuXHRzY2FsZTogJ3NjYWxlJyxcblx0dHJhbnNsYXRpb246ICdwb3NpdGlvbicsXG5cdHJvdGF0aW9uOiAncXVhdGVybmlvbicsXG5cdHdlaWdodHM6ICdtb3JwaFRhcmdldEluZmx1ZW5jZXMnXG59O1xuXG5jb25zdCBJTlRFUlBPTEFUSU9OID0ge1xuXHRDVUJJQ1NQTElORTogdW5kZWZpbmVkLCAvLyBXZSB1c2UgYSBjdXN0b20gaW50ZXJwb2xhbnQgKEdMVEZDdWJpY1NwbGluZUludGVycG9sYXRpb24pIGZvciBDVUJJQ1NQTElORSB0cmFja3MuIEVhY2hcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBrZXlmcmFtZSB0cmFjayB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggYSBkZWZhdWx0IGludGVycG9sYXRpb24gdHlwZSwgdGhlbiBtb2RpZmllZC5cblx0TElORUFSOiBJbnRlcnBvbGF0ZUxpbmVhcixcblx0U1RFUDogSW50ZXJwb2xhdGVEaXNjcmV0ZVxufTtcblxuY29uc3QgQUxQSEFfTU9ERVMgPSB7XG5cdE9QQVFVRTogJ09QQVFVRScsXG5cdE1BU0s6ICdNQVNLJyxcblx0QkxFTkQ6ICdCTEVORCdcbn07XG5cbi8qKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNkZWZhdWx0LW1hdGVyaWFsXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRNYXRlcmlhbCggY2FjaGUgKSB7XG5cblx0aWYgKCBjYWNoZVsgJ0RlZmF1bHRNYXRlcmlhbCcgXSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0Y2FjaGVbICdEZWZhdWx0TWF0ZXJpYWwnIF0gPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoIHtcblx0XHRcdGNvbG9yOiAweEZGRkZGRixcblx0XHRcdGVtaXNzaXZlOiAweDAwMDAwMCxcblx0XHRcdG1ldGFsbmVzczogMSxcblx0XHRcdHJvdWdobmVzczogMSxcblx0XHRcdHRyYW5zcGFyZW50OiBmYWxzZSxcblx0XHRcdGRlcHRoVGVzdDogdHJ1ZSxcblx0XHRcdHNpZGU6IEZyb250U2lkZVxuXHRcdH0gKTtcblxuXHR9XG5cblx0cmV0dXJuIGNhY2hlWyAnRGVmYXVsdE1hdGVyaWFsJyBdO1xuXG59XG5cbmZ1bmN0aW9uIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSgga25vd25FeHRlbnNpb25zLCBvYmplY3QsIG9iamVjdERlZiApIHtcblxuXHQvLyBBZGQgdW5rbm93biBnbFRGIGV4dGVuc2lvbnMgdG8gYW4gb2JqZWN0J3MgdXNlckRhdGEuXG5cblx0Zm9yICggY29uc3QgbmFtZSBpbiBvYmplY3REZWYuZXh0ZW5zaW9ucyApIHtcblxuXHRcdGlmICgga25vd25FeHRlbnNpb25zWyBuYW1lIF0gPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0b2JqZWN0LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zID0gb2JqZWN0LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zIHx8IHt9O1xuXHRcdFx0b2JqZWN0LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zWyBuYW1lIF0gPSBvYmplY3REZWYuZXh0ZW5zaW9uc1sgbmFtZSBdO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0M0R8TWF0ZXJpYWx8QnVmZmVyR2VvbWV0cnl9IG9iamVjdFxuICogQHBhcmFtIHtHTFRGLmRlZmluaXRpb259IGdsdGZEZWZcbiAqL1xuZnVuY3Rpb24gYXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggb2JqZWN0LCBnbHRmRGVmICkge1xuXG5cdGlmICggZ2x0ZkRlZi5leHRyYXMgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdGlmICggdHlwZW9mIGdsdGZEZWYuZXh0cmFzID09PSAnb2JqZWN0JyApIHtcblxuXHRcdFx0T2JqZWN0LmFzc2lnbiggb2JqZWN0LnVzZXJEYXRhLCBnbHRmRGVmLmV4dHJhcyApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogSWdub3JpbmcgcHJpbWl0aXZlIHR5cGUgLmV4dHJhcywgJyArIGdsdGZEZWYuZXh0cmFzICk7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbi8qKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtb3JwaC10YXJnZXRzXG4gKlxuICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAqIEBwYXJhbSB7QXJyYXk8R0xURi5UYXJnZXQ+fSB0YXJnZXRzXG4gKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxuICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJHZW9tZXRyeT59XG4gKi9cbmZ1bmN0aW9uIGFkZE1vcnBoVGFyZ2V0cyggZ2VvbWV0cnksIHRhcmdldHMsIHBhcnNlciApIHtcblxuXHRsZXQgaGFzTW9ycGhQb3NpdGlvbiA9IGZhbHNlO1xuXHRsZXQgaGFzTW9ycGhOb3JtYWwgPSBmYWxzZTtcblx0bGV0IGhhc01vcnBoQ29sb3IgPSBmYWxzZTtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdGNvbnN0IHRhcmdldCA9IHRhcmdldHNbIGkgXTtcblxuXHRcdGlmICggdGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWQgKSBoYXNNb3JwaFBvc2l0aW9uID0gdHJ1ZTtcblx0XHRpZiAoIHRhcmdldC5OT1JNQUwgIT09IHVuZGVmaW5lZCApIGhhc01vcnBoTm9ybWFsID0gdHJ1ZTtcblx0XHRpZiAoIHRhcmdldC5DT0xPUl8wICE9PSB1bmRlZmluZWQgKSBoYXNNb3JwaENvbG9yID0gdHJ1ZTtcblxuXHRcdGlmICggaGFzTW9ycGhQb3NpdGlvbiAmJiBoYXNNb3JwaE5vcm1hbCAmJiBoYXNNb3JwaENvbG9yICkgYnJlYWs7XG5cblx0fVxuXG5cdGlmICggISBoYXNNb3JwaFBvc2l0aW9uICYmICEgaGFzTW9ycGhOb3JtYWwgJiYgISBoYXNNb3JwaENvbG9yICkgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggZ2VvbWV0cnkgKTtcblxuXHRjb25zdCBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMgPSBbXTtcblx0Y29uc3QgcGVuZGluZ05vcm1hbEFjY2Vzc29ycyA9IFtdO1xuXHRjb25zdCBwZW5kaW5nQ29sb3JBY2Nlc3NvcnMgPSBbXTtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdGNvbnN0IHRhcmdldCA9IHRhcmdldHNbIGkgXTtcblxuXHRcdGlmICggaGFzTW9ycGhQb3NpdGlvbiApIHtcblxuXHRcdFx0Y29uc3QgcGVuZGluZ0FjY2Vzc29yID0gdGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgdGFyZ2V0LlBPU0lUSU9OIClcblx0XHRcdFx0OiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXG5cdFx0XHRwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMucHVzaCggcGVuZGluZ0FjY2Vzc29yICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGhhc01vcnBoTm9ybWFsICkge1xuXG5cdFx0XHRjb25zdCBwZW5kaW5nQWNjZXNzb3IgPSB0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgdGFyZ2V0Lk5PUk1BTCApXG5cdFx0XHRcdDogZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XG5cblx0XHRcdHBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMucHVzaCggcGVuZGluZ0FjY2Vzc29yICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGhhc01vcnBoQ29sb3IgKSB7XG5cblx0XHRcdGNvbnN0IHBlbmRpbmdBY2Nlc3NvciA9IHRhcmdldC5DT0xPUl8wICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgdGFyZ2V0LkNPTE9SXzAgKVxuXHRcdFx0XHQ6IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3I7XG5cblx0XHRcdHBlbmRpbmdDb2xvckFjY2Vzc29ycy5wdXNoKCBwZW5kaW5nQWNjZXNzb3IgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIFByb21pc2UuYWxsKCBbXG5cdFx0UHJvbWlzZS5hbGwoIHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyApLFxuXHRcdFByb21pc2UuYWxsKCBwZW5kaW5nTm9ybWFsQWNjZXNzb3JzICksXG5cdFx0UHJvbWlzZS5hbGwoIHBlbmRpbmdDb2xvckFjY2Vzc29ycyApXG5cdF0gKS50aGVuKCBmdW5jdGlvbiAoIGFjY2Vzc29ycyApIHtcblxuXHRcdGNvbnN0IG1vcnBoUG9zaXRpb25zID0gYWNjZXNzb3JzWyAwIF07XG5cdFx0Y29uc3QgbW9ycGhOb3JtYWxzID0gYWNjZXNzb3JzWyAxIF07XG5cdFx0Y29uc3QgbW9ycGhDb2xvcnMgPSBhY2Nlc3NvcnNbIDIgXTtcblxuXHRcdGlmICggaGFzTW9ycGhQb3NpdGlvbiApIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiA9IG1vcnBoUG9zaXRpb25zO1xuXHRcdGlmICggaGFzTW9ycGhOb3JtYWwgKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsID0gbW9ycGhOb3JtYWxzO1xuXHRcdGlmICggaGFzTW9ycGhDb2xvciApIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5jb2xvciA9IG1vcnBoQ29sb3JzO1xuXHRcdGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gdHJ1ZTtcblxuXHRcdHJldHVybiBnZW9tZXRyeTtcblxuXHR9ICk7XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge01lc2h9IG1lc2hcbiAqIEBwYXJhbSB7R0xURi5NZXNofSBtZXNoRGVmXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZU1vcnBoVGFyZ2V0cyggbWVzaCwgbWVzaERlZiApIHtcblxuXHRtZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO1xuXG5cdGlmICggbWVzaERlZi53ZWlnaHRzICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbWVzaERlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdID0gbWVzaERlZi53ZWlnaHRzWyBpIF07XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vIC5leHRyYXMgaGFzIHVzZXItZGVmaW5lZCBkYXRhLCBzbyBjaGVjayB0aGF0IC5leHRyYXMudGFyZ2V0TmFtZXMgaXMgYW4gYXJyYXkuXG5cdGlmICggbWVzaERlZi5leHRyYXMgJiYgQXJyYXkuaXNBcnJheSggbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXMgKSApIHtcblxuXHRcdGNvbnN0IHRhcmdldE5hbWVzID0gbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXM7XG5cblx0XHRpZiAoIG1lc2gubW9ycGhUYXJnZXRJbmZsdWVuY2VzLmxlbmd0aCA9PT0gdGFyZ2V0TmFtZXMubGVuZ3RoICkge1xuXG5cdFx0XHRtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSA9IHt9O1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gdGFyZ2V0TmFtZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0bWVzaC5tb3JwaFRhcmdldERpY3Rpb25hcnlbIHRhcmdldE5hbWVzWyBpIF0gXSA9IGk7XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IEludmFsaWQgZXh0cmFzLnRhcmdldE5hbWVzIGxlbmd0aC4gSWdub3JpbmcgbmFtZXMuJyApO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVLZXkoIHByaW1pdGl2ZURlZiApIHtcblxuXHRjb25zdCBkcmFjb0V4dGVuc2lvbiA9IHByaW1pdGl2ZURlZi5leHRlbnNpb25zICYmIHByaW1pdGl2ZURlZi5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIF07XG5cdGxldCBnZW9tZXRyeUtleTtcblxuXHRpZiAoIGRyYWNvRXh0ZW5zaW9uICkge1xuXG5cdFx0Z2VvbWV0cnlLZXkgPSAnZHJhY286JyArIGRyYWNvRXh0ZW5zaW9uLmJ1ZmZlclZpZXdcblx0XHRcdFx0KyAnOicgKyBkcmFjb0V4dGVuc2lvbi5pbmRpY2VzXG5cdFx0XHRcdCsgJzonICsgY3JlYXRlQXR0cmlidXRlc0tleSggZHJhY29FeHRlbnNpb24uYXR0cmlidXRlcyApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHRnZW9tZXRyeUtleSA9IHByaW1pdGl2ZURlZi5pbmRpY2VzICsgJzonICsgY3JlYXRlQXR0cmlidXRlc0tleSggcHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXMgKSArICc6JyArIHByaW1pdGl2ZURlZi5tb2RlO1xuXG5cdH1cblxuXHRyZXR1cm4gZ2VvbWV0cnlLZXk7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlc0tleSggYXR0cmlidXRlcyApIHtcblxuXHRsZXQgYXR0cmlidXRlc0tleSA9ICcnO1xuXG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyggYXR0cmlidXRlcyApLnNvcnQoKTtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGlsID0ga2V5cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdGF0dHJpYnV0ZXNLZXkgKz0ga2V5c1sgaSBdICsgJzonICsgYXR0cmlidXRlc1sga2V5c1sgaSBdIF0gKyAnOyc7XG5cblx0fVxuXG5cdHJldHVybiBhdHRyaWJ1dGVzS2V5O1xuXG59XG5cbmZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRDb21wb25lbnRTY2FsZSggY29uc3RydWN0b3IgKSB7XG5cblx0Ly8gUmVmZXJlbmNlOlxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWVzaF9xdWFudGl6YXRpb24jZW5jb2RpbmctcXVhbnRpemVkLWRhdGFcblxuXHRzd2l0Y2ggKCBjb25zdHJ1Y3RvciApIHtcblxuXHRcdGNhc2UgSW50OEFycmF5OlxuXHRcdFx0cmV0dXJuIDEgLyAxMjc7XG5cblx0XHRjYXNlIFVpbnQ4QXJyYXk6XG5cdFx0XHRyZXR1cm4gMSAvIDI1NTtcblxuXHRcdGNhc2UgSW50MTZBcnJheTpcblx0XHRcdHJldHVybiAxIC8gMzI3Njc7XG5cblx0XHRjYXNlIFVpbnQxNkFycmF5OlxuXHRcdFx0cmV0dXJuIDEgLyA2NTUzNTtcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBub3JtYWxpemVkIGFjY2Vzc29yIGNvbXBvbmVudCB0eXBlLicgKTtcblxuXHR9XG5cbn1cblxuZnVuY3Rpb24gZ2V0SW1hZ2VVUklNaW1lVHlwZSggdXJpICkge1xuXG5cdGlmICggdXJpLnNlYXJjaCggL1xcLmpwZT9nKCR8XFw/KS9pICkgPiAwIHx8IHVyaS5zZWFyY2goIC9eZGF0YVxcOmltYWdlXFwvanBlZy8gKSA9PT0gMCApIHJldHVybiAnaW1hZ2UvanBlZyc7XG5cdGlmICggdXJpLnNlYXJjaCggL1xcLndlYnAoJHxcXD8pL2kgKSA+IDAgfHwgdXJpLnNlYXJjaCggL15kYXRhXFw6aW1hZ2VcXC93ZWJwLyApID09PSAwICkgcmV0dXJuICdpbWFnZS93ZWJwJztcblxuXHRyZXR1cm4gJ2ltYWdlL3BuZyc7XG5cbn1cblxuY29uc3QgX2lkZW50aXR5TWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcblxuLyogR0xURiBQQVJTRVIgKi9cblxuY2xhc3MgR0xURlBhcnNlciB7XG5cblx0Y29uc3RydWN0b3IoIGpzb24gPSB7fSwgb3B0aW9ucyA9IHt9ICkge1xuXG5cdFx0dGhpcy5qc29uID0ganNvbjtcblx0XHR0aGlzLmV4dGVuc2lvbnMgPSB7fTtcblx0XHR0aGlzLnBsdWdpbnMgPSB7fTtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG5cdFx0Ly8gbG9hZGVyIG9iamVjdCBjYWNoZVxuXHRcdHRoaXMuY2FjaGUgPSBuZXcgR0xURlJlZ2lzdHJ5KCk7XG5cblx0XHQvLyBhc3NvY2lhdGlvbnMgYmV0d2VlbiBUaHJlZS5qcyBvYmplY3RzIGFuZCBnbFRGIGVsZW1lbnRzXG5cdFx0dGhpcy5hc3NvY2lhdGlvbnMgPSBuZXcgTWFwKCk7XG5cblx0XHQvLyBCdWZmZXJHZW9tZXRyeSBjYWNoaW5nXG5cdFx0dGhpcy5wcmltaXRpdmVDYWNoZSA9IHt9O1xuXG5cdFx0Ly8gT2JqZWN0M0QgaW5zdGFuY2UgY2FjaGVzXG5cdFx0dGhpcy5tZXNoQ2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9O1xuXHRcdHRoaXMuY2FtZXJhQ2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9O1xuXHRcdHRoaXMubGlnaHRDYWNoZSA9IHsgcmVmczoge30sIHVzZXM6IHt9IH07XG5cblx0XHR0aGlzLnNvdXJjZUNhY2hlID0ge307XG5cdFx0dGhpcy50ZXh0dXJlQ2FjaGUgPSB7fTtcblxuXHRcdC8vIFRyYWNrIG5vZGUgbmFtZXMsIHRvIGVuc3VyZSBubyBkdXBsaWNhdGVzXG5cdFx0dGhpcy5ub2RlTmFtZXNVc2VkID0ge307XG5cblx0XHQvLyBVc2UgYW4gSW1hZ2VCaXRtYXBMb2FkZXIgaWYgaW1hZ2VCaXRtYXBzIGFyZSBzdXBwb3J0ZWQuIE1vdmVzIG11Y2ggb2YgdGhlXG5cdFx0Ly8gZXhwZW5zaXZlIHdvcmsgb2YgdXBsb2FkaW5nIGEgdGV4dHVyZSB0byB0aGUgR1BVIG9mZiB0aGUgbWFpbiB0aHJlYWQuXG5cblx0XHRsZXQgaXNTYWZhcmkgPSBmYWxzZTtcblx0XHRsZXQgaXNGaXJlZm94ID0gZmFsc2U7XG5cdFx0bGV0IGZpcmVmb3hWZXJzaW9uID0gLSAxO1xuXG5cdFx0aWYgKCB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyApIHtcblxuXHRcdFx0aXNTYWZhcmkgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICkgPT09IHRydWU7XG5cdFx0XHRpc0ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoICdGaXJlZm94JyApID4gLSAxO1xuXHRcdFx0ZmlyZWZveFZlcnNpb24gPSBpc0ZpcmVmb3ggPyBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCAvRmlyZWZveFxcLyhbMC05XSspXFwuLyApWyAxIF0gOiAtIDE7XG5cblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiBjcmVhdGVJbWFnZUJpdG1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgaXNTYWZhcmkgfHwgKCBpc0ZpcmVmb3ggJiYgZmlyZWZveFZlcnNpb24gPCA5OCApICkge1xuXG5cdFx0XHR0aGlzLnRleHR1cmVMb2FkZXIgPSBuZXcgVGV4dHVyZUxvYWRlciggdGhpcy5vcHRpb25zLm1hbmFnZXIgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRoaXMudGV4dHVyZUxvYWRlciA9IG5ldyBJbWFnZUJpdG1hcExvYWRlciggdGhpcy5vcHRpb25zLm1hbmFnZXIgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMudGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbiggdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luICk7XG5cdFx0dGhpcy50ZXh0dXJlTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoIHRoaXMub3B0aW9ucy5yZXF1ZXN0SGVhZGVyICk7XG5cblx0XHR0aGlzLmZpbGVMb2FkZXIgPSBuZXcgRmlsZUxvYWRlciggdGhpcy5vcHRpb25zLm1hbmFnZXIgKTtcblx0XHR0aGlzLmZpbGVMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCAnYXJyYXlidWZmZXInICk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscycgKSB7XG5cblx0XHRcdHRoaXMuZmlsZUxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHMoIHRydWUgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0c2V0RXh0ZW5zaW9ucyggZXh0ZW5zaW9ucyApIHtcblxuXHRcdHRoaXMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG5cblx0fVxuXG5cdHNldFBsdWdpbnMoIHBsdWdpbnMgKSB7XG5cblx0XHR0aGlzLnBsdWdpbnMgPSBwbHVnaW5zO1xuXG5cdH1cblxuXHRwYXJzZSggb25Mb2FkLCBvbkVycm9yICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cblx0XHQvLyBDbGVhciB0aGUgbG9hZGVyIGNhY2hlXG5cdFx0dGhpcy5jYWNoZS5yZW1vdmVBbGwoKTtcblxuXHRcdC8vIE1hcmsgdGhlIHNwZWNpYWwgbm9kZXMvbWVzaGVzIGluIGpzb24gZm9yIGVmZmljaWVudCBwYXJzZVxuXHRcdHRoaXMuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdHJldHVybiBleHQuX21hcmtEZWZzICYmIGV4dC5fbWFya0RlZnMoKTtcblxuXHRcdH0gKTtcblxuXHRcdFByb21pc2UuYWxsKCB0aGlzLl9pbnZva2VBbGwoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRyZXR1cm4gZXh0LmJlZm9yZVJvb3QgJiYgZXh0LmJlZm9yZVJvb3QoKTtcblxuXHRcdH0gKSApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKCBbXG5cblx0XHRcdFx0cGFyc2VyLmdldERlcGVuZGVuY2llcyggJ3NjZW5lJyApLFxuXHRcdFx0XHRwYXJzZXIuZ2V0RGVwZW5kZW5jaWVzKCAnYW5pbWF0aW9uJyApLFxuXHRcdFx0XHRwYXJzZXIuZ2V0RGVwZW5kZW5jaWVzKCAnY2FtZXJhJyApLFxuXG5cdFx0XHRdICk7XG5cblx0XHR9ICkudGhlbiggZnVuY3Rpb24gKCBkZXBlbmRlbmNpZXMgKSB7XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IHtcblx0XHRcdFx0c2NlbmU6IGRlcGVuZGVuY2llc1sgMCBdWyBqc29uLnNjZW5lIHx8IDAgXSxcblx0XHRcdFx0c2NlbmVzOiBkZXBlbmRlbmNpZXNbIDAgXSxcblx0XHRcdFx0YW5pbWF0aW9uczogZGVwZW5kZW5jaWVzWyAxIF0sXG5cdFx0XHRcdGNhbWVyYXM6IGRlcGVuZGVuY2llc1sgMiBdLFxuXHRcdFx0XHRhc3NldDoganNvbi5hc3NldCxcblx0XHRcdFx0cGFyc2VyOiBwYXJzZXIsXG5cdFx0XHRcdHVzZXJEYXRhOiB7fVxuXHRcdFx0fTtcblxuXHRcdFx0YWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCByZXN1bHQsIGpzb24gKTtcblxuXHRcdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggcmVzdWx0LCBqc29uICk7XG5cblx0XHRcdFByb21pc2UuYWxsKCBwYXJzZXIuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGV4dC5hZnRlclJvb3QgJiYgZXh0LmFmdGVyUm9vdCggcmVzdWx0ICk7XG5cblx0XHRcdH0gKSApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRvbkxvYWQoIHJlc3VsdCApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9ICkuY2F0Y2goIG9uRXJyb3IgKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIE1hcmtzIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2UuXG5cdCAqL1xuXHRfbWFya0RlZnMoKSB7XG5cblx0XHRjb25zdCBub2RlRGVmcyA9IHRoaXMuanNvbi5ub2RlcyB8fCBbXTtcblx0XHRjb25zdCBza2luRGVmcyA9IHRoaXMuanNvbi5za2lucyB8fCBbXTtcblx0XHRjb25zdCBtZXNoRGVmcyA9IHRoaXMuanNvbi5tZXNoZXMgfHwgW107XG5cblx0XHQvLyBOb3RoaW5nIGluIHRoZSBub2RlIGRlZmluaXRpb24gaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXMgYSBCb25lIG9yIGFuXG5cdFx0Ly8gT2JqZWN0M0QuIFVzZSB0aGUgc2tpbnMnIGpvaW50IHJlZmVyZW5jZXMgdG8gbWFyayBib25lcy5cblx0XHRmb3IgKCBsZXQgc2tpbkluZGV4ID0gMCwgc2tpbkxlbmd0aCA9IHNraW5EZWZzLmxlbmd0aDsgc2tpbkluZGV4IDwgc2tpbkxlbmd0aDsgc2tpbkluZGV4ICsrICkge1xuXG5cdFx0XHRjb25zdCBqb2ludHMgPSBza2luRGVmc1sgc2tpbkluZGV4IF0uam9pbnRzO1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdG5vZGVEZWZzWyBqb2ludHNbIGkgXSBdLmlzQm9uZSA9IHRydWU7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIEl0ZXJhdGUgb3ZlciBhbGwgbm9kZXMsIG1hcmtpbmcgcmVmZXJlbmNlcyB0byBzaGFyZWQgcmVzb3VyY2VzLFxuXHRcdC8vIGFzIHdlbGwgYXMgc2tlbGV0b24gam9pbnRzLlxuXHRcdGZvciAoIGxldCBub2RlSW5kZXggPSAwLCBub2RlTGVuZ3RoID0gbm9kZURlZnMubGVuZ3RoOyBub2RlSW5kZXggPCBub2RlTGVuZ3RoOyBub2RlSW5kZXggKysgKSB7XG5cblx0XHRcdGNvbnN0IG5vZGVEZWYgPSBub2RlRGVmc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdGlmICggbm9kZURlZi5tZXNoICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0dGhpcy5fYWRkTm9kZVJlZiggdGhpcy5tZXNoQ2FjaGUsIG5vZGVEZWYubWVzaCApO1xuXG5cdFx0XHRcdC8vIE5vdGhpbmcgaW4gdGhlIG1lc2ggZGVmaW5pdGlvbiBpbmRpY2F0ZXMgd2hldGhlciBpdCBpc1xuXHRcdFx0XHQvLyBhIFNraW5uZWRNZXNoIG9yIE1lc2guIFVzZSB0aGUgbm9kZSdzIG1lc2ggcmVmZXJlbmNlXG5cdFx0XHRcdC8vIHRvIG1hcmsgU2tpbm5lZE1lc2ggaWYgbm9kZSBoYXMgc2tpbi5cblx0XHRcdFx0aWYgKCBub2RlRGVmLnNraW4gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdG1lc2hEZWZzWyBub2RlRGVmLm1lc2ggXS5pc1NraW5uZWRNZXNoID0gdHJ1ZTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHRoaXMuX2FkZE5vZGVSZWYoIHRoaXMuY2FtZXJhQ2FjaGUsIG5vZGVEZWYuY2FtZXJhICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqIENvdW50cyByZWZlcmVuY2VzIHRvIHNoYXJlZCBub2RlIC8gT2JqZWN0M0QgcmVzb3VyY2VzLiBUaGVzZSByZXNvdXJjZXNcblx0ICogY2FuIGJlIHJldXNlZCwgb3IgXCJpbnN0YW50aWF0ZWRcIiwgYXQgbXVsdGlwbGUgbm9kZXMgaW4gdGhlIHNjZW5lXG5cdCAqIGhpZXJhcmNoeS4gTWVzaCwgQ2FtZXJhLCBhbmQgTGlnaHQgaW5zdGFuY2VzIGFyZSBpbnN0YW50aWF0ZWQgYW5kIG11c3Rcblx0ICogYmUgbWFya2VkLiBOb24tc2NlbmVncmFwaCByZXNvdXJjZXMgKGxpa2UgTWF0ZXJpYWxzLCBHZW9tZXRyaWVzLCBhbmRcblx0ICogVGV4dHVyZXMpIGNhbiBiZSByZXVzZWQgZGlyZWN0bHkgYW5kIGFyZSBub3QgbWFya2VkIGhlcmUuXG5cdCAqXG5cdCAqIEV4YW1wbGU6IENlc2l1bU1pbGtUcnVjayBzYW1wbGUgbW9kZWwgcmV1c2VzIFwiV2hlZWxcIiBtZXNoZXMuXG5cdCAqL1xuXHRfYWRkTm9kZVJlZiggY2FjaGUsIGluZGV4ICkge1xuXG5cdFx0aWYgKCBpbmRleCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuO1xuXG5cdFx0aWYgKCBjYWNoZS5yZWZzWyBpbmRleCBdID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNhY2hlLnJlZnNbIGluZGV4IF0gPSBjYWNoZS51c2VzWyBpbmRleCBdID0gMDtcblxuXHRcdH1cblxuXHRcdGNhY2hlLnJlZnNbIGluZGV4IF0gKys7XG5cblx0fVxuXG5cdC8qKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGEgc2hhcmVkIHJlc291cmNlLCBjbG9uaW5nIGl0IGlmIG5lY2Vzc2FyeS4gKi9cblx0X2dldE5vZGVSZWYoIGNhY2hlLCBpbmRleCwgb2JqZWN0ICkge1xuXG5cdFx0aWYgKCBjYWNoZS5yZWZzWyBpbmRleCBdIDw9IDEgKSByZXR1cm4gb2JqZWN0O1xuXG5cdFx0Y29uc3QgcmVmID0gb2JqZWN0LmNsb25lKCk7XG5cblx0XHQvLyBQcm9wYWdhdGVzIG1hcHBpbmdzIHRvIHRoZSBjbG9uZWQgb2JqZWN0LCBwcmV2ZW50cyBtYXBwaW5ncyBvbiB0aGVcblx0XHQvLyBvcmlnaW5hbCBvYmplY3QgZnJvbSBiZWluZyBsb3N0LlxuXHRcdGNvbnN0IHVwZGF0ZU1hcHBpbmdzID0gKCBvcmlnaW5hbCwgY2xvbmUgKSA9PiB7XG5cblx0XHRcdGNvbnN0IG1hcHBpbmdzID0gdGhpcy5hc3NvY2lhdGlvbnMuZ2V0KCBvcmlnaW5hbCApO1xuXHRcdFx0aWYgKCBtYXBwaW5ncyAhPSBudWxsICkge1xuXG5cdFx0XHRcdHRoaXMuYXNzb2NpYXRpb25zLnNldCggY2xvbmUsIG1hcHBpbmdzICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggY29uc3QgWyBpLCBjaGlsZCBdIG9mIG9yaWdpbmFsLmNoaWxkcmVuLmVudHJpZXMoKSApIHtcblxuXHRcdFx0XHR1cGRhdGVNYXBwaW5ncyggY2hpbGQsIGNsb25lLmNoaWxkcmVuWyBpIF0gKTtcblxuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdHVwZGF0ZU1hcHBpbmdzKCBvYmplY3QsIHJlZiApO1xuXG5cdFx0cmVmLm5hbWUgKz0gJ19pbnN0YW5jZV8nICsgKCBjYWNoZS51c2VzWyBpbmRleCBdICsrICk7XG5cblx0XHRyZXR1cm4gcmVmO1xuXG5cdH1cblxuXHRfaW52b2tlT25lKCBmdW5jICkge1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9ucyA9IE9iamVjdC52YWx1ZXMoIHRoaXMucGx1Z2lucyApO1xuXHRcdGV4dGVuc2lvbnMucHVzaCggdGhpcyApO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IGZ1bmMoIGV4dGVuc2lvbnNbIGkgXSApO1xuXG5cdFx0XHRpZiAoIHJlc3VsdCApIHJldHVybiByZXN1bHQ7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblxuXHR9XG5cblx0X2ludm9rZUFsbCggZnVuYyApIHtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSBPYmplY3QudmFsdWVzKCB0aGlzLnBsdWdpbnMgKTtcblx0XHRleHRlbnNpb25zLnVuc2hpZnQoIHRoaXMgKTtcblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCByZXN1bHQgPSBmdW5jKCBleHRlbnNpb25zWyBpIF0gKTtcblxuXHRcdFx0aWYgKCByZXN1bHQgKSBwZW5kaW5nLnB1c2goIHJlc3VsdCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBlbmRpbmc7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXF1ZXN0cyB0aGUgc3BlY2lmaWVkIGRlcGVuZGVuY3kgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0M0R8TWF0ZXJpYWx8VEhSRUUuVGV4dHVyZXxBbmltYXRpb25DbGlwfEFycmF5QnVmZmVyfE9iamVjdD59XG5cdCAqL1xuXHRnZXREZXBlbmRlbmN5KCB0eXBlLCBpbmRleCApIHtcblxuXHRcdGNvbnN0IGNhY2hlS2V5ID0gdHlwZSArICc6JyArIGluZGV4O1xuXHRcdGxldCBkZXBlbmRlbmN5ID0gdGhpcy5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7XG5cblx0XHRpZiAoICEgZGVwZW5kZW5jeSApIHtcblxuXHRcdFx0c3dpdGNoICggdHlwZSApIHtcblxuXHRcdFx0XHRjYXNlICdzY2VuZSc6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNjZW5lKCBpbmRleCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ25vZGUnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXh0LmxvYWROb2RlICYmIGV4dC5sb2FkTm9kZSggaW5kZXggKTtcblxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdtZXNoJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGV4dC5sb2FkTWVzaCAmJiBleHQubG9hZE1lc2goIGluZGV4ICk7XG5cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnYWNjZXNzb3InOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRBY2Nlc3NvciggaW5kZXggKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdidWZmZXJWaWV3Jzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGV4dC5sb2FkQnVmZmVyVmlldyAmJiBleHQubG9hZEJ1ZmZlclZpZXcoIGluZGV4ICk7XG5cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnYnVmZmVyJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQnVmZmVyKCBpbmRleCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ21hdGVyaWFsJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGV4dC5sb2FkTWF0ZXJpYWwgJiYgZXh0LmxvYWRNYXRlcmlhbCggaW5kZXggKTtcblxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICd0ZXh0dXJlJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGV4dC5sb2FkVGV4dHVyZSAmJiBleHQubG9hZFRleHR1cmUoIGluZGV4ICk7XG5cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnc2tpbic6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNraW4oIGluZGV4ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnYW5pbWF0aW9uJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGV4dC5sb2FkQW5pbWF0aW9uICYmIGV4dC5sb2FkQW5pbWF0aW9uKCBpbmRleCApO1xuXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2NhbWVyYSc6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMubG9hZENhbWVyYSggaW5kZXggKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXh0ICE9IHRoaXMgJiYgZXh0LmdldERlcGVuZGVuY3kgJiYgZXh0LmdldERlcGVuZGVuY3koIHR5cGUsIGluZGV4ICk7XG5cblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHRpZiAoICEgZGVwZW5kZW5jeSApIHtcblxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVW5rbm93biB0eXBlOiAnICsgdHlwZSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdH1cblxuXHRcdFx0dGhpcy5jYWNoZS5hZGQoIGNhY2hlS2V5LCBkZXBlbmRlbmN5ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gZGVwZW5kZW5jeTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFJlcXVlc3RzIGFsbCBkZXBlbmRlbmNpZXMgb2YgdGhlIHNwZWNpZmllZCB0eXBlIGFzeW5jaHJvbm91c2x5LCB3aXRoIGNhY2hpbmcuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8T2JqZWN0Pj59XG5cdCAqL1xuXHRnZXREZXBlbmRlbmNpZXMoIHR5cGUgKSB7XG5cblx0XHRsZXQgZGVwZW5kZW5jaWVzID0gdGhpcy5jYWNoZS5nZXQoIHR5cGUgKTtcblxuXHRcdGlmICggISBkZXBlbmRlbmNpZXMgKSB7XG5cblx0XHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0XHRjb25zdCBkZWZzID0gdGhpcy5qc29uWyB0eXBlICsgKCB0eXBlID09PSAnbWVzaCcgPyAnZXMnIDogJ3MnICkgXSB8fCBbXTtcblxuXHRcdFx0ZGVwZW5kZW5jaWVzID0gUHJvbWlzZS5hbGwoIGRlZnMubWFwKCBmdW5jdGlvbiAoIGRlZiwgaW5kZXggKSB7XG5cblx0XHRcdFx0cmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCB0eXBlLCBpbmRleCApO1xuXG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0dGhpcy5jYWNoZS5hZGQoIHR5cGUsIGRlcGVuZGVuY2llcyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlcGVuZGVuY2llcztcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cblx0ICovXG5cdGxvYWRCdWZmZXIoIGJ1ZmZlckluZGV4ICkge1xuXG5cdFx0Y29uc3QgYnVmZmVyRGVmID0gdGhpcy5qc29uLmJ1ZmZlcnNbIGJ1ZmZlckluZGV4IF07XG5cdFx0Y29uc3QgbG9hZGVyID0gdGhpcy5maWxlTG9hZGVyO1xuXG5cdFx0aWYgKCBidWZmZXJEZWYudHlwZSAmJiBidWZmZXJEZWYudHlwZSAhPT0gJ2FycmF5YnVmZmVyJyApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogJyArIGJ1ZmZlckRlZi50eXBlICsgJyBidWZmZXIgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLicgKTtcblxuXHRcdH1cblxuXHRcdC8vIElmIHByZXNlbnQsIEdMQiBjb250YWluZXIgaXMgcmVxdWlyZWQgdG8gYmUgdGhlIGZpcnN0IGJ1ZmZlci5cblx0XHRpZiAoIGJ1ZmZlckRlZi51cmkgPT09IHVuZGVmaW5lZCAmJiBidWZmZXJJbmRleCA9PT0gMCApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSggdGhpcy5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURiBdLmJvZHkgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXG5cdFx0XHRsb2FkZXIubG9hZCggTG9hZGVyVXRpbHMucmVzb2x2ZVVSTCggYnVmZmVyRGVmLnVyaSwgb3B0aW9ucy5wYXRoICksIHJlc29sdmUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdHJlamVjdCggbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJyArIGJ1ZmZlckRlZi51cmkgKyAnXCIuJyApICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJWaWV3SW5kZXhcblx0ICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG5cdCAqL1xuXHRsb2FkQnVmZmVyVmlldyggYnVmZmVyVmlld0luZGV4ICkge1xuXG5cdFx0Y29uc3QgYnVmZmVyVmlld0RlZiA9IHRoaXMuanNvbi5idWZmZXJWaWV3c1sgYnVmZmVyVmlld0luZGV4IF07XG5cblx0XHRyZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyJywgYnVmZmVyVmlld0RlZi5idWZmZXIgKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlciApIHtcblxuXHRcdFx0Y29uc3QgYnl0ZUxlbmd0aCA9IGJ1ZmZlclZpZXdEZWYuYnl0ZUxlbmd0aCB8fCAwO1xuXHRcdFx0Y29uc3QgYnl0ZU9mZnNldCA9IGJ1ZmZlclZpZXdEZWYuYnl0ZU9mZnNldCB8fCAwO1xuXHRcdFx0cmV0dXJuIGJ1ZmZlci5zbGljZSggYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGggKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYWNjZXNzb3JzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBhY2Nlc3NvckluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyQXR0cmlidXRlfEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPn1cblx0ICovXG5cdGxvYWRBY2Nlc3NvciggYWNjZXNzb3JJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblxuXHRcdGNvbnN0IGFjY2Vzc29yRGVmID0gdGhpcy5qc29uLmFjY2Vzc29yc1sgYWNjZXNzb3JJbmRleCBdO1xuXG5cdFx0aWYgKCBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ID09PSB1bmRlZmluZWQgJiYgYWNjZXNzb3JEZWYuc3BhcnNlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnN0IGl0ZW1TaXplID0gV0VCR0xfVFlQRV9TSVpFU1sgYWNjZXNzb3JEZWYudHlwZSBdO1xuXHRcdFx0Y29uc3QgVHlwZWRBcnJheSA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1sgYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZSBdO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZCA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG5cblx0XHRcdGNvbnN0IGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoIGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUgKTtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoIG5ldyBCdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCApICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nQnVmZmVyVmlld3MgPSBbXTtcblxuXHRcdGlmICggYWNjZXNzb3JEZWYuYnVmZmVyVmlldyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgKSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cGVuZGluZ0J1ZmZlclZpZXdzLnB1c2goIG51bGwgKTtcblxuXHRcdH1cblxuXHRcdGlmICggYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKCB0aGlzLmdldERlcGVuZGVuY3koICdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnVmZmVyVmlldyApICk7XG5cdFx0XHRwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLnNwYXJzZS52YWx1ZXMuYnVmZmVyVmlldyApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmdCdWZmZXJWaWV3cyApLnRoZW4oIGZ1bmN0aW9uICggYnVmZmVyVmlld3MgKSB7XG5cblx0XHRcdGNvbnN0IGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1sgMCBdO1xuXG5cdFx0XHRjb25zdCBpdGVtU2l6ZSA9IFdFQkdMX1RZUEVfU0laRVNbIGFjY2Vzc29yRGVmLnR5cGUgXTtcblx0XHRcdGNvbnN0IFR5cGVkQXJyYXkgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgXTtcblxuXHRcdFx0Ly8gRm9yIFZFQzM6IGl0ZW1TaXplIGlzIDMsIGVsZW1lbnRCeXRlcyBpcyA0LCBpdGVtQnl0ZXMgaXMgMTIuXG5cdFx0XHRjb25zdCBlbGVtZW50Qnl0ZXMgPSBUeXBlZEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xuXHRcdFx0Y29uc3QgaXRlbUJ5dGVzID0gZWxlbWVudEJ5dGVzICogaXRlbVNpemU7XG5cdFx0XHRjb25zdCBieXRlT2Zmc2V0ID0gYWNjZXNzb3JEZWYuYnl0ZU9mZnNldCB8fCAwO1xuXHRcdFx0Y29uc3QgYnl0ZVN0cmlkZSA9IGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCA/IGpzb24uYnVmZmVyVmlld3NbIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgXS5ieXRlU3RyaWRlIDogdW5kZWZpbmVkO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZCA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG5cdFx0XHRsZXQgYXJyYXksIGJ1ZmZlckF0dHJpYnV0ZTtcblxuXHRcdFx0Ly8gVGhlIGJ1ZmZlciBpcyBub3QgaW50ZXJsZWF2ZWQgaWYgdGhlIHN0cmlkZSBpcyB0aGUgaXRlbSBzaXplIGluIGJ5dGVzLlxuXHRcdFx0aWYgKCBieXRlU3RyaWRlICYmIGJ5dGVTdHJpZGUgIT09IGl0ZW1CeXRlcyApIHtcblxuXHRcdFx0XHQvLyBFYWNoIFwic2xpY2VcIiBvZiB0aGUgYnVmZmVyLCBhcyBkZWZpbmVkIGJ5ICdjb3VudCcgZWxlbWVudHMgb2YgJ2J5dGVTdHJpZGUnIGJ5dGVzLCBnZXRzIGl0cyBvd24gSW50ZXJsZWF2ZWRCdWZmZXJcblx0XHRcdFx0Ly8gVGhpcyBtYWtlcyBzdXJlIHRoYXQgSUJBLmNvdW50IHJlZmxlY3RzIGFjY2Vzc29yLmNvdW50IHByb3Blcmx5XG5cdFx0XHRcdGNvbnN0IGliU2xpY2UgPSBNYXRoLmZsb29yKCBieXRlT2Zmc2V0IC8gYnl0ZVN0cmlkZSApO1xuXHRcdFx0XHRjb25zdCBpYkNhY2hlS2V5ID0gJ0ludGVybGVhdmVkQnVmZmVyOicgKyBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICsgJzonICsgYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZSArICc6JyArIGliU2xpY2UgKyAnOicgKyBhY2Nlc3NvckRlZi5jb3VudDtcblx0XHRcdFx0bGV0IGliID0gcGFyc2VyLmNhY2hlLmdldCggaWJDYWNoZUtleSApO1xuXG5cdFx0XHRcdGlmICggISBpYiApIHtcblxuXHRcdFx0XHRcdGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoIGJ1ZmZlclZpZXcsIGliU2xpY2UgKiBieXRlU3RyaWRlLCBhY2Nlc3NvckRlZi5jb3VudCAqIGJ5dGVTdHJpZGUgLyBlbGVtZW50Qnl0ZXMgKTtcblxuXHRcdFx0XHRcdC8vIEludGVnZXIgcGFyYW1ldGVycyB0byBJQi9JQkEgYXJlIGluIGFycmF5IGVsZW1lbnRzLCBub3QgYnl0ZXMuXG5cdFx0XHRcdFx0aWIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIoIGFycmF5LCBieXRlU3RyaWRlIC8gZWxlbWVudEJ5dGVzICk7XG5cblx0XHRcdFx0XHRwYXJzZXIuY2FjaGUuYWRkKCBpYkNhY2hlS2V5LCBpYiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRidWZmZXJBdHRyaWJ1dGUgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoIGliLCBpdGVtU2l6ZSwgKCBieXRlT2Zmc2V0ICUgYnl0ZVN0cmlkZSApIC8gZWxlbWVudEJ5dGVzLCBub3JtYWxpemVkICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKCBidWZmZXJWaWV3ID09PSBudWxsICkge1xuXG5cdFx0XHRcdFx0YXJyYXkgPSBuZXcgVHlwZWRBcnJheSggYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRhcnJheSA9IG5ldyBUeXBlZEFycmF5KCBidWZmZXJWaWV3LCBieXRlT2Zmc2V0LCBhY2Nlc3NvckRlZi5jb3VudCAqIGl0ZW1TaXplICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjc3BhcnNlLWFjY2Vzc29yc1xuXHRcdFx0aWYgKCBhY2Nlc3NvckRlZi5zcGFyc2UgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRjb25zdCBpdGVtU2l6ZUluZGljZXMgPSBXRUJHTF9UWVBFX1NJWkVTLlNDQUxBUjtcblx0XHRcdFx0Y29uc3QgVHlwZWRBcnJheUluZGljZXMgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmNvbXBvbmVudFR5cGUgXTtcblxuXHRcdFx0XHRjb25zdCBieXRlT2Zmc2V0SW5kaWNlcyA9IGFjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmJ5dGVPZmZzZXQgfHwgMDtcblx0XHRcdFx0Y29uc3QgYnl0ZU9mZnNldFZhbHVlcyA9IGFjY2Vzc29yRGVmLnNwYXJzZS52YWx1ZXMuYnl0ZU9mZnNldCB8fCAwO1xuXG5cdFx0XHRcdGNvbnN0IHNwYXJzZUluZGljZXMgPSBuZXcgVHlwZWRBcnJheUluZGljZXMoIGJ1ZmZlclZpZXdzWyAxIF0sIGJ5dGVPZmZzZXRJbmRpY2VzLCBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZUluZGljZXMgKTtcblx0XHRcdFx0Y29uc3Qgc3BhcnNlVmFsdWVzID0gbmV3IFR5cGVkQXJyYXkoIGJ1ZmZlclZpZXdzWyAyIF0sIGJ5dGVPZmZzZXRWYWx1ZXMsIGFjY2Vzc29yRGVmLnNwYXJzZS5jb3VudCAqIGl0ZW1TaXplICk7XG5cblx0XHRcdFx0aWYgKCBidWZmZXJWaWV3ICE9PSBudWxsICkge1xuXG5cdFx0XHRcdFx0Ly8gQXZvaWQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbCBBcnJheUJ1ZmZlciwgaWYgdGhlIGJ1ZmZlclZpZXcgd2Fzbid0IGluaXRpYWxpemVkIHdpdGggemVyb2VzLlxuXHRcdFx0XHRcdGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoIGJ1ZmZlckF0dHJpYnV0ZS5hcnJheS5zbGljZSgpLCBidWZmZXJBdHRyaWJ1dGUuaXRlbVNpemUsIGJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBzcGFyc2VJbmRpY2VzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBzcGFyc2VJbmRpY2VzWyBpIF07XG5cblx0XHRcdFx0XHRidWZmZXJBdHRyaWJ1dGUuc2V0WCggaW5kZXgsIHNwYXJzZVZhbHVlc1sgaSAqIGl0ZW1TaXplIF0gKTtcblx0XHRcdFx0XHRpZiAoIGl0ZW1TaXplID49IDIgKSBidWZmZXJBdHRyaWJ1dGUuc2V0WSggaW5kZXgsIHNwYXJzZVZhbHVlc1sgaSAqIGl0ZW1TaXplICsgMSBdICk7XG5cdFx0XHRcdFx0aWYgKCBpdGVtU2l6ZSA+PSAzICkgYnVmZmVyQXR0cmlidXRlLnNldFooIGluZGV4LCBzcGFyc2VWYWx1ZXNbIGkgKiBpdGVtU2l6ZSArIDIgXSApO1xuXHRcdFx0XHRcdGlmICggaXRlbVNpemUgPj0gNCApIGJ1ZmZlckF0dHJpYnV0ZS5zZXRXKCBpbmRleCwgc3BhcnNlVmFsdWVzWyBpICogaXRlbVNpemUgKyAzIF0gKTtcblx0XHRcdFx0XHRpZiAoIGl0ZW1TaXplID49IDUgKSB0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBpdGVtU2l6ZSBpbiBzcGFyc2UgQnVmZmVyQXR0cmlidXRlLicgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1ZmZlckF0dHJpYnV0ZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCN0ZXh0dXJlc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gdGV4dHVyZUluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8VEhSRUUuVGV4dHVyZXxudWxsPn1cblx0ICovXG5cdGxvYWRUZXh0dXJlKCB0ZXh0dXJlSW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdFx0Y29uc3QgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbIHRleHR1cmVJbmRleCBdO1xuXHRcdGNvbnN0IHNvdXJjZUluZGV4ID0gdGV4dHVyZURlZi5zb3VyY2U7XG5cdFx0Y29uc3Qgc291cmNlRGVmID0ganNvbi5pbWFnZXNbIHNvdXJjZUluZGV4IF07XG5cblx0XHRsZXQgbG9hZGVyID0gdGhpcy50ZXh0dXJlTG9hZGVyO1xuXG5cdFx0aWYgKCBzb3VyY2VEZWYudXJpICkge1xuXG5cdFx0XHRjb25zdCBoYW5kbGVyID0gb3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoIHNvdXJjZURlZi51cmkgKTtcblx0XHRcdGlmICggaGFuZGxlciAhPT0gbnVsbCApIGxvYWRlciA9IGhhbmRsZXI7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5sb2FkVGV4dHVyZUltYWdlKCB0ZXh0dXJlSW5kZXgsIHNvdXJjZUluZGV4LCBsb2FkZXIgKTtcblxuXHR9XG5cblx0bG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBzb3VyY2VJbmRleCwgbG9hZGVyICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXG5cdFx0Y29uc3QgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbIHRleHR1cmVJbmRleCBdO1xuXHRcdGNvbnN0IHNvdXJjZURlZiA9IGpzb24uaW1hZ2VzWyBzb3VyY2VJbmRleCBdO1xuXG5cdFx0Y29uc3QgY2FjaGVLZXkgPSAoIHNvdXJjZURlZi51cmkgfHwgc291cmNlRGVmLmJ1ZmZlclZpZXcgKSArICc6JyArIHRleHR1cmVEZWYuc2FtcGxlcjtcblxuXHRcdGlmICggdGhpcy50ZXh0dXJlQ2FjaGVbIGNhY2hlS2V5IF0gKSB7XG5cblx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8yMTU1OS5cblx0XHRcdHJldHVybiB0aGlzLnRleHR1cmVDYWNoZVsgY2FjaGVLZXkgXTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHByb21pc2UgPSB0aGlzLmxvYWRJbWFnZVNvdXJjZSggc291cmNlSW5kZXgsIGxvYWRlciApLnRoZW4oIGZ1bmN0aW9uICggdGV4dHVyZSApIHtcblxuXHRcdFx0dGV4dHVyZS5mbGlwWSA9IGZhbHNlO1xuXG5cdFx0XHR0ZXh0dXJlLm5hbWUgPSB0ZXh0dXJlRGVmLm5hbWUgfHwgc291cmNlRGVmLm5hbWUgfHwgJyc7XG5cblx0XHRcdGNvbnN0IHNhbXBsZXJzID0ganNvbi5zYW1wbGVycyB8fCB7fTtcblx0XHRcdGNvbnN0IHNhbXBsZXIgPSBzYW1wbGVyc1sgdGV4dHVyZURlZi5zYW1wbGVyIF0gfHwge307XG5cblx0XHRcdHRleHR1cmUubWFnRmlsdGVyID0gV0VCR0xfRklMVEVSU1sgc2FtcGxlci5tYWdGaWx0ZXIgXSB8fCBMaW5lYXJGaWx0ZXI7XG5cdFx0XHR0ZXh0dXJlLm1pbkZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbIHNhbXBsZXIubWluRmlsdGVyIF0gfHwgTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyO1xuXHRcdFx0dGV4dHVyZS53cmFwUyA9IFdFQkdMX1dSQVBQSU5HU1sgc2FtcGxlci53cmFwUyBdIHx8IFJlcGVhdFdyYXBwaW5nO1xuXHRcdFx0dGV4dHVyZS53cmFwVCA9IFdFQkdMX1dSQVBQSU5HU1sgc2FtcGxlci53cmFwVCBdIHx8IFJlcGVhdFdyYXBwaW5nO1xuXG5cdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggdGV4dHVyZSwgeyB0ZXh0dXJlczogdGV4dHVyZUluZGV4IH0gKTtcblxuXHRcdFx0cmV0dXJuIHRleHR1cmU7XG5cblx0XHR9ICkuY2F0Y2goIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnRleHR1cmVDYWNoZVsgY2FjaGVLZXkgXSA9IHByb21pc2U7XG5cblx0XHRyZXR1cm4gcHJvbWlzZTtcblxuXHR9XG5cblx0bG9hZEltYWdlU291cmNlKCBzb3VyY2VJbmRleCwgbG9hZGVyICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRpZiAoIHRoaXMuc291cmNlQ2FjaGVbIHNvdXJjZUluZGV4IF0gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuc291cmNlQ2FjaGVbIHNvdXJjZUluZGV4IF0udGhlbiggKCB0ZXh0dXJlICkgPT4gdGV4dHVyZS5jbG9uZSgpICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBzb3VyY2VEZWYgPSBqc29uLmltYWdlc1sgc291cmNlSW5kZXggXTtcblxuXHRcdGNvbnN0IFVSTCA9IHNlbGYuVVJMIHx8IHNlbGYud2Via2l0VVJMO1xuXG5cdFx0bGV0IHNvdXJjZVVSSSA9IHNvdXJjZURlZi51cmkgfHwgJyc7XG5cdFx0bGV0IGlzT2JqZWN0VVJMID0gZmFsc2U7XG5cblx0XHRpZiAoIHNvdXJjZURlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIExvYWQgYmluYXJ5IGltYWdlIGRhdGEgZnJvbSBidWZmZXJWaWV3LCBpZiBwcm92aWRlZC5cblxuXHRcdFx0c291cmNlVVJJID0gcGFyc2VyLmdldERlcGVuZGVuY3koICdidWZmZXJWaWV3Jywgc291cmNlRGVmLmJ1ZmZlclZpZXcgKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXcgKSB7XG5cblx0XHRcdFx0aXNPYmplY3RVUkwgPSB0cnVlO1xuXHRcdFx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoIFsgYnVmZmVyVmlldyBdLCB7IHR5cGU6IHNvdXJjZURlZi5taW1lVHlwZSB9ICk7XG5cdFx0XHRcdHNvdXJjZVVSSSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcblx0XHRcdFx0cmV0dXJuIHNvdXJjZVVSSTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fSBlbHNlIGlmICggc291cmNlRGVmLnVyaSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBJbWFnZSAnICsgc291cmNlSW5kZXggKyAnIGlzIG1pc3NpbmcgVVJJIGFuZCBidWZmZXJWaWV3JyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSggc291cmNlVVJJICkudGhlbiggZnVuY3Rpb24gKCBzb3VyY2VVUkkgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG5cblx0XHRcdFx0bGV0IG9uTG9hZCA9IHJlc29sdmU7XG5cblx0XHRcdFx0aWYgKCBsb2FkZXIuaXNJbWFnZUJpdG1hcExvYWRlciA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdG9uTG9hZCA9IGZ1bmN0aW9uICggaW1hZ2VCaXRtYXAgKSB7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSggaW1hZ2VCaXRtYXAgKTtcblx0XHRcdFx0XHRcdHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCB0ZXh0dXJlICk7XG5cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsb2FkZXIubG9hZCggTG9hZGVyVXRpbHMucmVzb2x2ZVVSTCggc291cmNlVVJJLCBvcHRpb25zLnBhdGggKSwgb25Mb2FkLCB1bmRlZmluZWQsIHJlamVjdCApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9ICkudGhlbiggZnVuY3Rpb24gKCB0ZXh0dXJlICkge1xuXG5cdFx0XHQvLyBDbGVhbiB1cCByZXNvdXJjZXMgYW5kIGNvbmZpZ3VyZSBUZXh0dXJlLlxuXG5cdFx0XHRpZiAoIGlzT2JqZWN0VVJMID09PSB0cnVlICkge1xuXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoIHNvdXJjZVVSSSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHRleHR1cmUudXNlckRhdGEubWltZVR5cGUgPSBzb3VyY2VEZWYubWltZVR5cGUgfHwgZ2V0SW1hZ2VVUklNaW1lVHlwZSggc291cmNlRGVmLnVyaSApO1xuXG5cdFx0XHRyZXR1cm4gdGV4dHVyZTtcblxuXHRcdH0gKS5jYXRjaCggZnVuY3Rpb24gKCBlcnJvciApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IENvdWxkblxcJ3QgbG9hZCB0ZXh0dXJlJywgc291cmNlVVJJICk7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMuc291cmNlQ2FjaGVbIHNvdXJjZUluZGV4IF0gPSBwcm9taXNlO1xuXHRcdHJldHVybiBwcm9taXNlO1xuXG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzbHkgYXNzaWducyBhIHRleHR1cmUgdG8gdGhlIGdpdmVuIG1hdGVyaWFsIHBhcmFtZXRlcnMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBtYXRlcmlhbFBhcmFtc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWFwTmFtZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWFwRGVmXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8VGV4dHVyZT59XG5cdCAqL1xuXHRhc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgbWFwTmFtZSwgbWFwRGVmLCBlbmNvZGluZyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cblx0XHRyZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCAndGV4dHVyZScsIG1hcERlZi5pbmRleCApLnRoZW4oIGZ1bmN0aW9uICggdGV4dHVyZSApIHtcblxuXHRcdFx0aWYgKCAhIHRleHR1cmUgKSByZXR1cm4gbnVsbDtcblxuXHRcdFx0Ly8gTWF0ZXJpYWxzIHNhbXBsZSBhb01hcCBmcm9tIFVWIHNldCAxIGFuZCBvdGhlciBtYXBzIGZyb20gVVYgc2V0IDAgLSB0aGlzIGNhbid0IGJlIGNvbmZpZ3VyZWRcblx0XHRcdC8vIEhvd2V2ZXIsIHdlIHdpbGwgY29weSBVViBzZXQgMCB0byBVViBzZXQgMSBvbiBkZW1hbmQgZm9yIGFvTWFwXG5cdFx0XHRpZiAoIG1hcERlZi50ZXhDb29yZCAhPT0gdW5kZWZpbmVkICYmIG1hcERlZi50ZXhDb29yZCAhPSAwICYmICEgKCBtYXBOYW1lID09PSAnYW9NYXAnICYmIG1hcERlZi50ZXhDb29yZCA9PSAxICkgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldCAnICsgbWFwRGVmLnRleENvb3JkICsgJyBmb3IgdGV4dHVyZSAnICsgbWFwTmFtZSArICcgbm90IHlldCBzdXBwb3J0ZWQuJyApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggcGFyc2VyLmV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNIF0gKSB7XG5cblx0XHRcdFx0Y29uc3QgdHJhbnNmb3JtID0gbWFwRGVmLmV4dGVuc2lvbnMgIT09IHVuZGVmaW5lZCA/IG1hcERlZi5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STSBdIDogdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICggdHJhbnNmb3JtICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgZ2x0ZlJlZmVyZW5jZSA9IHBhcnNlci5hc3NvY2lhdGlvbnMuZ2V0KCB0ZXh0dXJlICk7XG5cdFx0XHRcdFx0dGV4dHVyZSA9IHBhcnNlci5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STSBdLmV4dGVuZFRleHR1cmUoIHRleHR1cmUsIHRyYW5zZm9ybSApO1xuXHRcdFx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCB0ZXh0dXJlLCBnbHRmUmVmZXJlbmNlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggZW5jb2RpbmcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHR0ZXh0dXJlLmVuY29kaW5nID0gZW5jb2Rpbmc7XG5cblx0XHRcdH1cblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXNbIG1hcE5hbWUgXSA9IHRleHR1cmU7XG5cblx0XHRcdHJldHVybiB0ZXh0dXJlO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKipcblx0ICogQXNzaWducyBmaW5hbCBtYXRlcmlhbCB0byBhIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS4gVGhlIGluc3RhbmNlXG5cdCAqIGFscmVhZHkgaGFzIGEgbWF0ZXJpYWwgKGdlbmVyYXRlZCBmcm9tIHRoZSBnbFRGIG1hdGVyaWFsIG9wdGlvbnMgYWxvbmUpXG5cdCAqIGJ1dCByZXVzZSBvZiB0aGUgc2FtZSBnbFRGIG1hdGVyaWFsIG1heSByZXF1aXJlIG11bHRpcGxlIHRocmVlanMgbWF0ZXJpYWxzXG5cdCAqIHRvIGFjY29tbW9kYXRlIGRpZmZlcmVudCBwcmltaXRpdmUgdHlwZXMsIGRlZmluZXMsIGV0Yy4gTmV3IG1hdGVyaWFscyB3aWxsXG5cdCAqIGJlIGNyZWF0ZWQgaWYgbmVjZXNzYXJ5LCBhbmQgcmV1c2VkIGZyb20gYSBjYWNoZS5cblx0ICogQHBhcmFtICB7T2JqZWN0M0R9IG1lc2ggTWVzaCwgTGluZSwgb3IgUG9pbnRzIGluc3RhbmNlLlxuXHQgKi9cblx0YXNzaWduRmluYWxNYXRlcmlhbCggbWVzaCApIHtcblxuXHRcdGNvbnN0IGdlb21ldHJ5ID0gbWVzaC5nZW9tZXRyeTtcblx0XHRsZXQgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xuXG5cdFx0Y29uc3QgdXNlRGVyaXZhdGl2ZVRhbmdlbnRzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy50YW5nZW50ID09PSB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgdXNlVmVydGV4Q29sb3JzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvciAhPT0gdW5kZWZpbmVkO1xuXHRcdGNvbnN0IHVzZUZsYXRTaGFkaW5nID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZDtcblxuXHRcdGlmICggbWVzaC5pc1BvaW50cyApIHtcblxuXHRcdFx0Y29uc3QgY2FjaGVLZXkgPSAnUG9pbnRzTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQ7XG5cblx0XHRcdGxldCBwb2ludHNNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KCBjYWNoZUtleSApO1xuXG5cdFx0XHRpZiAoICEgcG9pbnRzTWF0ZXJpYWwgKSB7XG5cblx0XHRcdFx0cG9pbnRzTWF0ZXJpYWwgPSBuZXcgUG9pbnRzTWF0ZXJpYWwoKTtcblx0XHRcdFx0TWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCggcG9pbnRzTWF0ZXJpYWwsIG1hdGVyaWFsICk7XG5cdFx0XHRcdHBvaW50c01hdGVyaWFsLmNvbG9yLmNvcHkoIG1hdGVyaWFsLmNvbG9yICk7XG5cdFx0XHRcdHBvaW50c01hdGVyaWFsLm1hcCA9IG1hdGVyaWFsLm1hcDtcblx0XHRcdFx0cG9pbnRzTWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uID0gZmFsc2U7IC8vIGdsVEYgc3BlYyBzYXlzIHBvaW50cyBzaG91bGQgYmUgMXB4XG5cblx0XHRcdFx0dGhpcy5jYWNoZS5hZGQoIGNhY2hlS2V5LCBwb2ludHNNYXRlcmlhbCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1hdGVyaWFsID0gcG9pbnRzTWF0ZXJpYWw7XG5cblx0XHR9IGVsc2UgaWYgKCBtZXNoLmlzTGluZSApIHtcblxuXHRcdFx0Y29uc3QgY2FjaGVLZXkgPSAnTGluZUJhc2ljTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQ7XG5cblx0XHRcdGxldCBsaW5lTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldCggY2FjaGVLZXkgKTtcblxuXHRcdFx0aWYgKCAhIGxpbmVNYXRlcmlhbCApIHtcblxuXHRcdFx0XHRsaW5lTWF0ZXJpYWwgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoKTtcblx0XHRcdFx0TWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCggbGluZU1hdGVyaWFsLCBtYXRlcmlhbCApO1xuXHRcdFx0XHRsaW5lTWF0ZXJpYWwuY29sb3IuY29weSggbWF0ZXJpYWwuY29sb3IgKTtcblxuXHRcdFx0XHR0aGlzLmNhY2hlLmFkZCggY2FjaGVLZXksIGxpbmVNYXRlcmlhbCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1hdGVyaWFsID0gbGluZU1hdGVyaWFsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgdGhlIG1hdGVyaWFsIGlmIGl0IHdpbGwgYmUgbW9kaWZpZWRcblx0XHRpZiAoIHVzZURlcml2YXRpdmVUYW5nZW50cyB8fCB1c2VWZXJ0ZXhDb2xvcnMgfHwgdXNlRmxhdFNoYWRpbmcgKSB7XG5cblx0XHRcdGxldCBjYWNoZUtleSA9ICdDbG9uZWRNYXRlcmlhbDonICsgbWF0ZXJpYWwudXVpZCArICc6JztcblxuXHRcdFx0aWYgKCB1c2VEZXJpdmF0aXZlVGFuZ2VudHMgKSBjYWNoZUtleSArPSAnZGVyaXZhdGl2ZS10YW5nZW50czonO1xuXHRcdFx0aWYgKCB1c2VWZXJ0ZXhDb2xvcnMgKSBjYWNoZUtleSArPSAndmVydGV4LWNvbG9yczonO1xuXHRcdFx0aWYgKCB1c2VGbGF0U2hhZGluZyApIGNhY2hlS2V5ICs9ICdmbGF0LXNoYWRpbmc6JztcblxuXHRcdFx0bGV0IGNhY2hlZE1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7XG5cblx0XHRcdGlmICggISBjYWNoZWRNYXRlcmlhbCApIHtcblxuXHRcdFx0XHRjYWNoZWRNYXRlcmlhbCA9IG1hdGVyaWFsLmNsb25lKCk7XG5cblx0XHRcdFx0aWYgKCB1c2VWZXJ0ZXhDb2xvcnMgKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuXHRcdFx0XHRpZiAoIHVzZUZsYXRTaGFkaW5nICkgY2FjaGVkTWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSB0cnVlO1xuXG5cdFx0XHRcdGlmICggdXNlRGVyaXZhdGl2ZVRhbmdlbnRzICkge1xuXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTE0MzgjaXNzdWVjb21tZW50LTUwNzAwMzk5NVxuXHRcdFx0XHRcdGlmICggY2FjaGVkTWF0ZXJpYWwubm9ybWFsU2NhbGUgKSBjYWNoZWRNYXRlcmlhbC5ub3JtYWxTY2FsZS55ICo9IC0gMTtcblx0XHRcdFx0XHRpZiAoIGNhY2hlZE1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlICkgY2FjaGVkTWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueSAqPSAtIDE7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgY2FjaGVkTWF0ZXJpYWwgKTtcblxuXHRcdFx0XHR0aGlzLmFzc29jaWF0aW9ucy5zZXQoIGNhY2hlZE1hdGVyaWFsLCB0aGlzLmFzc29jaWF0aW9ucy5nZXQoIG1hdGVyaWFsICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbCA9IGNhY2hlZE1hdGVyaWFsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gd29ya2Fyb3VuZHMgZm9yIG1lc2ggYW5kIGdlb21ldHJ5XG5cblx0XHRpZiAoIG1hdGVyaWFsLmFvTWFwICYmIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYyID09PSB1bmRlZmluZWQgJiYgZ2VvbWV0cnkuYXR0cmlidXRlcy51diAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoICd1djInLCBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2ICk7XG5cblx0XHR9XG5cblx0XHRtZXNoLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggLyogbWF0ZXJpYWxJbmRleCAqLyApIHtcblxuXHRcdHJldHVybiBNZXNoU3RhbmRhcmRNYXRlcmlhbDtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbWF0ZXJpYWxzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtYXRlcmlhbEluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8TWF0ZXJpYWw+fVxuXHQgKi9cblx0bG9hZE1hdGVyaWFsKCBtYXRlcmlhbEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBqc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0bGV0IG1hdGVyaWFsVHlwZTtcblx0XHRjb25zdCBtYXRlcmlhbFBhcmFtcyA9IHt9O1xuXHRcdGNvbnN0IG1hdGVyaWFsRXh0ZW5zaW9ucyA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwge307XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRpZiAoIG1hdGVyaWFsRXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUIF0gKSB7XG5cblx0XHRcdGNvbnN0IGttdUV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVCBdO1xuXHRcdFx0bWF0ZXJpYWxUeXBlID0ga211RXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpO1xuXHRcdFx0cGVuZGluZy5wdXNoKCBrbXVFeHRlbnNpb24uZXh0ZW5kUGFyYW1zKCBtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlciApICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBTcGVjaWZpY2F0aW9uOlxuXHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI21ldGFsbGljLXJvdWdobmVzcy1tYXRlcmlhbFxuXG5cdFx0XHRjb25zdCBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzIHx8IHt9O1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvciggMS4wLCAxLjAsIDEuMCApO1xuXHRcdFx0bWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IgKSApIHtcblxuXHRcdFx0XHRjb25zdCBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcblxuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoIGFycmF5ICk7XG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVsgMyBdO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnbWFwJywgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSwgc1JHQkVuY29kaW5nICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5tZXRhbG5lc3MgPSBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgOiAxLjA7XG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5yb3VnaG5lc3MgPSBtZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCA/IG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciA6IDEuMDtcblxuXHRcdFx0aWYgKCBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ21ldGFsbmVzc01hcCcsIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSApICk7XG5cdFx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAncm91Z2huZXNzTWFwJywgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbFR5cGUgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdHJldHVybiBleHQuZ2V0TWF0ZXJpYWxUeXBlICYmIGV4dC5nZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIFByb21pc2UuYWxsKCB0aGlzLl9pbnZva2VBbGwoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdHJldHVybiBleHQuZXh0ZW5kTWF0ZXJpYWxQYXJhbXMgJiYgZXh0LmV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApO1xuXG5cdFx0XHR9ICkgKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBtYXRlcmlhbERlZi5kb3VibGVTaWRlZCA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuc2lkZSA9IERvdWJsZVNpZGU7XG5cblx0XHR9XG5cblx0XHRjb25zdCBhbHBoYU1vZGUgPSBtYXRlcmlhbERlZi5hbHBoYU1vZGUgfHwgQUxQSEFfTU9ERVMuT1BBUVVFO1xuXG5cdFx0aWYgKCBhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLkJMRU5EICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy50cmFuc3BhcmVudCA9IHRydWU7XG5cblx0XHRcdC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTc3MDZcblx0XHRcdG1hdGVyaWFsUGFyYW1zLmRlcHRoV3JpdGUgPSBmYWxzZTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cblx0XHRcdGlmICggYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5NQVNLICkge1xuXG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLmFscGhhVGVzdCA9IG1hdGVyaWFsRGVmLmFscGhhQ3V0b2ZmICE9PSB1bmRlZmluZWQgPyBtYXRlcmlhbERlZi5hbHBoYUN1dG9mZiA6IDAuNTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKCBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdub3JtYWxNYXAnLCBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlICkgKTtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUgPSBuZXcgVmVjdG9yMiggMSwgMSApO1xuXG5cdFx0XHRpZiAoIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRjb25zdCBzY2FsZSA9IG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGU7XG5cblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUuc2V0KCBzY2FsZSwgc2NhbGUgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKCBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdhb01hcCcsIG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUgKSApO1xuXG5cdFx0XHRpZiAoIG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUuc3RyZW5ndGggIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5hb01hcEludGVuc2l0eSA9IG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUuc3RyZW5ndGg7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICggbWF0ZXJpYWxEZWYuZW1pc3NpdmVGYWN0b3IgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZSA9IG5ldyBDb2xvcigpLmZyb21BcnJheSggbWF0ZXJpYWxEZWYuZW1pc3NpdmVGYWN0b3IgKTtcblxuXHRcdH1cblxuXHRcdGlmICggbWF0ZXJpYWxEZWYuZW1pc3NpdmVUZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdlbWlzc2l2ZU1hcCcsIG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSwgc1JHQkVuY29kaW5nICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc3QgbWF0ZXJpYWwgPSBuZXcgbWF0ZXJpYWxUeXBlKCBtYXRlcmlhbFBhcmFtcyApO1xuXG5cdFx0XHRpZiAoIG1hdGVyaWFsRGVmLm5hbWUgKSBtYXRlcmlhbC5uYW1lID0gbWF0ZXJpYWxEZWYubmFtZTtcblxuXHRcdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbWF0ZXJpYWwsIG1hdGVyaWFsRGVmICk7XG5cblx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCBtYXRlcmlhbCwgeyBtYXRlcmlhbHM6IG1hdGVyaWFsSW5kZXggfSApO1xuXG5cdFx0XHRpZiAoIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoIGV4dGVuc2lvbnMsIG1hdGVyaWFsLCBtYXRlcmlhbERlZiApO1xuXG5cdFx0XHRyZXR1cm4gbWF0ZXJpYWw7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKiBXaGVuIE9iamVjdDNEIGluc3RhbmNlcyBhcmUgdGFyZ2V0ZWQgYnkgYW5pbWF0aW9uLCB0aGV5IG5lZWQgdW5pcXVlIG5hbWVzLiAqL1xuXHRjcmVhdGVVbmlxdWVOYW1lKCBvcmlnaW5hbE5hbWUgKSB7XG5cblx0XHRjb25zdCBzYW5pdGl6ZWROYW1lID0gUHJvcGVydHlCaW5kaW5nLnNhbml0aXplTm9kZU5hbWUoIG9yaWdpbmFsTmFtZSB8fCAnJyApO1xuXG5cdFx0bGV0IG5hbWUgPSBzYW5pdGl6ZWROYW1lO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAxOyB0aGlzLm5vZGVOYW1lc1VzZWRbIG5hbWUgXTsgKysgaSApIHtcblxuXHRcdFx0bmFtZSA9IHNhbml0aXplZE5hbWUgKyAnXycgKyBpO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5ub2RlTmFtZXNVc2VkWyBuYW1lIF0gPSB0cnVlO1xuXG5cdFx0cmV0dXJuIG5hbWU7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2dlb21ldHJ5XG5cdCAqXG5cdCAqIENyZWF0ZXMgQnVmZmVyR2VvbWV0cmllcyBmcm9tIHByaW1pdGl2ZXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7QXJyYXk8R0xURi5QcmltaXRpdmU+fSBwcmltaXRpdmVzXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8QnVmZmVyR2VvbWV0cnk+Pn1cblx0ICovXG5cdGxvYWRHZW9tZXRyaWVzKCBwcmltaXRpdmVzICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXHRcdGNvbnN0IGNhY2hlID0gdGhpcy5wcmltaXRpdmVDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGNyZWF0ZURyYWNvUHJpbWl0aXZlKCBwcmltaXRpdmUgKSB7XG5cblx0XHRcdHJldHVybiBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIF1cblx0XHRcdFx0LmRlY29kZVByaW1pdGl2ZSggcHJpbWl0aXZlLCBwYXJzZXIgKVxuXHRcdFx0XHQudGhlbiggZnVuY3Rpb24gKCBnZW9tZXRyeSApIHtcblxuXHRcdFx0XHRcdHJldHVybiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKCBnZW9tZXRyeSwgcHJpbWl0aXZlLCBwYXJzZXIgKTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgcHJpbWl0aXZlID0gcHJpbWl0aXZlc1sgaSBdO1xuXHRcdFx0Y29uc3QgY2FjaGVLZXkgPSBjcmVhdGVQcmltaXRpdmVLZXkoIHByaW1pdGl2ZSApO1xuXG5cdFx0XHQvLyBTZWUgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIHRoaXMgZ2VvbWV0cnlcblx0XHRcdGNvbnN0IGNhY2hlZCA9IGNhY2hlWyBjYWNoZUtleSBdO1xuXG5cdFx0XHRpZiAoIGNhY2hlZCApIHtcblxuXHRcdFx0XHQvLyBVc2UgdGhlIGNhY2hlZCBnZW9tZXRyeSBpZiBpdCBleGlzdHNcblx0XHRcdFx0cGVuZGluZy5wdXNoKCBjYWNoZWQucHJvbWlzZSApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGxldCBnZW9tZXRyeVByb21pc2U7XG5cblx0XHRcdFx0aWYgKCBwcmltaXRpdmUuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmUuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiBdICkge1xuXG5cdFx0XHRcdFx0Ly8gVXNlIERSQUNPIGdlb21ldHJ5IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdGdlb21ldHJ5UHJvbWlzZSA9IGNyZWF0ZURyYWNvUHJpbWl0aXZlKCBwcmltaXRpdmUgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBnZW9tZXRyeVxuXHRcdFx0XHRcdGdlb21ldHJ5UHJvbWlzZSA9IGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMoIG5ldyBCdWZmZXJHZW9tZXRyeSgpLCBwcmltaXRpdmUsIHBhcnNlciApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYWNoZSB0aGlzIGdlb21ldHJ5XG5cdFx0XHRcdGNhY2hlWyBjYWNoZUtleSBdID0geyBwcmltaXRpdmU6IHByaW1pdGl2ZSwgcHJvbWlzZTogZ2VvbWV0cnlQcm9taXNlIH07XG5cblx0XHRcdFx0cGVuZGluZy5wdXNoKCBnZW9tZXRyeVByb21pc2UgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21lc2hlc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gbWVzaEluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8R3JvdXB8TWVzaHxTa2lubmVkTWVzaD59XG5cdCAqL1xuXHRsb2FkTWVzaCggbWVzaEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cblx0XHRjb25zdCBtZXNoRGVmID0ganNvbi5tZXNoZXNbIG1lc2hJbmRleCBdO1xuXHRcdGNvbnN0IHByaW1pdGl2ZXMgPSBtZXNoRGVmLnByaW1pdGl2ZXM7XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgbWF0ZXJpYWwgPSBwcmltaXRpdmVzWyBpIF0ubWF0ZXJpYWwgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHQ/IGNyZWF0ZURlZmF1bHRNYXRlcmlhbCggdGhpcy5jYWNoZSApXG5cdFx0XHRcdDogdGhpcy5nZXREZXBlbmRlbmN5KCAnbWF0ZXJpYWwnLCBwcmltaXRpdmVzWyBpIF0ubWF0ZXJpYWwgKTtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBtYXRlcmlhbCApO1xuXG5cdFx0fVxuXG5cdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIubG9hZEdlb21ldHJpZXMoIHByaW1pdGl2ZXMgKSApO1xuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICkudGhlbiggZnVuY3Rpb24gKCByZXN1bHRzICkge1xuXG5cdFx0XHRjb25zdCBtYXRlcmlhbHMgPSByZXN1bHRzLnNsaWNlKCAwLCByZXN1bHRzLmxlbmd0aCAtIDEgKTtcblx0XHRcdGNvbnN0IGdlb21ldHJpZXMgPSByZXN1bHRzWyByZXN1bHRzLmxlbmd0aCAtIDEgXTtcblxuXHRcdFx0Y29uc3QgbWVzaGVzID0gW107XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1sgaSBdO1xuXHRcdFx0XHRjb25zdCBwcmltaXRpdmUgPSBwcmltaXRpdmVzWyBpIF07XG5cblx0XHRcdFx0Ly8gMS4gY3JlYXRlIE1lc2hcblxuXHRcdFx0XHRsZXQgbWVzaDtcblxuXHRcdFx0XHRjb25zdCBtYXRlcmlhbCA9IG1hdGVyaWFsc1sgaSBdO1xuXG5cdFx0XHRcdGlmICggcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRVMgfHxcblx0XHRcdFx0XHRcdHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgfHxcblx0XHRcdFx0XHRcdHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfRkFOIHx8XG5cdFx0XHRcdFx0XHRwcmltaXRpdmUubW9kZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0Ly8gLmlzU2tpbm5lZE1lc2ggaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLl9tYXJrRGVmcygpXG5cdFx0XHRcdFx0bWVzaCA9IG1lc2hEZWYuaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZVxuXHRcdFx0XHRcdFx0PyBuZXcgU2tpbm5lZE1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbCApXG5cdFx0XHRcdFx0XHQ6IG5ldyBNZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblxuXHRcdFx0XHRcdGlmICggbWVzaC5pc1NraW5uZWRNZXNoID09PSB0cnVlICYmICEgbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQubm9ybWFsaXplZCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gd2Ugbm9ybWFsaXplIGZsb2F0aW5nIHBvaW50IHNraW4gd2VpZ2h0IGFycmF5IHRvIGZpeCBtYWxmb3JtZWQgYXNzZXRzIChzZWUgIzE1MzE5KVxuXHRcdFx0XHRcdFx0Ly8gaXQncyBpbXBvcnRhbnQgdG8gc2tpcCB0aGlzIGZvciBub24tZmxvYXQzMiBkYXRhIHNpbmNlIG5vcm1hbGl6ZVNraW5XZWlnaHRzIGFzc3VtZXMgbm9uLW5vcm1hbGl6ZWQgaW5wdXRzXG5cdFx0XHRcdFx0XHRtZXNoLm5vcm1hbGl6ZVNraW5XZWlnaHRzKCk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgKSB7XG5cblx0XHRcdFx0XHRcdG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKCBtZXNoLmdlb21ldHJ5LCBUcmlhbmdsZVN0cmlwRHJhd01vZGUgKTtcblxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfRkFOICkge1xuXG5cdFx0XHRcdFx0XHRtZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZSggbWVzaC5nZW9tZXRyeSwgVHJpYW5nbGVGYW5EcmF3TW9kZSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORVMgKSB7XG5cblx0XHRcdFx0XHRtZXNoID0gbmV3IExpbmVTZWdtZW50cyggZ2VvbWV0cnksIG1hdGVyaWFsICk7XG5cblx0XHRcdFx0fSBlbHNlIGlmICggcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5MSU5FX1NUUklQICkge1xuXG5cdFx0XHRcdFx0bWVzaCA9IG5ldyBMaW5lKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfTE9PUCApIHtcblxuXHRcdFx0XHRcdG1lc2ggPSBuZXcgTGluZUxvb3AoIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuUE9JTlRTICkge1xuXG5cdFx0XHRcdFx0bWVzaCA9IG5ldyBQb2ludHMoIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBQcmltaXRpdmUgbW9kZSB1bnN1cHBvcnRlZDogJyArIHByaW1pdGl2ZS5tb2RlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggT2JqZWN0LmtleXMoIG1lc2guZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzICkubGVuZ3RoID4gMCApIHtcblxuXHRcdFx0XHRcdHVwZGF0ZU1vcnBoVGFyZ2V0cyggbWVzaCwgbWVzaERlZiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtZXNoLm5hbWUgPSBwYXJzZXIuY3JlYXRlVW5pcXVlTmFtZSggbWVzaERlZi5uYW1lIHx8ICggJ21lc2hfJyArIG1lc2hJbmRleCApICk7XG5cblx0XHRcdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbWVzaCwgbWVzaERlZiApO1xuXG5cdFx0XHRcdGlmICggcHJpbWl0aXZlLmV4dGVuc2lvbnMgKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoIGV4dGVuc2lvbnMsIG1lc2gsIHByaW1pdGl2ZSApO1xuXG5cdFx0XHRcdHBhcnNlci5hc3NpZ25GaW5hbE1hdGVyaWFsKCBtZXNoICk7XG5cblx0XHRcdFx0bWVzaGVzLnB1c2goIG1lc2ggKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbWVzaGVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCBtZXNoZXNbIGkgXSwge1xuXHRcdFx0XHRcdG1lc2hlczogbWVzaEluZGV4LFxuXHRcdFx0XHRcdHByaW1pdGl2ZXM6IGlcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggbWVzaGVzLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdFx0XHRyZXR1cm4gbWVzaGVzWyAwIF07XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZ3JvdXAgPSBuZXcgR3JvdXAoKTtcblxuXHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucy5zZXQoIGdyb3VwLCB7IG1lc2hlczogbWVzaEluZGV4IH0gKTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG1lc2hlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRncm91cC5hZGQoIG1lc2hlc1sgaSBdICk7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGdyb3VwO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2NhbWVyYXNcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNhbWVyYUluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8VEhSRUUuQ2FtZXJhPn1cblx0ICovXG5cdGxvYWRDYW1lcmEoIGNhbWVyYUluZGV4ICkge1xuXG5cdFx0bGV0IGNhbWVyYTtcblx0XHRjb25zdCBjYW1lcmFEZWYgPSB0aGlzLmpzb24uY2FtZXJhc1sgY2FtZXJhSW5kZXggXTtcblx0XHRjb25zdCBwYXJhbXMgPSBjYW1lcmFEZWZbIGNhbWVyYURlZi50eXBlIF07XG5cblx0XHRpZiAoICEgcGFyYW1zICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIGNhbWVyYSBwYXJhbWV0ZXJzLicgKTtcblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHRcdGlmICggY2FtZXJhRGVmLnR5cGUgPT09ICdwZXJzcGVjdGl2ZScgKSB7XG5cblx0XHRcdGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSggTWF0aFV0aWxzLnJhZFRvRGVnKCBwYXJhbXMueWZvdiApLCBwYXJhbXMuYXNwZWN0UmF0aW8gfHwgMSwgcGFyYW1zLnpuZWFyIHx8IDEsIHBhcmFtcy56ZmFyIHx8IDJlNiApO1xuXG5cdFx0fSBlbHNlIGlmICggY2FtZXJhRGVmLnR5cGUgPT09ICdvcnRob2dyYXBoaWMnICkge1xuXG5cdFx0XHRjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKCAtIHBhcmFtcy54bWFnLCBwYXJhbXMueG1hZywgcGFyYW1zLnltYWcsIC0gcGFyYW1zLnltYWcsIHBhcmFtcy56bmVhciwgcGFyYW1zLnpmYXIgKTtcblxuXHRcdH1cblxuXHRcdGlmICggY2FtZXJhRGVmLm5hbWUgKSBjYW1lcmEubmFtZSA9IHRoaXMuY3JlYXRlVW5pcXVlTmFtZSggY2FtZXJhRGVmLm5hbWUgKTtcblxuXHRcdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIGNhbWVyYSwgY2FtZXJhRGVmICk7XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBjYW1lcmEgKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNza2luc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gc2tpbkluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8U2tlbGV0b24+fVxuXHQgKi9cblx0bG9hZFNraW4oIHNraW5JbmRleCApIHtcblxuXHRcdGNvbnN0IHNraW5EZWYgPSB0aGlzLmpzb24uc2tpbnNbIHNraW5JbmRleCBdO1xuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHNraW5EZWYuam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ25vZGUnLCBza2luRGVmLmpvaW50c1sgaSBdICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggc2tpbkRlZi5pbnZlcnNlQmluZE1hdHJpY2VzICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMgKSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBudWxsICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKS50aGVuKCBmdW5jdGlvbiAoIHJlc3VsdHMgKSB7XG5cblx0XHRcdGNvbnN0IGludmVyc2VCaW5kTWF0cmljZXMgPSByZXN1bHRzLnBvcCgpO1xuXHRcdFx0Y29uc3Qgam9pbnROb2RlcyA9IHJlc3VsdHM7XG5cblx0XHRcdGNvbnN0IGJvbmVzID0gW107XG5cdFx0XHRjb25zdCBib25lSW52ZXJzZXMgPSBbXTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IGpvaW50Tm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0Y29uc3Qgam9pbnROb2RlID0gam9pbnROb2Rlc1sgaSBdO1xuXG5cdFx0XHRcdGlmICggam9pbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ym9uZXMucHVzaCggam9pbnROb2RlICk7XG5cblx0XHRcdFx0XHRjb25zdCBtYXQgPSBuZXcgTWF0cml4NCgpO1xuXG5cdFx0XHRcdFx0aWYgKCBpbnZlcnNlQmluZE1hdHJpY2VzICE9PSBudWxsICkge1xuXG5cdFx0XHRcdFx0XHRtYXQuZnJvbUFycmF5KCBpbnZlcnNlQmluZE1hdHJpY2VzLmFycmF5LCBpICogMTYgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJvbmVJbnZlcnNlcy5wdXNoKCBtYXQgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogSm9pbnQgXCIlc1wiIGNvdWxkIG5vdCBiZSBmb3VuZC4nLCBza2luRGVmLmpvaW50c1sgaSBdICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBuZXcgU2tlbGV0b24oIGJvbmVzLCBib25lSW52ZXJzZXMgKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNhbmltYXRpb25zXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBhbmltYXRpb25JbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEFuaW1hdGlvbkNsaXA+fVxuXHQgKi9cblx0bG9hZEFuaW1hdGlvbiggYW5pbWF0aW9uSW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXG5cdFx0Y29uc3QgYW5pbWF0aW9uRGVmID0ganNvbi5hbmltYXRpb25zWyBhbmltYXRpb25JbmRleCBdO1xuXG5cdFx0Y29uc3QgcGVuZGluZ05vZGVzID0gW107XG5cdFx0Y29uc3QgcGVuZGluZ0lucHV0QWNjZXNzb3JzID0gW107XG5cdFx0Y29uc3QgcGVuZGluZ091dHB1dEFjY2Vzc29ycyA9IFtdO1xuXHRcdGNvbnN0IHBlbmRpbmdTYW1wbGVycyA9IFtdO1xuXHRcdGNvbnN0IHBlbmRpbmdUYXJnZXRzID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gYW5pbWF0aW9uRGVmLmNoYW5uZWxzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBjaGFubmVsID0gYW5pbWF0aW9uRGVmLmNoYW5uZWxzWyBpIF07XG5cdFx0XHRjb25zdCBzYW1wbGVyID0gYW5pbWF0aW9uRGVmLnNhbXBsZXJzWyBjaGFubmVsLnNhbXBsZXIgXTtcblx0XHRcdGNvbnN0IHRhcmdldCA9IGNoYW5uZWwudGFyZ2V0O1xuXHRcdFx0Y29uc3QgbmFtZSA9IHRhcmdldC5ub2RlO1xuXHRcdFx0Y29uc3QgaW5wdXQgPSBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbIHNhbXBsZXIuaW5wdXQgXSA6IHNhbXBsZXIuaW5wdXQ7XG5cdFx0XHRjb25zdCBvdXRwdXQgPSBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbIHNhbXBsZXIub3V0cHV0IF0gOiBzYW1wbGVyLm91dHB1dDtcblxuXHRcdFx0cGVuZGluZ05vZGVzLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ25vZGUnLCBuYW1lICkgKTtcblx0XHRcdHBlbmRpbmdJbnB1dEFjY2Vzc29ycy5wdXNoKCB0aGlzLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIGlucHV0ICkgKTtcblx0XHRcdHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBvdXRwdXQgKSApO1xuXHRcdFx0cGVuZGluZ1NhbXBsZXJzLnB1c2goIHNhbXBsZXIgKTtcblx0XHRcdHBlbmRpbmdUYXJnZXRzLnB1c2goIHRhcmdldCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBbXG5cblx0XHRcdFByb21pc2UuYWxsKCBwZW5kaW5nTm9kZXMgKSxcblx0XHRcdFByb21pc2UuYWxsKCBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgKSxcblx0XHRcdFByb21pc2UuYWxsKCBwZW5kaW5nT3V0cHV0QWNjZXNzb3JzICksXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ1NhbXBsZXJzICksXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ1RhcmdldHMgKVxuXG5cdFx0XSApLnRoZW4oIGZ1bmN0aW9uICggZGVwZW5kZW5jaWVzICkge1xuXG5cdFx0XHRjb25zdCBub2RlcyA9IGRlcGVuZGVuY2llc1sgMCBdO1xuXHRcdFx0Y29uc3QgaW5wdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbIDEgXTtcblx0XHRcdGNvbnN0IG91dHB1dEFjY2Vzc29ycyA9IGRlcGVuZGVuY2llc1sgMiBdO1xuXHRcdFx0Y29uc3Qgc2FtcGxlcnMgPSBkZXBlbmRlbmNpZXNbIDMgXTtcblx0XHRcdGNvbnN0IHRhcmdldHMgPSBkZXBlbmRlbmNpZXNbIDQgXTtcblxuXHRcdFx0Y29uc3QgdHJhY2tzID0gW107XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBub2Rlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRjb25zdCBub2RlID0gbm9kZXNbIGkgXTtcblx0XHRcdFx0Y29uc3QgaW5wdXRBY2Nlc3NvciA9IGlucHV0QWNjZXNzb3JzWyBpIF07XG5cdFx0XHRcdGNvbnN0IG91dHB1dEFjY2Vzc29yID0gb3V0cHV0QWNjZXNzb3JzWyBpIF07XG5cdFx0XHRcdGNvbnN0IHNhbXBsZXIgPSBzYW1wbGVyc1sgaSBdO1xuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSB0YXJnZXRzWyBpIF07XG5cblx0XHRcdFx0aWYgKCBub2RlID09PSB1bmRlZmluZWQgKSBjb250aW51ZTtcblxuXHRcdFx0XHRub2RlLnVwZGF0ZU1hdHJpeCgpO1xuXG5cdFx0XHRcdGxldCBUeXBlZEtleWZyYW1lVHJhY2s7XG5cblx0XHRcdFx0c3dpdGNoICggUEFUSF9QUk9QRVJUSUVTWyB0YXJnZXQucGF0aCBdICkge1xuXG5cdFx0XHRcdFx0Y2FzZSBQQVRIX1BST1BFUlRJRVMud2VpZ2h0czpcblxuXHRcdFx0XHRcdFx0VHlwZWRLZXlmcmFtZVRyYWNrID0gTnVtYmVyS2V5ZnJhbWVUcmFjaztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSBQQVRIX1BST1BFUlRJRVMucm90YXRpb246XG5cblx0XHRcdFx0XHRcdFR5cGVkS2V5ZnJhbWVUcmFjayA9IFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIFBBVEhfUFJPUEVSVElFUy5wb3NpdGlvbjpcblx0XHRcdFx0XHRjYXNlIFBBVEhfUFJPUEVSVElFUy5zY2FsZTpcblx0XHRcdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdFx0XHRUeXBlZEtleWZyYW1lVHJhY2sgPSBWZWN0b3JLZXlmcmFtZVRyYWNrO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHRhcmdldE5hbWUgPSBub2RlLm5hbWUgPyBub2RlLm5hbWUgOiBub2RlLnV1aWQ7XG5cblx0XHRcdFx0Y29uc3QgaW50ZXJwb2xhdGlvbiA9IHNhbXBsZXIuaW50ZXJwb2xhdGlvbiAhPT0gdW5kZWZpbmVkID8gSU5URVJQT0xBVElPTlsgc2FtcGxlci5pbnRlcnBvbGF0aW9uIF0gOiBJbnRlcnBvbGF0ZUxpbmVhcjtcblxuXHRcdFx0XHRjb25zdCB0YXJnZXROYW1lcyA9IFtdO1xuXG5cdFx0XHRcdGlmICggUEFUSF9QUk9QRVJUSUVTWyB0YXJnZXQucGF0aCBdID09PSBQQVRIX1BST1BFUlRJRVMud2VpZ2h0cyApIHtcblxuXHRcdFx0XHRcdG5vZGUudHJhdmVyc2UoIGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG9iamVjdC5tb3JwaFRhcmdldEluZmx1ZW5jZXMgKSB7XG5cblx0XHRcdFx0XHRcdFx0dGFyZ2V0TmFtZXMucHVzaCggb2JqZWN0Lm5hbWUgPyBvYmplY3QubmFtZSA6IG9iamVjdC51dWlkICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGFyZ2V0TmFtZXMucHVzaCggdGFyZ2V0TmFtZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgb3V0cHV0QXJyYXkgPSBvdXRwdXRBY2Nlc3Nvci5hcnJheTtcblxuXHRcdFx0XHRpZiAoIG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdFx0XHRjb25zdCBzY2FsZSA9IGdldE5vcm1hbGl6ZWRDb21wb25lbnRTY2FsZSggb3V0cHV0QXJyYXkuY29uc3RydWN0b3IgKTtcblx0XHRcdFx0XHRjb25zdCBzY2FsZWQgPSBuZXcgRmxvYXQzMkFycmF5KCBvdXRwdXRBcnJheS5sZW5ndGggKTtcblxuXHRcdFx0XHRcdGZvciAoIGxldCBqID0gMCwgamwgPSBvdXRwdXRBcnJheS5sZW5ndGg7IGogPCBqbDsgaiArKyApIHtcblxuXHRcdFx0XHRcdFx0c2NhbGVkWyBqIF0gPSBvdXRwdXRBcnJheVsgaiBdICogc2NhbGU7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXRBcnJheSA9IHNjYWxlZDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yICggbGV0IGogPSAwLCBqbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaiA8IGpsOyBqICsrICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgdHJhY2sgPSBuZXcgVHlwZWRLZXlmcmFtZVRyYWNrKFxuXHRcdFx0XHRcdFx0dGFyZ2V0TmFtZXNbIGogXSArICcuJyArIFBBVEhfUFJPUEVSVElFU1sgdGFyZ2V0LnBhdGggXSxcblx0XHRcdFx0XHRcdGlucHV0QWNjZXNzb3IuYXJyYXksXG5cdFx0XHRcdFx0XHRvdXRwdXRBcnJheSxcblx0XHRcdFx0XHRcdGludGVycG9sYXRpb25cblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Ly8gT3ZlcnJpZGUgaW50ZXJwb2xhdGlvbiB3aXRoIGN1c3RvbSBmYWN0b3J5IG1ldGhvZC5cblx0XHRcdFx0XHRpZiAoIHNhbXBsZXIuaW50ZXJwb2xhdGlvbiA9PT0gJ0NVQklDU1BMSU5FJyApIHtcblxuXHRcdFx0XHRcdFx0dHJhY2suY3JlYXRlSW50ZXJwb2xhbnQgPSBmdW5jdGlvbiBJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUoIHJlc3VsdCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBIENVQklDU1BMSU5FIGtleWZyYW1lIGluIGdsVEYgaGFzIHRocmVlIG91dHB1dCB2YWx1ZXMgZm9yIGVhY2ggaW5wdXQgdmFsdWUsXG5cdFx0XHRcdFx0XHRcdC8vIHJlcHJlc2VudGluZyBpblRhbmdlbnQsIHNwbGluZVZlcnRleCwgYW5kIG91dFRhbmdlbnQuIEFzIGEgcmVzdWx0LCB0cmFjay5nZXRWYWx1ZVNpemUoKVxuXHRcdFx0XHRcdFx0XHQvLyBtdXN0IGJlIGRpdmlkZWQgYnkgdGhyZWUgdG8gZ2V0IHRoZSBpbnRlcnBvbGFudCdzIHNhbXBsZVNpemUgYXJndW1lbnQuXG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgaW50ZXJwb2xhbnRUeXBlID0gKCB0aGlzIGluc3RhbmNlb2YgUXVhdGVybmlvbktleWZyYW1lVHJhY2sgKSA/IEdMVEZDdWJpY1NwbGluZVF1YXRlcm5pb25JbnRlcnBvbGFudCA6IEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50O1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiBuZXcgaW50ZXJwb2xhbnRUeXBlKCB0aGlzLnRpbWVzLCB0aGlzLnZhbHVlcywgdGhpcy5nZXRWYWx1ZVNpemUoKSAvIDMsIHJlc3VsdCApO1xuXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHQvLyBNYXJrIGFzIENVQklDU1BMSU5FLiBgdHJhY2suZ2V0SW50ZXJwb2xhdGlvbigpYCBkb2Vzbid0IHN1cHBvcnQgY3VzdG9tIGludGVycG9sYW50cy5cblx0XHRcdFx0XHRcdHRyYWNrLmNyZWF0ZUludGVycG9sYW50LmlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lID0gdHJ1ZTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRyYWNrcy5wdXNoKCB0cmFjayApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBuYW1lID0gYW5pbWF0aW9uRGVmLm5hbWUgPyBhbmltYXRpb25EZWYubmFtZSA6ICdhbmltYXRpb25fJyArIGFuaW1hdGlvbkluZGV4O1xuXG5cdFx0XHRyZXR1cm4gbmV3IEFuaW1hdGlvbkNsaXAoIG5hbWUsIHVuZGVmaW5lZCwgdHJhY2tzICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdGNyZWF0ZU5vZGVNZXNoKCBub2RlSW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3Qgbm9kZURlZiA9IGpzb24ubm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0aWYgKCBub2RlRGVmLm1lc2ggPT09IHVuZGVmaW5lZCApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnbWVzaCcsIG5vZGVEZWYubWVzaCApLnRoZW4oIGZ1bmN0aW9uICggbWVzaCApIHtcblxuXHRcdFx0Y29uc3Qgbm9kZSA9IHBhcnNlci5fZ2V0Tm9kZVJlZiggcGFyc2VyLm1lc2hDYWNoZSwgbm9kZURlZi5tZXNoLCBtZXNoICk7XG5cblx0XHRcdC8vIGlmIHdlaWdodHMgYXJlIHByb3ZpZGVkIG9uIHRoZSBub2RlLCBvdmVycmlkZSB3ZWlnaHRzIG9uIHRoZSBtZXNoLlxuXHRcdFx0aWYgKCBub2RlRGVmLndlaWdodHMgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRub2RlLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG8gKSB7XG5cblx0XHRcdFx0XHRpZiAoICEgby5pc01lc2ggKSByZXR1cm47XG5cblx0XHRcdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZURlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdFx0XHRvLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdID0gbm9kZURlZi53ZWlnaHRzWyBpIF07XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBub2RlO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI25vZGVzLWFuZC1oaWVyYXJjaHlcblx0ICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEPn1cblx0ICovXG5cdGxvYWROb2RlKCBub2RlSW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblxuXHRcdGNvbnN0IG5vZGVEZWYgPSBqc29uLm5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdC8vIHJlc2VydmUgbm9kZSdzIG5hbWUgYmVmb3JlIGl0cyBkZXBlbmRlbmNpZXMsIHNvIHRoZSByb290IGhhcyB0aGUgaW50ZW5kZWQgbmFtZS5cblx0XHRjb25zdCBub2RlTmFtZSA9IG5vZGVEZWYubmFtZSA/IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKCBub2RlRGVmLm5hbWUgKSA6ICcnO1xuXG5cdFx0cmV0dXJuICggZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRjb25zdCBvYmplY3RQZW5kaW5nID0gW107XG5cblx0XHRcdGNvbnN0IG1lc2hQcm9taXNlID0gcGFyc2VyLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdHJldHVybiBleHQuY3JlYXRlTm9kZU1lc2ggJiYgZXh0LmNyZWF0ZU5vZGVNZXNoKCBub2RlSW5kZXggKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHRpZiAoIG1lc2hQcm9taXNlICkge1xuXG5cdFx0XHRcdG9iamVjdFBlbmRpbmcucHVzaCggbWVzaFByb21pc2UgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG5vZGVEZWYuY2FtZXJhICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0b2JqZWN0UGVuZGluZy5wdXNoKCBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2NhbWVyYScsIG5vZGVEZWYuY2FtZXJhICkudGhlbiggZnVuY3Rpb24gKCBjYW1lcmEgKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VyLl9nZXROb2RlUmVmKCBwYXJzZXIuY2FtZXJhQ2FjaGUsIG5vZGVEZWYuY2FtZXJhLCBjYW1lcmEgKTtcblxuXHRcdFx0XHR9ICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRwYXJzZXIuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGV4dC5jcmVhdGVOb2RlQXR0YWNobWVudCAmJiBleHQuY3JlYXRlTm9kZUF0dGFjaG1lbnQoIG5vZGVJbmRleCApO1xuXG5cdFx0XHR9ICkuZm9yRWFjaCggZnVuY3Rpb24gKCBwcm9taXNlICkge1xuXG5cdFx0XHRcdG9iamVjdFBlbmRpbmcucHVzaCggcHJvbWlzZSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdGNvbnN0IGNoaWxkUGVuZGluZyA9IFtdO1xuXHRcdFx0Y29uc3QgY2hpbGRyZW5EZWYgPSBub2RlRGVmLmNoaWxkcmVuIHx8IFtdO1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gY2hpbGRyZW5EZWYubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0Y2hpbGRQZW5kaW5nLnB1c2goIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnbm9kZScsIGNoaWxkcmVuRGVmWyBpIF0gKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNrZWxldG9uUGVuZGluZyA9IG5vZGVEZWYuc2tpbiA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gUHJvbWlzZS5yZXNvbHZlKCBudWxsIClcblx0XHRcdFx0OiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ3NraW4nLCBub2RlRGVmLnNraW4gKTtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKCBbXG5cdFx0XHRcdFByb21pc2UuYWxsKCBvYmplY3RQZW5kaW5nICksXG5cdFx0XHRcdFByb21pc2UuYWxsKCBjaGlsZFBlbmRpbmcgKSxcblx0XHRcdFx0c2tlbGV0b25QZW5kaW5nXG5cdFx0XHRdICk7XG5cblx0XHR9KCkgKS50aGVuKCBmdW5jdGlvbiAoIHJlc3VsdHMgKSB7XG5cblx0XHRcdGNvbnN0IG9iamVjdHMgPSByZXN1bHRzWyAwIF07XG5cdFx0XHRjb25zdCBjaGlsZHJlbiA9IHJlc3VsdHNbIDEgXTtcblx0XHRcdGNvbnN0IHNrZWxldG9uID0gcmVzdWx0c1sgMiBdO1xuXG5cdFx0XHRsZXQgbm9kZTtcblxuXHRcdFx0Ly8gLmlzQm9uZSBpc24ndCBpbiBnbFRGIHNwZWMuIFNlZSAuX21hcmtEZWZzXG5cdFx0XHRpZiAoIG5vZGVEZWYuaXNCb25lID09PSB0cnVlICkge1xuXG5cdFx0XHRcdG5vZGUgPSBuZXcgQm9uZSgpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvYmplY3RzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdFx0bm9kZSA9IG5ldyBHcm91cCgpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvYmplY3RzLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdFx0XHRub2RlID0gb2JqZWN0c1sgMCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdG5vZGUgPSBuZXcgT2JqZWN0M0QoKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG5vZGUgIT09IG9iamVjdHNbIDAgXSApIHtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRcdG5vZGUuYWRkKCBvYmplY3RzWyBpIF0gKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBub2RlRGVmLm5hbWUgKSB7XG5cblx0XHRcdFx0bm9kZS51c2VyRGF0YS5uYW1lID0gbm9kZURlZi5uYW1lO1xuXHRcdFx0XHRub2RlLm5hbWUgPSBub2RlTmFtZTtcblxuXHRcdFx0fVxuXG5cdFx0XHRhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBub2RlLCBub2RlRGVmICk7XG5cblx0XHRcdGlmICggbm9kZURlZi5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBub2RlLCBub2RlRGVmICk7XG5cblx0XHRcdGlmICggbm9kZURlZi5tYXRyaXggIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRjb25zdCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuXHRcdFx0XHRtYXRyaXguZnJvbUFycmF5KCBub2RlRGVmLm1hdHJpeCApO1xuXHRcdFx0XHRub2RlLmFwcGx5TWF0cml4NCggbWF0cml4ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKCBub2RlRGVmLnRyYW5zbGF0aW9uICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRub2RlLnBvc2l0aW9uLmZyb21BcnJheSggbm9kZURlZi50cmFuc2xhdGlvbiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIG5vZGVEZWYucm90YXRpb24gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdG5vZGUucXVhdGVybmlvbi5mcm9tQXJyYXkoIG5vZGVEZWYucm90YXRpb24gKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBub2RlRGVmLnNjYWxlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRub2RlLnNjYWxlLmZyb21BcnJheSggbm9kZURlZi5zY2FsZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgcGFyc2VyLmFzc29jaWF0aW9ucy5oYXMoIG5vZGUgKSApIHtcblxuXHRcdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggbm9kZSwge30gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLmdldCggbm9kZSApLm5vZGVzID0gbm9kZUluZGV4O1xuXG5cdFx0XHRpZiAoIHNrZWxldG9uICE9PSBudWxsICkge1xuXG5cdFx0XHRcdC8vIFRoaXMgZnVsbCB0cmF2ZXJzZSBzaG91bGQgYmUgZmluZSBiZWNhdXNlXG5cdFx0XHRcdC8vIGNoaWxkIGdsVEYgbm9kZXMgaGF2ZSBub3QgYmVlbiBhZGRlZCB0byB0aGlzIG5vZGUgeWV0LlxuXHRcdFx0XHRub2RlLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG1lc2ggKSB7XG5cblx0XHRcdFx0XHRpZiAoICEgbWVzaC5pc1NraW5uZWRNZXNoICkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0bWVzaC5iaW5kKCBza2VsZXRvbiwgX2lkZW50aXR5TWF0cml4ICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRub2RlLmFkZCggY2hpbGRyZW5bIGkgXSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBub2RlO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NjZW5lc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gc2NlbmVJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwPn1cblx0ICovXG5cdGxvYWRTY2VuZSggc2NlbmVJbmRleCApIHtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cdFx0Y29uc3Qgc2NlbmVEZWYgPSB0aGlzLmpzb24uc2NlbmVzWyBzY2VuZUluZGV4IF07XG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblxuXHRcdC8vIExvYWRlciByZXR1cm5zIEdyb3VwLCBub3QgU2NlbmUuXG5cdFx0Ly8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xODM0MiNpc3N1ZWNvbW1lbnQtNTc4OTgxMTcyXG5cdFx0Y29uc3Qgc2NlbmUgPSBuZXcgR3JvdXAoKTtcblx0XHRpZiAoIHNjZW5lRGVmLm5hbWUgKSBzY2VuZS5uYW1lID0gcGFyc2VyLmNyZWF0ZVVuaXF1ZU5hbWUoIHNjZW5lRGVmLm5hbWUgKTtcblxuXHRcdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIHNjZW5lLCBzY2VuZURlZiApO1xuXG5cdFx0aWYgKCBzY2VuZURlZi5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBzY2VuZSwgc2NlbmVEZWYgKTtcblxuXHRcdGNvbnN0IG5vZGVJZHMgPSBzY2VuZURlZi5ub2RlcyB8fCBbXTtcblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBub2RlSWRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnbm9kZScsIG5vZGVJZHNbIGkgXSApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKS50aGVuKCBmdW5jdGlvbiAoIG5vZGVzICkge1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0c2NlbmUuYWRkKCBub2Rlc1sgaSBdICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlcyBkYW5nbGluZyBhc3NvY2lhdGlvbnMsIGFzc29jaWF0aW9ucyB0aGF0IHJlZmVyZW5jZSBhIG5vZGUgdGhhdFxuXHRcdFx0Ly8gZGlkbid0IG1ha2UgaXQgaW50byB0aGUgc2NlbmUuXG5cdFx0XHRjb25zdCByZWR1Y2VBc3NvY2lhdGlvbnMgPSAoIG5vZGUgKSA9PiB7XG5cblx0XHRcdFx0Y29uc3QgcmVkdWNlZEFzc29jaWF0aW9ucyA9IG5ldyBNYXAoKTtcblxuXHRcdFx0XHRmb3IgKCBjb25zdCBbIGtleSwgdmFsdWUgXSBvZiBwYXJzZXIuYXNzb2NpYXRpb25zICkge1xuXG5cdFx0XHRcdFx0aWYgKCBrZXkgaW5zdGFuY2VvZiBNYXRlcmlhbCB8fCBrZXkgaW5zdGFuY2VvZiBUZXh0dXJlICkge1xuXG5cdFx0XHRcdFx0XHRyZWR1Y2VkQXNzb2NpYXRpb25zLnNldCgga2V5LCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRub2RlLnRyYXZlcnNlKCAoIG5vZGUgKSA9PiB7XG5cblx0XHRcdFx0XHRjb25zdCBtYXBwaW5ncyA9IHBhcnNlci5hc3NvY2lhdGlvbnMuZ2V0KCBub2RlICk7XG5cblx0XHRcdFx0XHRpZiAoIG1hcHBpbmdzICE9IG51bGwgKSB7XG5cblx0XHRcdFx0XHRcdHJlZHVjZWRBc3NvY2lhdGlvbnMuc2V0KCBub2RlLCBtYXBwaW5ncyApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRyZXR1cm4gcmVkdWNlZEFzc29jaWF0aW9ucztcblxuXHRcdFx0fTtcblxuXHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucyA9IHJlZHVjZUFzc29jaWF0aW9ucyggc2NlbmUgKTtcblxuXHRcdFx0cmV0dXJuIHNjZW5lO1xuXG5cdFx0fSApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWZcbiAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVCb3VuZHMoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlciApIHtcblxuXHRjb25zdCBhdHRyaWJ1dGVzID0gcHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXM7XG5cblx0Y29uc3QgYm94ID0gbmV3IEJveDMoKTtcblxuXHRpZiAoIGF0dHJpYnV0ZXMuUE9TSVRJT04gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdGNvbnN0IGFjY2Vzc29yID0gcGFyc2VyLmpzb24uYWNjZXNzb3JzWyBhdHRyaWJ1dGVzLlBPU0lUSU9OIF07XG5cblx0XHRjb25zdCBtaW4gPSBhY2Nlc3Nvci5taW47XG5cdFx0Y29uc3QgbWF4ID0gYWNjZXNzb3IubWF4O1xuXG5cdFx0Ly8gZ2xURiByZXF1aXJlcyAnbWluJyBhbmQgJ21heCcsIGJ1dCBWUk0gKHdoaWNoIGV4dGVuZHMgZ2xURikgY3VycmVudGx5IGlnbm9yZXMgdGhhdCByZXF1aXJlbWVudC5cblxuXHRcdGlmICggbWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGJveC5zZXQoXG5cdFx0XHRcdG5ldyBWZWN0b3IzKCBtaW5bIDAgXSwgbWluWyAxIF0sIG1pblsgMiBdICksXG5cdFx0XHRcdG5ldyBWZWN0b3IzKCBtYXhbIDAgXSwgbWF4WyAxIF0sIG1heFsgMiBdIClcblx0XHRcdCk7XG5cblx0XHRcdGlmICggYWNjZXNzb3Iubm9ybWFsaXplZCApIHtcblxuXHRcdFx0XHRjb25zdCBib3hTY2FsZSA9IGdldE5vcm1hbGl6ZWRDb21wb25lbnRTY2FsZSggV0VCR0xfQ09NUE9ORU5UX1RZUEVTWyBhY2Nlc3Nvci5jb21wb25lbnRUeXBlIF0gKTtcblx0XHRcdFx0Ym94Lm1pbi5tdWx0aXBseVNjYWxhciggYm94U2NhbGUgKTtcblx0XHRcdFx0Ym94Lm1heC5tdWx0aXBseVNjYWxhciggYm94U2NhbGUgKTtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBtaW4vbWF4IHByb3BlcnRpZXMgZm9yIGFjY2Vzc29yIFBPU0lUSU9OLicgKTtcblxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHRyZXR1cm47XG5cblx0fVxuXG5cdGNvbnN0IHRhcmdldHMgPSBwcmltaXRpdmVEZWYudGFyZ2V0cztcblxuXHRpZiAoIHRhcmdldHMgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdGNvbnN0IG1heERpc3BsYWNlbWVudCA9IG5ldyBWZWN0b3IzKCk7XG5cdFx0Y29uc3QgdmVjdG9yID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCB0YXJnZXQgPSB0YXJnZXRzWyBpIF07XG5cblx0XHRcdGlmICggdGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Y29uc3QgYWNjZXNzb3IgPSBwYXJzZXIuanNvbi5hY2Nlc3NvcnNbIHRhcmdldC5QT1NJVElPTiBdO1xuXHRcdFx0XHRjb25zdCBtaW4gPSBhY2Nlc3Nvci5taW47XG5cdFx0XHRcdGNvbnN0IG1heCA9IGFjY2Vzc29yLm1heDtcblxuXHRcdFx0XHQvLyBnbFRGIHJlcXVpcmVzICdtaW4nIGFuZCAnbWF4JywgYnV0IFZSTSAod2hpY2ggZXh0ZW5kcyBnbFRGKSBjdXJyZW50bHkgaWdub3JlcyB0aGF0IHJlcXVpcmVtZW50LlxuXG5cdFx0XHRcdGlmICggbWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHQvLyB3ZSBuZWVkIHRvIGdldCBtYXggb2YgYWJzb2x1dGUgY29tcG9uZW50cyBiZWNhdXNlIHRhcmdldCB3ZWlnaHQgaXMgWy0xLDFdXG5cdFx0XHRcdFx0dmVjdG9yLnNldFgoIE1hdGgubWF4KCBNYXRoLmFicyggbWluWyAwIF0gKSwgTWF0aC5hYnMoIG1heFsgMCBdICkgKSApO1xuXHRcdFx0XHRcdHZlY3Rvci5zZXRZKCBNYXRoLm1heCggTWF0aC5hYnMoIG1pblsgMSBdICksIE1hdGguYWJzKCBtYXhbIDEgXSApICkgKTtcblx0XHRcdFx0XHR2ZWN0b3Iuc2V0WiggTWF0aC5tYXgoIE1hdGguYWJzKCBtaW5bIDIgXSApLCBNYXRoLmFicyggbWF4WyAyIF0gKSApICk7XG5cblxuXHRcdFx0XHRcdGlmICggYWNjZXNzb3Iubm9ybWFsaXplZCApIHtcblxuXHRcdFx0XHRcdFx0Y29uc3QgYm94U2NhbGUgPSBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIFdFQkdMX0NPTVBPTkVOVF9UWVBFU1sgYWNjZXNzb3IuY29tcG9uZW50VHlwZSBdICk7XG5cdFx0XHRcdFx0XHR2ZWN0b3IubXVsdGlwbHlTY2FsYXIoIGJveFNjYWxlICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOb3RlOiB0aGlzIGFzc3VtZXMgdGhhdCB0aGUgc3VtIG9mIGFsbCB3ZWlnaHRzIGlzIGF0IG1vc3QgMS4gVGhpcyBpc24ndCBxdWl0ZSBjb3JyZWN0IC0gaXQncyBtb3JlIGNvbnNlcnZhdGl2ZVxuXHRcdFx0XHRcdC8vIHRvIGFzc3VtZSB0aGF0IGVhY2ggdGFyZ2V0IGNhbiBoYXZlIGEgbWF4IHdlaWdodCBvZiAxLiBIb3dldmVyLCBmb3Igc29tZSB1c2UgY2FzZXMgLSBub3RhYmx5LCB3aGVuIG1vcnBoIHRhcmdldHNcblx0XHRcdFx0XHQvLyBhcmUgdXNlZCB0byBpbXBsZW1lbnQga2V5LWZyYW1lIGFuaW1hdGlvbnMgYW5kIGFzIHN1Y2ggb25seSB0d28gYXJlIGFjdGl2ZSBhdCBhIHRpbWUgLSB0aGlzIHJlc3VsdHMgaW4gdmVyeSBsYXJnZVxuXHRcdFx0XHRcdC8vIGJveGVzLiBTbyBmb3Igbm93IHdlIG1ha2UgYSBib3ggdGhhdCdzIHNvbWV0aW1lcyBhIHRvdWNoIHRvbyBzbWFsbCBidXQgaXMgaG9wZWZ1bGx5IG1vc3RseSBvZiByZWFzb25hYmxlIHNpemUuXG5cdFx0XHRcdFx0bWF4RGlzcGxhY2VtZW50Lm1heCggdmVjdG9yICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBBcyBwZXIgY29tbWVudCBhYm92ZSB0aGlzIGJveCBpc24ndCBjb25zZXJ2YXRpdmUsIGJ1dCBoYXMgYSByZWFzb25hYmxlIHNpemUgZm9yIGEgdmVyeSBsYXJnZSBudW1iZXIgb2YgbW9ycGggdGFyZ2V0cy5cblx0XHRib3guZXhwYW5kQnlWZWN0b3IoIG1heERpc3BsYWNlbWVudCApO1xuXG5cdH1cblxuXHRnZW9tZXRyeS5ib3VuZGluZ0JveCA9IGJveDtcblxuXHRjb25zdCBzcGhlcmUgPSBuZXcgU3BoZXJlKCk7XG5cblx0Ym94LmdldENlbnRlciggc3BoZXJlLmNlbnRlciApO1xuXHRzcGhlcmUucmFkaXVzID0gYm94Lm1pbi5kaXN0YW5jZVRvKCBib3gubWF4ICkgLyAyO1xuXG5cdGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlID0gc3BoZXJlO1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAqIEBwYXJhbSB7R0xURi5QcmltaXRpdmV9IHByaW1pdGl2ZURlZlxuICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcbiAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICovXG5mdW5jdGlvbiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKCBnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIgKSB7XG5cblx0Y29uc3QgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG5cdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRmdW5jdGlvbiBhc3NpZ25BdHRyaWJ1dGVBY2Nlc3NvciggYWNjZXNzb3JJbmRleCwgYXR0cmlidXRlTmFtZSApIHtcblxuXHRcdHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgYWNjZXNzb3JJbmRleCApXG5cdFx0XHQudGhlbiggZnVuY3Rpb24gKCBhY2Nlc3NvciApIHtcblxuXHRcdFx0XHRnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoIGF0dHJpYnV0ZU5hbWUsIGFjY2Vzc29yICk7XG5cblx0XHRcdH0gKTtcblxuXHR9XG5cblx0Zm9yICggY29uc3QgZ2x0ZkF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcyApIHtcblxuXHRcdGNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGdsdGZBdHRyaWJ1dGVOYW1lIF0gfHwgZ2x0ZkF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdC8vIFNraXAgYXR0cmlidXRlcyBhbHJlYWR5IHByb3ZpZGVkIGJ5IGUuZy4gRHJhY28gZXh0ZW5zaW9uLlxuXHRcdGlmICggdGhyZWVBdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMgKSBjb250aW51ZTtcblxuXHRcdHBlbmRpbmcucHVzaCggYXNzaWduQXR0cmlidXRlQWNjZXNzb3IoIGF0dHJpYnV0ZXNbIGdsdGZBdHRyaWJ1dGVOYW1lIF0sIHRocmVlQXR0cmlidXRlTmFtZSApICk7XG5cblx0fVxuXG5cdGlmICggcHJpbWl0aXZlRGVmLmluZGljZXMgIT09IHVuZGVmaW5lZCAmJiAhIGdlb21ldHJ5LmluZGV4ICkge1xuXG5cdFx0Y29uc3QgYWNjZXNzb3IgPSBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgcHJpbWl0aXZlRGVmLmluZGljZXMgKS50aGVuKCBmdW5jdGlvbiAoIGFjY2Vzc29yICkge1xuXG5cdFx0XHRnZW9tZXRyeS5zZXRJbmRleCggYWNjZXNzb3IgKTtcblxuXHRcdH0gKTtcblxuXHRcdHBlbmRpbmcucHVzaCggYWNjZXNzb3IgKTtcblxuXHR9XG5cblx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggZ2VvbWV0cnksIHByaW1pdGl2ZURlZiApO1xuXG5cdGNvbXB1dGVCb3VuZHMoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlciApO1xuXG5cdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdHJldHVybiBwcmltaXRpdmVEZWYudGFyZ2V0cyAhPT0gdW5kZWZpbmVkXG5cdFx0XHQ/IGFkZE1vcnBoVGFyZ2V0cyggZ2VvbWV0cnksIHByaW1pdGl2ZURlZi50YXJnZXRzLCBwYXJzZXIgKVxuXHRcdFx0OiBnZW9tZXRyeTtcblxuXHR9ICk7XG5cbn1cblxuZXhwb3J0IHsgR0xURkxvYWRlciB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuLy9odHRwczovL2dpdGh1Yi5jb20vRGFyaW9NYXp6YW50aS9PbmVFdXJvRmlsdGVyVW5pdHkvYmxvYi9tYXN0ZXIvQXNzZXRzL1NjcmlwdHMvT25lRXVyb0ZpbHRlci5jc1xyXG4vL2h0dHBzOi8vZ2l0aHViLmNvbS9EYXJpb01henphbnRpL09uZUV1cm9GaWx0ZXJVbml0eS9ibG9iL21hc3Rlci9Bc3NldHMvU2NyaXB0cy9GaWx0ZXJUZXN0VmVjdG9yMy5jc1xyXG4vL2h0dHBzOi8vZ2lzdC5naXRodWIuY29tL1Rob3JzdGVuQnV4LzMyMzE4M2JiMGJjMmNjYjkyZmYyM2ViZGYzZGU2NDA4XHJcblxyXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtY2xhc3Nlcy1wZXItZmlsZSAqL1xyXG5jbGFzcyBMb3dQYXNzRmlsdGVyIHtcclxuICAgIHk6IG51bWJlciB8IG51bGw7XHJcblxyXG4gICAgczogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgICBhbHBoYSA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYWxwaGE6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc2V0QWxwaGEoYWxwaGEpO1xyXG4gICAgICAgIHRoaXMueSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBbHBoYShhbHBoYTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKGFscGhhIDw9IDAgfHwgYWxwaGEgPiAxLjApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWxwaGEgPSBhbHBoYTtcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXIodmFsdWU6IG51bWJlciwgdGltZXN0YW1wOiBudW1iZXIsIGFscGhhOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoYWxwaGEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBbHBoYShhbHBoYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzO1xyXG4gICAgICAgIGlmICghdGhpcy55KSB7XHJcbiAgICAgICAgICAgIHMgPSB2YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzID0gdGhpcy5hbHBoYSAqIHZhbHVlICsgKDEuMCAtIHRoaXMuYWxwaGEpICogdGhpcy5zITtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy55ID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zID0gcztcclxuICAgICAgICByZXR1cm4gcztcclxuICAgIH1cclxuXHJcbiAgICBsYXN0VmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT25lRXVyb0ZpbHRlciB7XHJcbiAgICBmcmVxOiBudW1iZXI7XHJcblxyXG4gICAgbWluQ3V0T2ZmOiBudW1iZXI7XHJcblxyXG4gICAgYmV0YTogbnVtYmVyO1xyXG5cclxuICAgIGRDdXRPZmY6IG51bWJlcjtcclxuXHJcbiAgICB4OiBMb3dQYXNzRmlsdGVyO1xyXG5cclxuICAgIGR4OiBMb3dQYXNzRmlsdGVyO1xyXG5cclxuICAgIGxhc3R0aW1lOiBudW1iZXIgfCBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBjdXJyVmFsdWU6IG51bWJlcjtcclxuICAgIHB1YmxpYyBwcmV2VmFsdWU6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihmcmVxOiBudW1iZXIsIG1pbkN1dE9mZiA9IDEuMCwgYmV0YSA9IDAuMCwgZEN1dE9mZiA9IDEuMCkge1xyXG4gICAgICAgIGlmIChmcmVxIDw9IDAgfHwgbWluQ3V0T2ZmIDw9IDAgfHwgZEN1dE9mZiA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZyZXEgPSBmcmVxO1xyXG4gICAgICAgIHRoaXMubWluQ3V0T2ZmID0gbWluQ3V0T2ZmO1xyXG4gICAgICAgIHRoaXMuYmV0YSA9IGJldGE7XHJcbiAgICAgICAgdGhpcy5kQ3V0T2ZmID0gZEN1dE9mZjtcclxuICAgICAgICB0aGlzLnggPSBuZXcgTG93UGFzc0ZpbHRlcih0aGlzLmFscGhhKHRoaXMubWluQ3V0T2ZmKSk7XHJcbiAgICAgICAgdGhpcy5keCA9IG5ldyBMb3dQYXNzRmlsdGVyKHRoaXMuYWxwaGEodGhpcy5kQ3V0T2ZmKSk7XHJcbiAgICAgICAgdGhpcy5sYXN0dGltZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuY3VyclZhbHVlID0gMC4wO1xyXG4gICAgICAgIHRoaXMucHJldlZhbHVlID0gdGhpcy5jdXJyVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFscGhhKGN1dE9mZjogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgdGUgPSAxLjAgLyB0aGlzLmZyZXE7XHJcbiAgICAgICAgY29uc3QgdGF1ID0gMS4wIC8gKDIgKiBNYXRoLlBJICogY3V0T2ZmKTtcclxuICAgICAgICByZXR1cm4gMS4wIC8gKDEuMCArIHRhdSAvIHRlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlUGFyYW1zKF9mcmVxOiBudW1iZXIsIF9taW5jdXRvZmY6IG51bWJlciA9IDEuMCwgX2JldGE6IG51bWJlciA9IDAsIF9kY3V0b2ZmOiBudW1iZXIgPSAxKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5mcmVxID0gX2ZyZXE7XHJcbiAgICAgICAgdGhpcy5taW5DdXRPZmYgPSBfbWluY3V0b2ZmO1xyXG4gICAgICAgIHRoaXMuYmV0YSA9IF9iZXRhO1xyXG4gICAgICAgIHRoaXMuZEN1dE9mZiA9IF9kY3V0b2ZmO1xyXG4gICAgICAgIHRoaXMueC5zZXRBbHBoYSh0aGlzLmFscGhhKHRoaXMubWluQ3V0T2ZmKSk7XHJcbiAgICAgICAgdGhpcy5keC5zZXRBbHBoYSh0aGlzLmFscGhhKHRoaXMuZEN1dE9mZikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBGaWx0ZXIoeDogbnVtYmVyLCB0aW1lc3RhbXA6IG51bWJlciB8IG51bGwgPSBudWxsKTogbnVtYmVyIHtcclxuICAgICAgICB0aGlzLnByZXZWYWx1ZSA9IHRoaXMuY3VyclZhbHVlO1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3R0aW1lICYmIHRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICB0aGlzLmZyZXEgPSAxLjAgLyAodGltZXN0YW1wIC0gdGhpcy5sYXN0dGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGFzdHRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgY29uc3QgcHJldlggPSB0aGlzLngubGFzdFZhbHVlKCk7XHJcbiAgICAgICAgY29uc3QgZHggPSAhcHJldlggPyAwLjAgOiAoeCAtIHByZXZYKSAqIHRoaXMuZnJlcTtcclxuICAgICAgICBjb25zdCBlZHggPSB0aGlzLmR4LmZpbHRlcihkeCwgdGltZXN0YW1wISwgdGhpcy5hbHBoYSh0aGlzLmRDdXRPZmYpKTtcclxuICAgICAgICBjb25zdCBjdXRPZmYgPSB0aGlzLm1pbkN1dE9mZiArIHRoaXMuYmV0YSAqIE1hdGguYWJzKGVkeCk7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmN1cnJWYWx1ZSA9IHRoaXMueC5maWx0ZXIoeCwgdGltZXN0YW1wISwgdGhpcy5hbHBoYShjdXRPZmYpKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPbmVFdXJvRmlsdGVyVmVjdG9yMyB7XHJcbiAgICAvLyBjb250YWluc3QgdGhlIHR5cGUgb2YgVFxyXG4gICAgLy8gdGhlIGFycmF5IG9mIGZpbHRlcnNcclxuICAgIHByaXZhdGUgb25lRXVyb0ZpbHRlcnM6IEFycmF5PE9uZUV1cm9GaWx0ZXI+O1xyXG5cclxuICAgIHByaXZhdGUgX2ZyZXE6IG51bWJlcjtcclxuICAgIHB1YmxpYyBnZXQgZnJlcSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mcmVxO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2JldGE6IG51bWJlcjtcclxuICAgIHB1YmxpYyBnZXQgYmV0YSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iZXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2RjdXRvZmY6IG51bWJlcjtcclxuICAgIHB1YmxpYyBnZXQgZGN1dG9mZigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kY3V0b2ZmO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfbWluY3V0b2ZmOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgZ2V0IG1pbmN1dG9mZl8xKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbmN1dG9mZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjdXJyVmFsdWUgY29udGFpbnMgdGhlIGxhdGVzdCB2YWx1ZSB3aGljaCBoYXZlIGJlZW4gc3VjY2VzZnVsbHkgZmlsdGVyZWRcclxuICAgIC8vIHByZXZWYWx1ZSBjb250YWlucyB0aGUgcHJldmlvdXMgZmlsdGVyZWQgdmFsdWVcclxuXHJcbiAgICBwcml2YXRlIGN1cnJWYWx1ZTogVmVjdG9yMztcclxuICAgIHByaXZhdGUgcHJldlZhbHVlOiBWZWN0b3IzO1xyXG5cclxuICAgIC8vIGluaXRpYWxpemF0aW9uIG9mIG91ciBmaWx0ZXIocylcclxuICAgIGNvbnN0cnVjdG9yKF9mcmVxOiBudW1iZXIsIF9taW5jdXRvZmY6IG51bWJlciA9IDEsIF9iZXRhOiBudW1iZXIgPSAwLCBfZGN1dG9mZjogbnVtYmVyID0gMSkge1xyXG4gICAgICAgIHRoaXMuY3VyclZhbHVlID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLnByZXZWYWx1ZSA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2ZyZXEgPSBfZnJlcTtcclxuICAgICAgICB0aGlzLl9taW5jdXRvZmYgPSBfbWluY3V0b2ZmO1xyXG4gICAgICAgIHRoaXMuX2JldGEgPSBfYmV0YTtcclxuICAgICAgICB0aGlzLl9kY3V0b2ZmID0gX2RjdXRvZmY7XHJcblxyXG4gICAgICAgIHRoaXMub25lRXVyb0ZpbHRlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLm9uZUV1cm9GaWx0ZXJzLnB1c2gobmV3IE9uZUV1cm9GaWx0ZXIoX2ZyZXEsIF9taW5jdXRvZmYsIF9iZXRhLCBfZGN1dG9mZikpO1xyXG4gICAgICAgIHRoaXMub25lRXVyb0ZpbHRlcnMucHVzaChuZXcgT25lRXVyb0ZpbHRlcihfZnJlcSwgX21pbmN1dG9mZiwgX2JldGEsIF9kY3V0b2ZmKSk7XHJcbiAgICAgICAgdGhpcy5vbmVFdXJvRmlsdGVycy5wdXNoKG5ldyBPbmVFdXJvRmlsdGVyKF9mcmVxLCBfbWluY3V0b2ZmLCBfYmV0YSwgX2RjdXRvZmYpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGVzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyc1xyXG4gICAgcHVibGljIFVwZGF0ZVBhcmFtcyhfZnJlcTogbnVtYmVyLCBfbWluY3V0b2ZmOiBudW1iZXIgPSAxLjAsIF9iZXRhOiBudW1iZXIgPSAwLCBfZGN1dG9mZjogbnVtYmVyID0gMSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2ZyZXEgPSBfZnJlcTtcclxuICAgICAgICB0aGlzLl9taW5jdXRvZmYgPSBfbWluY3V0b2ZmO1xyXG4gICAgICAgIHRoaXMuX2JldGEgPSBfYmV0YTtcclxuICAgICAgICB0aGlzLl9kY3V0b2ZmID0gX2RjdXRvZmY7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLm9uZUV1cm9GaWx0ZXJzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm9uZUV1cm9GaWx0ZXJzW2ldLlVwZGF0ZVBhcmFtcyh0aGlzLl9mcmVxLCB0aGlzLl9taW5jdXRvZmYsIHRoaXMuX2JldGEsIHRoaXMuX2RjdXRvZmYpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZpbHRlcnMgdGhlIHByb3ZpZGVkIF92YWx1ZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxyXG4gICAgLy8gTm90ZTogYSB0aW1lc3RhbXAgY2FuIGFsc28gYmUgcHJvdmlkZWQgLSB3aWxsIG92ZXJyaWRlIGZpbHRlciBmcmVxdWVuY3kuXHJcbiAgICBwdWJsaWMgRmlsdGVyKF92YWx1ZTogVmVjdG9yMywgdGltZXN0YW1wOiBudW1iZXIgPSAtMS4wKTogVmVjdG9yMyB7XHJcbiAgICAgICAgdGhpcy5wcmV2VmFsdWUgPSB0aGlzLmN1cnJWYWx1ZTtcclxuXHJcbiAgICAgICAgLy9sZXQgb3V0cHV0OiBudW1iZXJbXSA9IFZlY3RvcjMuWmVyb1JlYWRPbmx5LmFzQXJyYXkoKTsgLy8gQmFieWxvbiBjb2RlLi4uXHJcbiAgICAgICAgbGV0IG91dDogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgbGV0IG91dHB1dDogbnVtYmVyW10gPSBvdXQudG9BcnJheSgpO1xyXG5cclxuICAgICAgICAvL2xldCBpbnB1dDogbnVtYmVyW10gPSBfdmFsdWUuYXNBcnJheSgpOyAvLyBCYWJ5bG9uIGNvZGVcclxuICAgICAgICBsZXQgaW5wdXQ6IG51bWJlcltdID0gX3ZhbHVlLnRvQXJyYXkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbmVFdXJvRmlsdGVycy5mb3JFYWNoKChmaWx0ZXJzLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgb3V0cHV0W2lkeF0gPSBmaWx0ZXJzLkZpbHRlcihpbnB1dFtpZHhdLCB0aW1lc3RhbXApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgYXJyOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmN1cnJWYWx1ZSA9IGFyci5mcm9tQXJyYXkob3V0cHV0KSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZ2V0VGltZSB9IGZyb20gXCIuLi91dGlscy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlbGF5YWJsZVNpZ25hbEZpbHRlciB7XHJcbiAgICBwcml2YXRlIF9pbkRlbGF5OiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfdG90YWxUaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9wcmV2VGltZTogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX3RpbWVPdXQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lT3V0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl90aW1lT3V0ID0gdGltZU91dDtcclxuICAgICAgICB0aGlzLl9pbkRlbGF5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZSh0aWNrOiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHRpbWU6IG51bWJlciA9IGdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbkRlbGF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXZUaW1lID0gdGltZTtcclxuICAgICAgICAgICAgdGhpcy5fdG90YWxUaW1lID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3RvdGFsVGltZSArPSB0aW1lIC0gdGhpcy5fcHJldlRpbWU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pbkRlbGF5ICYmIHRoaXMuX3RvdGFsVGltZSA+IHRoaXMuX3RpbWVPdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5EZWxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luRGVsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2luRGVsYXkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IE9uZUV1cm9GaWx0ZXJWZWN0b3IzIH0gZnJvbSBcIi4vT25lRXVyb0ZpbHRlclwiO1xyXG5pbXBvcnQgeyBEZWxheWFibGVTaWduYWxGaWx0ZXIgfSBmcm9tIFwiLi9EZWxheWFibGVTaWduYWxGaWx0ZXJcIjtcclxuaW1wb3J0IHsgRXVsZXIsIE1hdHJpeDQsIFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBUm5mdEZpbHRlciB7XHJcbiAgICBwcml2YXRlIGRlbGF5RXhpdENoZWNrOiBEZWxheWFibGVTaWduYWxGaWx0ZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBkZWxheUVudGVyQ2hlY2s6IERlbGF5YWJsZVNpZ25hbEZpbHRlcjtcclxuXHJcbiAgICBwcml2YXRlIF9oYXNGb3VuZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vIHByaXZhdGUgX2ludGVycG9sYXRpb25GYWN0b3I6IG51bWJlciA9IDE1O1xyXG5cclxuICAgIHByaXZhdGUgX2xhc3RUcmFuc2xhdGlvbjogVmVjdG9yMztcclxuXHJcbiAgICBwcml2YXRlIF9mcmFtZURyb3BzOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX2RlbHRhQWNjdXJhY3k6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHByaXZhdGUgX3Bvc2l0aW9uRmlsdGVyOiBPbmVFdXJvRmlsdGVyVmVjdG9yMztcclxuXHJcbiAgICBwcml2YXRlIF9yb3RhdGlvbkZpbHRlcjogT25lRXVyb0ZpbHRlclZlY3RvcjM7XHJcblxyXG4gICAgcHVibGljIGZpbHRlckZyZXF1ZW5jeTogbnVtYmVyID0gMzAuMDtcclxuICAgIHB1YmxpYyBmaWx0ZXJNaW5DdXRvZmY6IG51bWJlciA9IDEuMDtcclxuICAgIHB1YmxpYyBmaWx0ZXJCZXRhOiBudW1iZXIgPSAwLjA7XHJcbiAgICBwdWJsaWMgZmlsdGVyRGN1dG9mZjogbnVtYmVyID0gMS4wO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZGVsYXlFbnRlckNoZWNrID0gbmV3IERlbGF5YWJsZVNpZ25hbEZpbHRlcigyKTtcclxuICAgICAgICB0aGlzLmRlbGF5RXhpdENoZWNrID0gbmV3IERlbGF5YWJsZVNpZ25hbEZpbHRlcigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb25GaWx0ZXIgPSBuZXcgT25lRXVyb0ZpbHRlclZlY3RvcjModGhpcy5maWx0ZXJGcmVxdWVuY3kpO1xyXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uRmlsdGVyID0gbmV3IE9uZUV1cm9GaWx0ZXJWZWN0b3IzKHRoaXMuZmlsdGVyRnJlcXVlbmN5ICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSh3b3JsZDogYW55KTogVmVjdG9yM1tdIHtcclxuICAgICAgICBsZXQgcG9zOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICBsZXQgcm90YXRpb25WZWM6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIGxldCBzY2FsZTogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgaWYgKCF3b3JsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYXNGb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZURyb3BzID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbWF0cml4VzogTWF0cml4NCA9IG5ldyBNYXRyaXg0KCk7XHJcbiAgICAgICAgICAgIGxldCB3b3JsZE1hdHJpeDogTWF0cml4NCA9IG1hdHJpeFcuZnJvbUFycmF5KHRoaXMuZ2V0QXJyYXlNYXRyaXgod29ybGQpKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9oYXNGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZlY1RyYW5zOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RUcmFuc2xhdGlvbiA9IHZlY1RyYW5zLnNldEZyb21NYXRyaXhQb3NpdGlvbih3b3JsZE1hdHJpeCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmVjVHJhbnM6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgICAgICAgICAgbGV0IF9jdXJyZW50VHJhbnNsYXRpb246IFZlY3RvcjMgPSB2ZWNUcmFucy5zZXRGcm9tTWF0cml4UG9zaXRpb24od29ybGRNYXRyaXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKF9jdXJyZW50VHJhbnNsYXRpb24uZGlzdGFuY2VUbyh0aGlzLl9sYXN0VHJhbnNsYXRpb24pKSA+IHRoaXMuX2RlbHRhQWNjdXJhY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcmFtZURyb3BzICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZyYW1lRHJvcHMgPiAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RUcmFuc2xhdGlvbiA9IF9jdXJyZW50VHJhbnNsYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbcG9zLCByb3RhdGlvblZlYywgc2NhbGVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZnJhbWVEcm9wcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VHJhbnNsYXRpb24gPSBfY3VycmVudFRyYW5zbGF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uRmlsdGVyLlVwZGF0ZVBhcmFtcyhcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyRnJlcXVlbmN5LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJNaW5DdXRvZmYsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckJldGEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckRjdXRvZmZcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb25GaWx0ZXIuVXBkYXRlUGFyYW1zKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJGcmVxdWVuY3kgKiAyLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJNaW5DdXRvZmYsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckJldGEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckRjdXRvZmZcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbGV0IG1hdHJpeDogTWF0cml4NCA9IG5ldyBNYXRyaXg0KCk7XHJcblxyXG4gICAgICAgICAgICBtYXRyaXggPSB3b3JsZE1hdHJpeDtcclxuXHJcbiAgICAgICAgICAgIGxldCByb3RhdGlvbjogUXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgICAgIGxldCBldWxlclJvdDogRXVsZXIgPSBuZXcgRXVsZXIoKTtcclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoMCwgMCwgMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBvciBldmVuIHNpbXBsZSBkZWNvbXBvc2UgdGhlIHdvcmxkTWF0cml4IGludG8gcG9zaXRpb24sIHF1YXRlcm5pb24gYW5kIHNjYWxlIHdpdGggZGVjb21wb3NlXHJcbiAgICAgICAgICAgIHdvcmxkTWF0cml4LmRlY29tcG9zZShwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlKTtcclxuICAgICAgICAgICAgbGV0IGVSb3Q6IEV1bGVyID0gZXVsZXJSb3Quc2V0RnJvbVF1YXRlcm5pb24ocm90YXRpb24pO1xyXG4gICAgICAgICAgICBsZXQgZXVsZXJUb1ZlY3RvcjM6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgICAgICAvL3JvdGF0aW9uVmVjID0gdGhpcy5fcm90YXRpb25GaWx0ZXIuRmlsdGVyKGVSb3QudG9WZWN0b3IzKCkpO1xyXG4gICAgICAgICAgICByb3RhdGlvblZlYyA9IHRoaXMuX3JvdGF0aW9uRmlsdGVyLkZpbHRlcihldWxlclRvVmVjdG9yMy5zZXRGcm9tRXVsZXIoZVJvdCkpO1xyXG5cclxuICAgICAgICAgICAgcG9zID0gdGhpcy5fcG9zaXRpb25GaWx0ZXIuRmlsdGVyKHBvc2l0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtwb3MsIHJvdGF0aW9uVmVjLCBzY2FsZV07XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgZ2V0QXJyYXlNYXRyaXgodmFsdWU6IGFueSk6IGFueSB7XHJcbiAgICAgICAgdmFyIGFycmF5OiBhbnkgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgYXJyYXlba2V5XSA9IHZhbHVlW2tleV07IC8vLnRvRml4ZWQoNCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgT2JqZWN0M0QsXHJcbiAgICBQbGFuZUdlb21ldHJ5LFxyXG4gICAgU2NlbmUsXHJcbiAgICBUZXh0dXJlTG9hZGVyLFxyXG4gICAgVmlkZW9UZXh0dXJlLFxyXG4gICAgTWVzaCxcclxuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLFxyXG4gICAgVmVjdG9yMyxcclxufSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4uL3V0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IEFSbmZ0RmlsdGVyIH0gZnJvbSBcIi4uL2ZpbHRlcnMvQVJuZnRGaWx0ZXJcIjtcclxuaW1wb3J0IFNjZW5lUmVuZGVyZXJUSlMgZnJvbSBcIi4uL1NjZW5lUmVuZGVyZXJUSlNcIjtcclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgdG8gZGVmaW5lIHRoZSBBUlZpZGVvIG9iamVjdCB1c2VkIGluIGFkZFZpZGVvLlxyXG4gKiBAcGFyYW0gcGxheSBwbGF5IGEgdmlkZW8uXHJcbiAqL1xyXG5pbnRlcmZhY2UgQVJ2aWRlbyB7XHJcbiAgICBwbGF5OiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIHRvIGRlZmluZSBhbiBFbnRpdHkuXHJcbiAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBFbnRpdHlcclxuICovXHJcbmludGVyZmFjZSBFbnRpdHkge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIHRvIGRlZmluZSB0aGUgUGxhbmVHZW9tZXRyeSB1c2VkIGluIHRoZSBhZGRJbWFnZSBhbmQgYWRkVmlkZW8gZnVuY3Rpb25zLlxyXG4gKiBAcGFyYW0gdyAgd2lkdGggb2YgdGhlIFBsYW5lR2VvbWV0cnkuXHJcbiAqIEBwYXJhbSBoIGhlaWdodCBvZiB0aGUgUGxhbmVHZW9tZXRyeS5cclxuICogQHBhcmFtIHdzIHdpZHRoIG51bWJlciBvZiBzZWdtZW50cyBvZiB0aGUgUGxhbmVHZW9tZXRyeS5cclxuICogQHBhcmFtIGhzIGhlaWdodCBudW1iZXIgb2Ygc2VnbWVudHMgb2YgdGhlIFBsYW5lR2VvbWV0cnkuXHJcbiAqL1xyXG5pbnRlcmZhY2UgSVBsYW5lQ29uZmlnIHtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIHdzOiBudW1iZXI7XHJcbiAgICBoczogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zYWJsZSB0byBhdHRhY2ggVGhyZWVqcyBvYmplY3QgdG8gdGhlIHJlbmRlcmluZyByb290IGFuZCBwYXNzIG1hdHJpeCBkYXRhIHRvIGl0LlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTkZUYWRkVEpTIHtcclxuICAgIHByaXZhdGUgZW50aXRpZXM6IEVudGl0eVtdID0gW107XHJcbiAgICBwcml2YXRlIG5hbWVzOiBBcnJheTxzdHJpbmc+O1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogU2NlbmU7XHJcbiAgICBwcml2YXRlIHRhcmdldDogRXZlbnRUYXJnZXQ7XHJcbiAgICBwcml2YXRlIHV1aWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgX2ZpbHRlcjogQVJuZnRGaWx0ZXI7XHJcbiAgICBwcml2YXRlIF9vZWY6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgTkZUYWRkVEpTIGNvbnN0dWN0b3IsIHlvdSBuZWVkIHRvIHBhc3MgdGhlIHV1aWQgZnJvbSB0aGUgQVJuZnQgaW5zdGFuY2UuXHJcbiAgICAgKiBAcGFyYW0gdXVpZCB0aGUgdXVpZC5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodXVpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IFNjZW5lUmVuZGVyZXJUSlMuZ2V0R2xvYmFsU2NlbmUoKTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHdpbmRvdyB8fCBnbG9iYWw7XHJcbiAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcclxuICAgICAgICB0aGlzLm5hbWVzID0gW107XHJcbiAgICAgICAgdGhpcy5fZmlsdGVyID0gbmV3IEFSbmZ0RmlsdGVyKCk7XHJcbiAgICAgICAgdGhpcy5fb2VmID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgYWRkIGZ1bmN0aW9uIHdpbGwgYWRkIGEgbWVzaCB0byB0aGUgUmVuZGVyZXIgcm9vdC4gWW91IG5lZWQgdG8gYXNzb2NpYXRlIGEgbmFtZSBvZiB0aGUgRW50aXR5LlxyXG4gICAgICogQHBhcmFtIG1lc2ggVGhlIG1lc2ggdG8gYWRkXHJcbiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgRW50aXR5IGFzc29jaWF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gb2JqVmlzaWJpbGl0eSBzZXQgdHJ1ZSBvciBmYWxzZSBpZiB0aGUgbWVzaCB3bGwgc3RheSB2aXNpYmxlIG9yIG5vdCBhZnRlciB0cmFja2luZy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZChtZXNoOiBPYmplY3QzRCwgbmFtZTogc3RyaW5nLCBvYmpWaXNpYmlsaXR5OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE5GVERhdGEtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBtc2cgPSBldi5kZXRhaWw7XHJcbiAgICAgICAgICAgIG1lc2gucG9zaXRpb24ueSA9ICgobXNnLmhlaWdodCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcclxuICAgICAgICAgICAgbWVzaC5wb3NpdGlvbi54ID0gKChtc2cud2lkdGggLyBtc2cuZHBpKSAqIDIuNTQgKiAxMCkgLyAyLjA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xyXG4gICAgICAgIHJvb3QubmFtZSA9IFwicm9vdC1cIiArIG5hbWU7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XHJcbiAgICAgICAgcm9vdC5hZGQobWVzaCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE1hdHJpeEdMX1JILVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICByb290LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBtZXNoLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb2VmID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyID0gW25ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKSwgbmV3IFZlY3RvcjMoMCwgMCwgMCldO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyID0gdGhpcy5fZmlsdGVyLnVwZGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRYKGZpbHRlclswXS54KTtcclxuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WShmaWx0ZXJbMF0ueSk7XHJcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFooZmlsdGVyWzBdLnopO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5yb3RhdGlvbi5zZXRGcm9tVmVjdG9yMyhmaWx0ZXJbMV0pO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRYKGZpbHRlclsyXS54KTtcclxuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WShmaWx0ZXJbMl0ueSk7XHJcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFooZmlsdGVyWzJdLnopO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm9vdC5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRyaXggPSBVdGlscy5pbnRlcnBvbGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xyXG4gICAgICAgICAgICAgICAgVXRpbHMuc2V0TWF0cml4KHJvb3QubWF0cml4LCBtYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm5mdFRyYWNraW5nTG9zdC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcclxuICAgICAgICAgICAgbWVzaC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKHsgbmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBhZGRNb2RlbCBmdW5jdGlvbiB3aWxsIGFkZCBhIG1vZGVsIHRvIHRoZSBSZW5kZXJlciByb290LiBZb3UgbmVlZCB0byBhc3NvY2lhdGUgYSBuYW1lIG9mIHRoZSBFbnRpdHkuXHJcbiAgICAgKiBAcGFyYW0gdXJsIHVybCBvZiB0aGUgbW9kZWwuXHJcbiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgRW50aXR5IGFzc29jaWF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gc2NhbGUgc2NhbGUgb2YgdGhlIG1vZGVsLlxyXG4gICAgICogQHBhcmFtIG9ialZpc2liaWxpdHkgc2V0IHRydWUgb3IgZmFsc2UgaWYgdGhlIG1lc2ggd2xsIHN0YXkgdmlzaWJsZSBvciBub3QgYWZ0ZXIgdHJhY2tpbmcuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhZGRNb2RlbCh1cmw6IHN0cmluZywgbmFtZTogc3RyaW5nLCBzY2FsZTogbnVtYmVyLCBvYmpWaXNpYmlsaXR5OiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xyXG4gICAgICAgIHJvb3QubmFtZSA9IFwicm9vdC1cIiArIG5hbWU7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XHJcbiAgICAgICAgbGV0IG1vZGVsOiBhbnk7XHJcbiAgICAgICAgLyogTG9hZCBNb2RlbCAqL1xyXG4gICAgICAgIGNvbnN0IHRocmVlR0xURkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XHJcbiAgICAgICAgdGhyZWVHTFRGTG9hZGVyLmxvYWQodXJsLCAoZ2x0ZikgPT4ge1xyXG4gICAgICAgICAgICBtb2RlbCA9IGdsdGYuc2NlbmU7XHJcbiAgICAgICAgICAgIG1vZGVsLnNjYWxlLnNldChzY2FsZSwgc2NhbGUsIHNjYWxlKTtcclxuICAgICAgICAgICAgbW9kZWwucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0TkZURGF0YS1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBtc2cgPSBldi5kZXRhaWw7XHJcbiAgICAgICAgICAgICAgICBtb2RlbC5wb3NpdGlvbi55ID0gKChtc2cuaGVpZ2h0IC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xyXG4gICAgICAgICAgICAgICAgbW9kZWwucG9zaXRpb24ueCA9ICgobXNnLndpZHRoIC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcm9vdC5hZGQobW9kZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRNYXRyaXhHTF9SSC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgbW9kZWwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vZWYgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBbbmV3IFZlY3RvcjMoMCwgMCwgMCksIG5ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKV07XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSB0aGlzLl9maWx0ZXIudXBkYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XHJcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFgoZmlsdGVyWzBdLngpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRZKGZpbHRlclswXS55KTtcclxuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WihmaWx0ZXJbMF0ueik7XHJcbiAgICAgICAgICAgICAgICByb290LnJvdGF0aW9uLnNldEZyb21WZWN0b3IzKGZpbHRlclsxXSk7XHJcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFgoZmlsdGVyWzJdLngpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRZKGZpbHRlclsyXS55KTtcclxuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WihmaWx0ZXJbMl0ueik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IFV0aWxzLmludGVycG9sYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XHJcbiAgICAgICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgocm9vdC5tYXRyaXgsIG1hdHJpeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0VHJhY2tpbmdMb3N0LVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICByb290LnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xyXG4gICAgICAgICAgICBtb2RlbC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgYWRkTW9kZWxXaXRoQ2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBhZGQgYSBtb2RlbCB0byB0aGUgUmVuZGVyZXIgcm9vdC4gWW91IG5lZWQgdG8gYXNzb2NpYXRlIGEgbmFtZSBvZiB0aGUgRW50aXR5LlxyXG4gICAgICogWW91IGNhbiBtb2RpZnkgdGhlIG1vZGVsIHJvdGF0aW9uLCBzY2FsZSBhbmQgb3RoZXIgcHJvcGVydGllcyB3aXRoIHRoZSBjYWxsYmFjay5cclxuICAgICAqIEBwYXJhbSB1cmwgdXJsIG9mIHRoZSBtb2RlbC5cclxuICAgICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBFbnRpdHkgYXNzb2NpYXRlZC5cclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBtb2RpZnkgdGhlIG1vZGVsIGluIHRoZSBjYWxsYmFjay5cclxuICAgICAqIEBwYXJhbSBvYmpWaXNpYmlsaXR5IHNldCB0cnVlIG9yIGZhbHNlIGlmIHRoZSBtZXNoIHdsbCBzdGF5IHZpc2libGUgb3Igbm90IGFmdGVyIHRyYWNraW5nLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkTW9kZWxXaXRoQ2FsbGJhY2sodXJsOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChnbHRmOiBhbnkpID0+IHt9LCBvYmpWaXNpYmlsaXR5OiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xyXG4gICAgICAgIHJvb3QubmFtZSA9IFwicm9vdC1cIiArIG5hbWU7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XHJcbiAgICAgICAgbGV0IG1vZGVsOiBhbnk7XHJcbiAgICAgICAgLyogTG9hZCBNb2RlbCAqL1xyXG4gICAgICAgIGNvbnN0IHRocmVlR0xURkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XHJcbiAgICAgICAgdGhyZWVHTFRGTG9hZGVyLmxvYWQodXJsLCAoZ2x0ZikgPT4ge1xyXG4gICAgICAgICAgICBtb2RlbCA9IGdsdGYuc2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRORlREYXRhLVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IGV2LmRldGFpbDtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnBvc2l0aW9uLnkgPSAoKG1zZy5oZWlnaHQgLyBtc2cuZHBpKSAqIDIuNTQgKiAxMCkgLyAyLjA7XHJcbiAgICAgICAgICAgICAgICBtb2RlbC5wb3NpdGlvbi54ID0gKChtc2cud2lkdGggLyBtc2cuZHBpKSAqIDIuNTQgKiAxMCkgLyAyLjA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYWxsYmFjayhnbHRmKTtcclxuICAgICAgICAgICAgcm9vdC5hZGQobW9kZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRNYXRyaXhHTF9SSC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgbW9kZWwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vZWYgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBbbmV3IFZlY3RvcjMoMCwgMCwgMCksIG5ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKV07XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSB0aGlzLl9maWx0ZXIudXBkYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XHJcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFgoZmlsdGVyWzBdLngpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRZKGZpbHRlclswXS55KTtcclxuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WihmaWx0ZXJbMF0ueik7XHJcbiAgICAgICAgICAgICAgICByb290LnJvdGF0aW9uLnNldEZyb21WZWN0b3IzKGZpbHRlclsxXSk7XHJcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFgoZmlsdGVyWzJdLngpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRZKGZpbHRlclsyXS55KTtcclxuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WihmaWx0ZXJbMl0ueik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IFV0aWxzLmludGVycG9sYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XHJcbiAgICAgICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgocm9vdC5tYXRyaXgsIG1hdHJpeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0VHJhY2tpbmdMb3N0LVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICByb290LnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xyXG4gICAgICAgICAgICBtb2RlbC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgYWRkSW1hZ2UgZnVuY3Rpb24gd2lsbCBhZGQgYW4gaW1hZ2UgdG8gdGhlIFJlbmRlcmVyIHJvb3QuIFlvdSBuZWVkIHRvIGFzc29jaWF0ZSBhIG5hbWUgb2YgdGhlIEVudGl0eS5cclxuICAgICAqIEBwYXJhbSBpbWFnZVVybCB1cmwgb2YgdGhlIGltYWdlLlxyXG4gICAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIEVudGl0eSBhc3NvY2lhdGVkLlxyXG4gICAgICogQHBhcmFtIGNvbG9yIGNvbG9yIG9mIHRoZSBiYWNrZ3JvdW5kIHBsYW5lLlxyXG4gICAgICogQHBhcmFtIHNjYWxlIHNjYWxlIG9mIHRoZSBwbGFuZS5cclxuICAgICAqIEBwYXJhbSBjb25maWdzIHNlZSBJUGxhbmVDb25maWcuXHJcbiAgICAgKiBAcGFyYW0gb2JqVmlzaWJpbGl0eSBzZXQgdHJ1ZSBvciBmYWxzZSBpZiB0aGUgbWVzaCB3bGwgc3RheSB2aXNpYmxlIG9yIG5vdCBhZnRlciB0cmFja2luZy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZEltYWdlKFxyXG4gICAgICAgIGltYWdlVXJsOiBzdHJpbmcsXHJcbiAgICAgICAgbmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGNvbG9yOiBzdHJpbmcsXHJcbiAgICAgICAgc2NhbGU6IG51bWJlcixcclxuICAgICAgICBjb25maWdzOiBJUGxhbmVDb25maWcsXHJcbiAgICAgICAgb2JqVmlzaWJpbGl0eTogYm9vbGVhblxyXG4gICAgKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xyXG4gICAgICAgIHJvb3QubmFtZSA9IFwicm9vdC1cIiArIG5hbWU7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XHJcbiAgICAgICAgY29uc3QgcGxhbmVHZW9tID0gbmV3IFBsYW5lR2VvbWV0cnkoY29uZmlncy53LCBjb25maWdzLmgsIGNvbmZpZ3Mud3MsIGNvbmZpZ3MuaHMpO1xyXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZUxvYWRlcigpLmxvYWQoaW1hZ2VVcmwpO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IGNvbG9yLCBtYXA6IHRleHR1cmUgfSk7XHJcbiAgICAgICAgY29uc3QgcGxhbmUgPSBuZXcgTWVzaChwbGFuZUdlb20sIG1hdGVyaWFsKTtcclxuICAgICAgICBwbGFuZS5zY2FsZS5zZXQoc2NhbGUsIHNjYWxlLCBzY2FsZSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE5GVERhdGEtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBtc2cgPSBldi5kZXRhaWw7XHJcbiAgICAgICAgICAgIHBsYW5lLnBvc2l0aW9uLnkgPSAoKG1zZy5oZWlnaHQgLyBtc2cuZHBpKSAqIDIuNTQgKiAxMCkgLyAyLjA7XHJcbiAgICAgICAgICAgIHBsYW5lLnBvc2l0aW9uLnggPSAoKG1zZy53aWR0aCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByb290LmFkZChwbGFuZSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE1hdHJpeEdMX1JILVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICByb290LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBwbGFuZS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29lZiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IFtuZXcgVmVjdG9yMygwLCAwLCAwKSwgbmV3IFZlY3RvcjMoMCwgMCwgMCksIG5ldyBWZWN0b3IzKDAsIDAsIDApXTtcclxuICAgICAgICAgICAgICAgIGZpbHRlciA9IHRoaXMuX2ZpbHRlci51cGRhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcclxuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WChmaWx0ZXJbMF0ueCk7XHJcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFkoZmlsdGVyWzBdLnkpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRaKGZpbHRlclswXS56KTtcclxuICAgICAgICAgICAgICAgIHJvb3Qucm90YXRpb24uc2V0RnJvbVZlY3RvcjMoZmlsdGVyWzFdKTtcclxuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WChmaWx0ZXJbMl0ueCk7XHJcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFkoZmlsdGVyWzJdLnkpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRaKGZpbHRlclsyXS56KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvb3QubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gVXRpbHMuaW50ZXJwb2xhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcclxuICAgICAgICAgICAgICAgIFV0aWxzLnNldE1hdHJpeChyb290Lm1hdHJpeCwgbWF0cml4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJuZnRUcmFja2luZ0xvc3QtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHJvb3QudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XHJcbiAgICAgICAgICAgIHBsYW5lLnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubmFtZXMucHVzaChuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBhZGRWaWRlbyBmdW5jdGlvbiB3aWxsIGFkZCBhIHZpZGVvIHRvIHRoZSBSZW5kZXJlciByb290LiBZb3UgbmVlZCB0byBhc3NvY2lhdGUgYSBuYW1lIG9mIHRoZSBFbnRpdHkuXHJcbiAgICAgKiBAcGFyYW0gaWQgdGhlIGlkIG9mIHRoZSBodG1sIHZpZGVvIGVsZW1lbnQuXHJcbiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgRW50aXR5IGFzc29jaWF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gc2NhbGUgc2NhbGUgb2YgdGhlIHBsYW5lLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZ3Mgc2VlIElQbGFuZUNvbmZpZy5cclxuICAgICAqIEBwYXJhbSBvYmpWaXNpYmlsaXR5IHNldCB0cnVlIG9yIGZhbHNlIGlmIHRoZSBtZXNoIHdsbCBzdGF5IHZpc2libGUgb3Igbm90IGFmdGVyIHRyYWNraW5nLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkVmlkZW8oaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBzY2FsZTogbnVtYmVyLCBjb25maWdzOiBJUGxhbmVDb25maWcsIG9ialZpc2liaWxpdHk6IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCByb290ID0gbmV3IE9iamVjdDNEKCk7XHJcbiAgICAgICAgcm9vdC5uYW1lID0gXCJyb290LVwiICsgbmFtZTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZChyb290KTtcclxuICAgICAgICBjb25zdCBBUlZpZGVvOiBIVE1MVmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBWaWRlb1RleHR1cmUoQVJWaWRlbyBhcyBIVE1MVmlkZW9FbGVtZW50KTtcclxuICAgICAgICBjb25zdCBtYXQgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhiYmJiZmYsIG1hcDogdGV4dHVyZSB9KTtcclxuICAgICAgICBjb25zdCBwbGFuZUdlb20gPSBuZXcgUGxhbmVHZW9tZXRyeShjb25maWdzLncsIGNvbmZpZ3MuaCwgY29uZmlncy53cywgY29uZmlncy5ocyk7XHJcbiAgICAgICAgY29uc3QgcGxhbmUgPSBuZXcgTWVzaChwbGFuZUdlb20sIG1hdCk7XHJcbiAgICAgICAgcGxhbmUuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRORlREYXRhLVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbXNnID0gZXYuZGV0YWlsO1xyXG4gICAgICAgICAgICBwbGFuZS5wb3NpdGlvbi55ID0gKChtc2cuaGVpZ2h0IC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xyXG4gICAgICAgICAgICBwbGFuZS5wb3NpdGlvbi54ID0gKChtc2cud2lkdGggLyBtc2cuZHBpKSAqIDIuNTQgKiAxMCkgLyAyLjA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcm9vdC5hZGQocGxhbmUpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRNYXRyaXhHTF9SSC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgQVJWaWRlby5wbGF5KCk7XHJcbiAgICAgICAgICAgIHJvb3QudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHBsYW5lLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb2VmID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyID0gW25ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKSwgbmV3IFZlY3RvcjMoMCwgMCwgMCldO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyID0gdGhpcy5fZmlsdGVyLnVwZGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRYKGZpbHRlclswXS54KTtcclxuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WShmaWx0ZXJbMF0ueSk7XHJcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFooZmlsdGVyWzBdLnopO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5yb3RhdGlvbi5zZXRGcm9tVmVjdG9yMyhmaWx0ZXJbMV0pO1xyXG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRYKGZpbHRlclsyXS54KTtcclxuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WShmaWx0ZXJbMl0ueSk7XHJcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFooZmlsdGVyWzJdLnopO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm9vdC5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRyaXggPSBVdGlscy5pbnRlcnBvbGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xyXG4gICAgICAgICAgICAgICAgVXRpbHMuc2V0TWF0cml4KHJvb3QubWF0cml4LCBtYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm5mdFRyYWNraW5nTG9zdC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcclxuICAgICAgICAgICAgcGxhbmUudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XHJcbiAgICAgICAgICAgIEFSVmlkZW8ucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBZb3UgY2FuIGdldCB0aGUgbmFtZXMgb2YgdGhlIGVudGl0aWVzIHVzZWQgaW4geW91ciBwcm9qZWN0LlxyXG4gICAgICogQHJldHVybnMgdGhlIG5hbWVzIG9mIHRoZSBlbnRpdGllc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TmFtZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGUgb3Igbm90IHRoZSBPbmVFdXJvRmlsdGVyIHJvdXRpbmUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXQgb2VmKGVuYWJsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX29lZiA9IGVuYWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIE9uZUV1cm9GaWx0ZXIgaXMgZW5hYmxlZCBvciBub3QuXHJcbiAgICAgKiBAcmV0dXJucyAoYm9vbGVhbikgdHJ1ZSBvciBmYWxzZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IG9lZigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2VmO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBTY2VuZVJlbmRlcmVyVEpTIGZyb20gXCIuL1NjZW5lUmVuZGVyZXJUSlNcIjtcclxuaW1wb3J0IE5GVGFkZFRKUyBmcm9tIFwiLi9tYXJrZXJtZWRpYS9ORlRhZGRUSlNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgU2NlbmVSZW5kZXJlclRKUywgTkZUYWRkVEpTIH07XHJcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzM4MV9fIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIl90b1Byb3BlcnR5S2V5IiwiYXJnIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwicmVzIiwiU3RyaW5nIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIlV0aWxzIiwid29ybGQiLCJ0cmFja2VkTWF0cml4IiwiZGVsdGEiLCJpbnRlcnBvbGF0ZWQiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0cml4IiwiYXJyYXkiLCJlbGVtZW50cyIsInNldCIsInNsaWNlIiwiU2NlbmVSZW5kZXJlclRKUyIsImNvbmZpZ0RhdGEiLCJjYW52YXNEcmF3IiwidXVpZCIsImNhbWVyYUJvb2wiLCJnbG9iYWwiLCJyZW5kZXJlciIsIlRIUkVFIiwiY2FudmFzIiwiY29udGV4dCIsImFscGhhIiwicHJlbXVsdGlwbGllZEFscGhhIiwiYW50aWFsaWFzIiwic3RlbmNpbCIsInByZWNpc2lvbiIsImRlcHRoIiwibG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciIsInNldFBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwic2NlbmUiLCJnbG9iYWxTY2VuZSIsImNhbWVyYSIsImZvdiIsInJhdGlvIiwibmVhciIsImZhciIsInZlcnNpb24iLCJjb25zb2xlIiwibG9nIiwiX3RoaXMiLCJtYXRyaXhBdXRvVXBkYXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2Iiwic2V0TWF0cml4IiwicHJvamVjdGlvbk1hdHJpeCIsImRldGFpbCIsInByb2oiLCJhZGQiLCJsaWdodCIsIl9ldiIsInNldFNpemUiLCJzdyIsInNoIiwic2V0SW5pdFJlbmRlcmVyRXZlbnQiLCJDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJyZW5kZXIiLCJ0b1RyaWFuZ2xlc0RyYXdNb2RlIiwiZ2VvbWV0cnkiLCJkcmF3TW9kZSIsIlRyaWFuZ2xlc0RyYXdNb2RlIiwid2FybiIsIlRyaWFuZ2xlRmFuRHJhd01vZGUiLCJUcmlhbmdsZVN0cmlwRHJhd01vZGUiLCJpbmRleCIsImdldEluZGV4IiwiaW5kaWNlcyIsInBvc2l0aW9uIiwiZ2V0QXR0cmlidXRlIiwiZXJyb3IiLCJjb3VudCIsInB1c2giLCJzZXRJbmRleCIsIm51bWJlck9mVHJpYW5nbGVzIiwibmV3SW5kaWNlcyIsImdldFgiLCJuZXdHZW9tZXRyeSIsImNsb25lIiwiY2xlYXJHcm91cHMiLCJHTFRGTG9hZGVyIiwiTG9hZGVyIiwibWFuYWdlciIsInN1cGVyIiwiZHJhY29Mb2FkZXIiLCJrdHgyTG9hZGVyIiwibWVzaG9wdERlY29kZXIiLCJwbHVnaW5DYWxsYmFja3MiLCJyZWdpc3RlciIsInBhcnNlciIsIkdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24iLCJHTFRGVGV4dHVyZUJhc2lzVUV4dGVuc2lvbiIsIkdMVEZUZXh0dXJlV2ViUEV4dGVuc2lvbiIsIkdMVEZNYXRlcmlhbHNTaGVlbkV4dGVuc2lvbiIsIkdMVEZNYXRlcmlhbHNUcmFuc21pc3Npb25FeHRlbnNpb24iLCJHTFRGTWF0ZXJpYWxzVm9sdW1lRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc0lvckV4dGVuc2lvbiIsIkdMVEZNYXRlcmlhbHNFbWlzc2l2ZVN0cmVuZ3RoRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc1NwZWN1bGFyRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc0lyaWRlc2NlbmNlRXh0ZW5zaW9uIiwiR0xURkxpZ2h0c0V4dGVuc2lvbiIsIkdMVEZNZXNob3B0Q29tcHJlc3Npb24iLCJHTFRGTWVzaEdwdUluc3RhbmNpbmciLCJsb2FkIiwidXJsIiwib25Mb2FkIiwib25Qcm9ncmVzcyIsIm9uRXJyb3IiLCJzY29wZSIsInJlc291cmNlUGF0aCIsInBhdGgiLCJMb2FkZXJVdGlscyIsIml0ZW1TdGFydCIsIl9vbkVycm9yIiwiaXRlbUVycm9yIiwiaXRlbUVuZCIsImxvYWRlciIsIkZpbGVMb2FkZXIiLCJzZXRQYXRoIiwic2V0UmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInJlcXVlc3RIZWFkZXIiLCJzZXRXaXRoQ3JlZGVudGlhbHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJkYXRhIiwicGFyc2UiLCJnbHRmIiwic2V0RFJBQ09Mb2FkZXIiLCJzZXRERFNMb2FkZXIiLCJFcnJvciIsInNldEtUWDJMb2FkZXIiLCJzZXRNZXNob3B0RGVjb2RlciIsImNhbGxiYWNrIiwiaW5kZXhPZiIsInVucmVnaXN0ZXIiLCJzcGxpY2UiLCJqc29uIiwiZXh0ZW5zaW9ucyIsInBsdWdpbnMiLCJ0ZXh0RGVjb2RlciIsIlRleHREZWNvZGVyIiwiSlNPTiIsIkFycmF5QnVmZmVyIiwiZGVjb2RlIiwiVWludDhBcnJheSIsIkJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDIiwiRVhURU5TSU9OUyIsIktIUl9CSU5BUllfR0xURiIsIkdMVEZCaW5hcnlFeHRlbnNpb24iLCJjb250ZW50IiwiYXNzZXQiLCJHTFRGUGFyc2VyIiwiY3Jvc3NPcmlnaW4iLCJmaWxlTG9hZGVyIiwicGx1Z2luIiwibmFtZSIsImV4dGVuc2lvbnNVc2VkIiwiZXh0ZW5zaW9uTmFtZSIsImV4dGVuc2lvbnNSZXF1aXJlZCIsIktIUl9NQVRFUklBTFNfVU5MSVQiLCJHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24iLCJLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiIsIkdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbiIsIktIUl9URVhUVVJFX1RSQU5TRk9STSIsIkdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uIiwiS0hSX01FU0hfUVVBTlRJWkFUSU9OIiwiR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24iLCJzZXRFeHRlbnNpb25zIiwic2V0UGx1Z2lucyIsInBhcnNlQXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkdMVEZSZWdpc3RyeSIsIm9iamVjdHMiLCJvYmplY3QiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJLSFJfTElHSFRTX1BVTkNUVUFMIiwiS0hSX01BVEVSSUFMU19DTEVBUkNPQVQiLCJLSFJfTUFURVJJQUxTX0lPUiIsIktIUl9NQVRFUklBTFNfU0hFRU4iLCJLSFJfTUFURVJJQUxTX1NQRUNVTEFSIiwiS0hSX01BVEVSSUFMU19UUkFOU01JU1NJT04iLCJLSFJfTUFURVJJQUxTX0lSSURFU0NFTkNFIiwiS0hSX01BVEVSSUFMU19WT0xVTUUiLCJLSFJfVEVYVFVSRV9CQVNJU1UiLCJLSFJfTUFURVJJQUxTX0VNSVNTSVZFX1NUUkVOR1RIIiwiRVhUX1RFWFRVUkVfV0VCUCIsIkVYVF9NRVNIT1BUX0NPTVBSRVNTSU9OIiwiRVhUX01FU0hfR1BVX0lOU1RBTkNJTkciLCJjYWNoZSIsInJlZnMiLCJ1c2VzIiwiX21hcmtEZWZzIiwibm9kZURlZnMiLCJub2RlcyIsIm5vZGVJbmRleCIsIm5vZGVMZW5ndGgiLCJub2RlRGVmIiwiX2FkZE5vZGVSZWYiLCJfbG9hZExpZ2h0IiwibGlnaHRJbmRleCIsImNhY2hlS2V5IiwiZGVwZW5kZW5jeSIsImxpZ2h0RGVmIiwibGlnaHRzIiwibGlnaHROb2RlIiwiY29sb3IiLCJDb2xvciIsImZyb21BcnJheSIsInJhbmdlIiwidHlwZSIsIkRpcmVjdGlvbmFsTGlnaHQiLCJQb2ludExpZ2h0IiwiZGlzdGFuY2UiLCJTcG90TGlnaHQiLCJzcG90IiwiaW5uZXJDb25lQW5nbGUiLCJvdXRlckNvbmVBbmdsZSIsIk1hdGgiLCJQSSIsImFuZ2xlIiwicGVudW1icmEiLCJkZWNheSIsImFzc2lnbkV4dHJhc1RvVXNlckRhdGEiLCJpbnRlbnNpdHkiLCJjcmVhdGVVbmlxdWVOYW1lIiwiZ2V0RGVwZW5kZW5jeSIsImNyZWF0ZU5vZGVBdHRhY2htZW50Iiwic2VsZiIsInRoZW4iLCJfZ2V0Tm9kZVJlZiIsImdldE1hdGVyaWFsVHlwZSIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZXh0ZW5kUGFyYW1zIiwibWF0ZXJpYWxQYXJhbXMiLCJtYXRlcmlhbERlZiIsInBlbmRpbmciLCJvcGFjaXR5IiwibWV0YWxsaWNSb3VnaG5lc3MiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyIsIkFycmF5IiwiaXNBcnJheSIsImJhc2VDb2xvckZhY3RvciIsImJhc2VDb2xvclRleHR1cmUiLCJhc3NpZ25UZXh0dXJlIiwic1JHQkVuY29kaW5nIiwiYWxsIiwiZXh0ZW5kTWF0ZXJpYWxQYXJhbXMiLCJtYXRlcmlhbEluZGV4IiwibWF0ZXJpYWxzIiwiZW1pc3NpdmVTdHJlbmd0aCIsImVtaXNzaXZlSW50ZW5zaXR5IiwiTWVzaFBoeXNpY2FsTWF0ZXJpYWwiLCJleHRlbnNpb24iLCJjbGVhcmNvYXRGYWN0b3IiLCJjbGVhcmNvYXQiLCJjbGVhcmNvYXRUZXh0dXJlIiwiY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yIiwiY2xlYXJjb2F0Um91Z2huZXNzIiwiY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSIsImNsZWFyY29hdE5vcm1hbFRleHR1cmUiLCJzY2FsZSIsImNsZWFyY29hdE5vcm1hbFNjYWxlIiwiVmVjdG9yMiIsImlyaWRlc2NlbmNlRmFjdG9yIiwiaXJpZGVzY2VuY2UiLCJpcmlkZXNjZW5jZVRleHR1cmUiLCJpcmlkZXNjZW5jZUlvciIsImlyaWRlc2NlbmNlSU9SIiwiaXJpZGVzY2VuY2VUaGlja25lc3NSYW5nZSIsImlyaWRlc2NlbmNlVGhpY2tuZXNzTWluaW11bSIsImlyaWRlc2NlbmNlVGhpY2tuZXNzTWF4aW11bSIsImlyaWRlc2NlbmNlVGhpY2tuZXNzVGV4dHVyZSIsInNoZWVuQ29sb3IiLCJzaGVlblJvdWdobmVzcyIsInNoZWVuIiwic2hlZW5Db2xvckZhY3RvciIsInNoZWVuUm91Z2huZXNzRmFjdG9yIiwic2hlZW5Db2xvclRleHR1cmUiLCJzaGVlblJvdWdobmVzc1RleHR1cmUiLCJ0cmFuc21pc3Npb25GYWN0b3IiLCJ0cmFuc21pc3Npb24iLCJ0cmFuc21pc3Npb25UZXh0dXJlIiwidGhpY2tuZXNzIiwidGhpY2tuZXNzRmFjdG9yIiwidGhpY2tuZXNzVGV4dHVyZSIsImF0dGVudWF0aW9uRGlzdGFuY2UiLCJJbmZpbml0eSIsImNvbG9yQXJyYXkiLCJhdHRlbnVhdGlvbkNvbG9yIiwiaW9yIiwic3BlY3VsYXJJbnRlbnNpdHkiLCJzcGVjdWxhckZhY3RvciIsInNwZWN1bGFyVGV4dHVyZSIsInNwZWN1bGFyQ29sb3JGYWN0b3IiLCJzcGVjdWxhckNvbG9yIiwic3BlY3VsYXJDb2xvclRleHR1cmUiLCJsb2FkVGV4dHVyZSIsInRleHR1cmVJbmRleCIsInRleHR1cmVEZWYiLCJ0ZXh0dXJlcyIsIm9wdGlvbnMiLCJsb2FkVGV4dHVyZUltYWdlIiwic291cmNlIiwiaXNTdXBwb3J0ZWQiLCJpbWFnZXMiLCJ0ZXh0dXJlTG9hZGVyIiwidXJpIiwiaGFuZGxlciIsImdldEhhbmRsZXIiLCJkZXRlY3RTdXBwb3J0IiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsIm9ubG9hZCIsIm9uZXJyb3IiLCJoZWlnaHQiLCJsb2FkQnVmZmVyVmlldyIsImJ1ZmZlclZpZXciLCJidWZmZXJWaWV3cyIsImV4dGVuc2lvbkRlZiIsImJ1ZmZlciIsImRlY29kZXIiLCJzdXBwb3J0ZWQiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsInN0cmlkZSIsImJ5dGVTdHJpZGUiLCJkZWNvZGVHbHRmQnVmZmVyQXN5bmMiLCJtb2RlIiwiZmlsdGVyIiwicmVhZHkiLCJyZXN1bHQiLCJkZWNvZGVHbHRmQnVmZmVyIiwiY3JlYXRlTm9kZU1lc2giLCJtZXNoIiwibWVzaERlZiIsIm1lc2hlcyIsInByaW1pdGl2ZSIsInByaW1pdGl2ZXMiLCJXRUJHTF9DT05TVEFOVFMiLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsIlRSSUFOR0xFX0ZBTiIsImF0dHJpYnV0ZXNEZWYiLCJhdHRyaWJ1dGVzIiwiYWNjZXNzb3IiLCJyZXN1bHRzIiwibm9kZU9iamVjdCIsInBvcCIsImlzR3JvdXAiLCJjaGlsZHJlbiIsImluc3RhbmNlZE1lc2hlcyIsIm0iLCJNYXRyaXg0IiwicCIsIlZlY3RvcjMiLCJxIiwiUXVhdGVybmlvbiIsInMiLCJpbnN0YW5jZWRNZXNoIiwiSW5zdGFuY2VkTWVzaCIsIm1hdGVyaWFsIiwiVFJBTlNMQVRJT04iLCJmcm9tQnVmZmVyQXR0cmlidXRlIiwiUk9UQVRJT04iLCJTQ0FMRSIsInNldE1hdHJpeEF0IiwiY29tcG9zZSIsImF0dHJpYnV0ZU5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJPYmplY3QzRCIsImZydXN0dW1DdWxsZWQiLCJhc3NpZ25GaW5hbE1hdGVyaWFsIiwiY2xlYXIiLCJib2R5IiwiaGVhZGVyVmlldyIsIkRhdGFWaWV3IiwiaGVhZGVyIiwibWFnaWMiLCJnZXRVaW50MzIiLCJjaHVua0NvbnRlbnRzTGVuZ3RoIiwiY2h1bmtWaWV3IiwiY2h1bmtJbmRleCIsImNodW5rTGVuZ3RoIiwiY2h1bmtUeXBlIiwiY29udGVudEFycmF5IiwicHJlbG9hZCIsImRlY29kZVByaW1pdGl2ZSIsImJ1ZmZlclZpZXdJbmRleCIsImdsdGZBdHRyaWJ1dGVNYXAiLCJ0aHJlZUF0dHJpYnV0ZU1hcCIsImF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAiLCJhdHRyaWJ1dGVUeXBlTWFwIiwidGhyZWVBdHRyaWJ1dGVOYW1lIiwiQVRUUklCVVRFUyIsInRvTG93ZXJDYXNlIiwiYWNjZXNzb3JEZWYiLCJhY2Nlc3NvcnMiLCJjb21wb25lbnRUeXBlIiwiV0VCR0xfQ09NUE9ORU5UX1RZUEVTIiwibm9ybWFsaXplZCIsImRlY29kZURyYWNvRmlsZSIsImF0dHJpYnV0ZSIsImV4dGVuZFRleHR1cmUiLCJ0ZXh0dXJlIiwidHJhbnNmb3JtIiwidGV4Q29vcmQiLCJvZmZzZXQiLCJyb3RhdGlvbiIsInJlcGVhdCIsIm5lZWRzVXBkYXRlIiwiR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQiLCJJbnRlcnBvbGFudCIsInBhcmFtZXRlclBvc2l0aW9ucyIsInNhbXBsZVZhbHVlcyIsInNhbXBsZVNpemUiLCJyZXN1bHRCdWZmZXIiLCJjb3B5U2FtcGxlVmFsdWVfIiwidmFsdWVzIiwidmFsdWVTaXplIiwiaW50ZXJwb2xhdGVfIiwiaTEiLCJ0MCIsInQiLCJ0MSIsInN0cmlkZTIiLCJzdHJpZGUzIiwidGQiLCJwcCIsInBwcCIsIm9mZnNldDEiLCJvZmZzZXQwIiwiczIiLCJzMyIsInMwIiwiczEiLCJwMCIsIm0wIiwicDEiLCJtMSIsIl9xIiwiR0xURkN1YmljU3BsaW5lUXVhdGVybmlvbkludGVycG9sYW50Iiwibm9ybWFsaXplIiwidG9BcnJheSIsIkZMT0FUIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJMSU5FQVIiLCJSRVBFQVQiLCJTQU1QTEVSXzJEIiwiUE9JTlRTIiwiTElORVMiLCJMSU5FX0xPT1AiLCJMSU5FX1NUUklQIiwiVU5TSUdORURfQllURSIsIlVOU0lHTkVEX1NIT1JUIiwiSW50OEFycmF5IiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJXRUJHTF9GSUxURVJTIiwiTmVhcmVzdEZpbHRlciIsIkxpbmVhckZpbHRlciIsIk5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyIiwiTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciIsIk5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIiLCJMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIiLCJXRUJHTF9XUkFQUElOR1MiLCJDbGFtcFRvRWRnZVdyYXBwaW5nIiwiTWlycm9yZWRSZXBlYXRXcmFwcGluZyIsIlJlcGVhdFdyYXBwaW5nIiwiV0VCR0xfVFlQRV9TSVpFUyIsIlBPU0lUSU9OIiwiTk9STUFMIiwiVEFOR0VOVCIsIlRFWENPT1JEXzAiLCJURVhDT09SRF8xIiwiQ09MT1JfMCIsIldFSUdIVFNfMCIsIkpPSU5UU18wIiwiUEFUSF9QUk9QRVJUSUVTIiwidHJhbnNsYXRpb24iLCJ3ZWlnaHRzIiwiSU5URVJQT0xBVElPTiIsIkNVQklDU1BMSU5FIiwiSW50ZXJwb2xhdGVMaW5lYXIiLCJTVEVQIiwiSW50ZXJwb2xhdGVEaXNjcmV0ZSIsImFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSIsImtub3duRXh0ZW5zaW9ucyIsIm9iamVjdERlZiIsInVzZXJEYXRhIiwiZ2x0ZkV4dGVuc2lvbnMiLCJnbHRmRGVmIiwiZXh0cmFzIiwiYXNzaWduIiwidXBkYXRlTW9ycGhUYXJnZXRzIiwiaWwiLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJ0YXJnZXROYW1lcyIsIm1vcnBoVGFyZ2V0RGljdGlvbmFyeSIsImNyZWF0ZVByaW1pdGl2ZUtleSIsInByaW1pdGl2ZURlZiIsImRyYWNvRXh0ZW5zaW9uIiwiZ2VvbWV0cnlLZXkiLCJjcmVhdGVBdHRyaWJ1dGVzS2V5IiwiYXR0cmlidXRlc0tleSIsImtleXMiLCJzb3J0IiwiZ2V0Tm9ybWFsaXplZENvbXBvbmVudFNjYWxlIiwiX2lkZW50aXR5TWF0cml4IiwiYXNzb2NpYXRpb25zIiwiTWFwIiwicHJpbWl0aXZlQ2FjaGUiLCJtZXNoQ2FjaGUiLCJjYW1lcmFDYWNoZSIsImxpZ2h0Q2FjaGUiLCJzb3VyY2VDYWNoZSIsInRleHR1cmVDYWNoZSIsIm5vZGVOYW1lc1VzZWQiLCJpc1NhZmFyaSIsImlzRmlyZWZveCIsImZpcmVmb3hWZXJzaW9uIiwibWF0Y2giLCJjcmVhdGVJbWFnZUJpdG1hcCIsIlRleHR1cmVMb2FkZXIiLCJJbWFnZUJpdG1hcExvYWRlciIsInNldENyb3NzT3JpZ2luIiwiX2ludm9rZUFsbCIsImV4dCIsImJlZm9yZVJvb3QiLCJnZXREZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmNpZXMiLCJzY2VuZXMiLCJhbmltYXRpb25zIiwiY2FtZXJhcyIsImFmdGVyUm9vdCIsImNhdGNoIiwic2tpbkRlZnMiLCJza2lucyIsIm1lc2hEZWZzIiwic2tpbkluZGV4Iiwic2tpbkxlbmd0aCIsImpvaW50cyIsImlzQm9uZSIsInNraW4iLCJpc1NraW5uZWRNZXNoIiwicmVmIiwidXBkYXRlTWFwcGluZ3MiLCJvcmlnaW5hbCIsIm1hcHBpbmdzIiwiY2hpbGQiLCJlbnRyaWVzIiwiX2ludm9rZU9uZSIsImZ1bmMiLCJ1bnNoaWZ0IiwibG9hZFNjZW5lIiwibG9hZE5vZGUiLCJsb2FkTWVzaCIsImxvYWRBY2Nlc3NvciIsImxvYWRCdWZmZXIiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkU2tpbiIsImxvYWRBbmltYXRpb24iLCJsb2FkQ2FtZXJhIiwiZGVmcyIsIm1hcCIsImRlZiIsImJ1ZmZlckluZGV4IiwiYnVmZmVyRGVmIiwiYnVmZmVycyIsImJ1ZmZlclZpZXdEZWYiLCJhY2Nlc3NvckluZGV4Iiwic3BhcnNlIiwiaXRlbVNpemUiLCJUeXBlZEFycmF5IiwiQnVmZmVyQXR0cmlidXRlIiwicGVuZGluZ0J1ZmZlclZpZXdzIiwiZWxlbWVudEJ5dGVzIiwiQllURVNfUEVSX0VMRU1FTlQiLCJpdGVtQnl0ZXMiLCJidWZmZXJBdHRyaWJ1dGUiLCJpYlNsaWNlIiwiZmxvb3IiLCJpYkNhY2hlS2V5IiwiaWIiLCJJbnRlcmxlYXZlZEJ1ZmZlciIsIkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlIiwiaXRlbVNpemVJbmRpY2VzIiwiU0NBTEFSIiwiVHlwZWRBcnJheUluZGljZXMiLCJieXRlT2Zmc2V0SW5kaWNlcyIsImJ5dGVPZmZzZXRWYWx1ZXMiLCJzcGFyc2VJbmRpY2VzIiwic3BhcnNlVmFsdWVzIiwic2V0WCIsInNldFkiLCJzZXRaIiwic2V0VyIsInNvdXJjZUluZGV4Iiwic291cmNlRGVmIiwic2FtcGxlciIsInByb21pc2UiLCJsb2FkSW1hZ2VTb3VyY2UiLCJmbGlwWSIsInNhbXBsZXJzIiwibWFnRmlsdGVyIiwibWluRmlsdGVyIiwid3JhcFMiLCJ3cmFwVCIsIlVSTCIsIndlYmtpdFVSTCIsInNvdXJjZVVSSSIsImlzT2JqZWN0VVJMIiwiYmxvYiIsIkJsb2IiLCJtaW1lVHlwZSIsImNyZWF0ZU9iamVjdFVSTCIsImlzSW1hZ2VCaXRtYXBMb2FkZXIiLCJpbWFnZUJpdG1hcCIsIlRleHR1cmUiLCJyZXZva2VPYmplY3RVUkwiLCJzZWFyY2giLCJtYXBOYW1lIiwibWFwRGVmIiwiZW5jb2RpbmciLCJnbHRmUmVmZXJlbmNlIiwidXNlRGVyaXZhdGl2ZVRhbmdlbnRzIiwidGFuZ2VudCIsInVzZVZlcnRleENvbG9ycyIsInVzZUZsYXRTaGFkaW5nIiwibm9ybWFsIiwiaXNQb2ludHMiLCJwb2ludHNNYXRlcmlhbCIsIlBvaW50c01hdGVyaWFsIiwiTWF0ZXJpYWwiLCJjb3B5Iiwic2l6ZUF0dGVudWF0aW9uIiwiaXNMaW5lIiwibGluZU1hdGVyaWFsIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJjYWNoZWRNYXRlcmlhbCIsInZlcnRleENvbG9ycyIsImZsYXRTaGFkaW5nIiwibm9ybWFsU2NhbGUiLCJ5IiwiYW9NYXAiLCJ1djIiLCJ1diIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwibWF0ZXJpYWxUeXBlIiwia211RXh0ZW5zaW9uIiwibWV0YWxuZXNzIiwibWV0YWxsaWNGYWN0b3IiLCJyb3VnaG5lc3MiLCJyb3VnaG5lc3NGYWN0b3IiLCJtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUiLCJkb3VibGVTaWRlZCIsInNpZGUiLCJEb3VibGVTaWRlIiwiYWxwaGFNb2RlIiwidHJhbnNwYXJlbnQiLCJkZXB0aFdyaXRlIiwiYWxwaGFUZXN0IiwiYWxwaGFDdXRvZmYiLCJub3JtYWxUZXh0dXJlIiwib2NjbHVzaW9uVGV4dHVyZSIsInN0cmVuZ3RoIiwiYW9NYXBJbnRlbnNpdHkiLCJlbWlzc2l2ZUZhY3RvciIsImVtaXNzaXZlIiwiZW1pc3NpdmVUZXh0dXJlIiwib3JpZ2luYWxOYW1lIiwic2FuaXRpemVkTmFtZSIsIlByb3BlcnR5QmluZGluZyIsImxvYWRHZW9tZXRyaWVzIiwiY3JlYXRlRHJhY29QcmltaXRpdmUiLCJhZGRQcmltaXRpdmVBdHRyaWJ1dGVzIiwiY2FjaGVkIiwiZ2VvbWV0cnlQcm9taXNlIiwiQnVmZmVyR2VvbWV0cnkiLCJtZXNoSW5kZXgiLCJkZXB0aFRlc3QiLCJGcm9udFNpZGUiLCJnZW9tZXRyaWVzIiwiU2tpbm5lZE1lc2giLCJNZXNoIiwic2tpbldlaWdodCIsIm5vcm1hbGl6ZVNraW5XZWlnaHRzIiwiTGluZVNlZ21lbnRzIiwiTGluZSIsIkxpbmVMb29wIiwiUG9pbnRzIiwibW9ycGhBdHRyaWJ1dGVzIiwiZ3JvdXAiLCJHcm91cCIsImNhbWVyYUluZGV4IiwiY2FtZXJhRGVmIiwicGFyYW1zIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJNYXRoVXRpbHMiLCJ5Zm92IiwiYXNwZWN0UmF0aW8iLCJ6bmVhciIsInpmYXIiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJ4bWFnIiwieW1hZyIsInNraW5EZWYiLCJpbnZlcnNlQmluZE1hdHJpY2VzIiwiam9pbnROb2RlcyIsImJvbmVzIiwiYm9uZUludmVyc2VzIiwiam9pbnROb2RlIiwibWF0IiwiU2tlbGV0b24iLCJhbmltYXRpb25JbmRleCIsImFuaW1hdGlvbkRlZiIsInBlbmRpbmdOb2RlcyIsInBlbmRpbmdJbnB1dEFjY2Vzc29ycyIsInBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMiLCJwZW5kaW5nU2FtcGxlcnMiLCJwZW5kaW5nVGFyZ2V0cyIsImNoYW5uZWxzIiwiY2hhbm5lbCIsIm5vZGUiLCJwYXJhbWV0ZXJzIiwib3V0cHV0IiwiaW5wdXRBY2Nlc3NvcnMiLCJvdXRwdXRBY2Nlc3NvcnMiLCJ0YXJnZXRzIiwidHJhY2tzIiwiaW5wdXRBY2Nlc3NvciIsIm91dHB1dEFjY2Vzc29yIiwiVHlwZWRLZXlmcmFtZVRyYWNrIiwidXBkYXRlTWF0cml4IiwiTnVtYmVyS2V5ZnJhbWVUcmFjayIsIlF1YXRlcm5pb25LZXlmcmFtZVRyYWNrIiwiVmVjdG9yS2V5ZnJhbWVUcmFjayIsInRhcmdldE5hbWUiLCJpbnRlcnBvbGF0aW9uIiwidHJhdmVyc2UiLCJvdXRwdXRBcnJheSIsInNjYWxlZCIsImoiLCJqbCIsInRyYWNrIiwiY3JlYXRlSW50ZXJwb2xhbnQiLCJ0aW1lcyIsImdldFZhbHVlU2l6ZSIsImlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lIiwiQW5pbWF0aW9uQ2xpcCIsImlzTWVzaCIsIm5vZGVOYW1lIiwib2JqZWN0UGVuZGluZyIsIm1lc2hQcm9taXNlIiwiZm9yRWFjaCIsImNoaWxkUGVuZGluZyIsImNoaWxkcmVuRGVmIiwic2tlbGV0b25QZW5kaW5nIiwic2tlbGV0b24iLCJCb25lIiwiYXBwbHlNYXRyaXg0IiwicXVhdGVybmlvbiIsImhhcyIsImJpbmQiLCJzY2VuZUluZGV4Iiwic2NlbmVEZWYiLCJub2RlSWRzIiwicmVkdWNlZEFzc29jaWF0aW9ucyIsInJlZHVjZUFzc29jaWF0aW9ucyIsImFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yIiwiZ2x0ZkF0dHJpYnV0ZU5hbWUiLCJib3giLCJCb3gzIiwibWluIiwibWF4IiwiYm94U2NhbGUiLCJtdWx0aXBseVNjYWxhciIsIm1heERpc3BsYWNlbWVudCIsInZlY3RvciIsImFicyIsImV4cGFuZEJ5VmVjdG9yIiwiYm91bmRpbmdCb3giLCJzcGhlcmUiLCJTcGhlcmUiLCJnZXRDZW50ZXIiLCJjZW50ZXIiLCJyYWRpdXMiLCJkaXN0YW5jZVRvIiwiYm91bmRpbmdTcGhlcmUiLCJjb21wdXRlQm91bmRzIiwiaGFzTW9ycGhQb3NpdGlvbiIsImhhc01vcnBoTm9ybWFsIiwiaGFzTW9ycGhDb2xvciIsInBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyIsInBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMiLCJwZW5kaW5nQ29sb3JBY2Nlc3NvcnMiLCJwZW5kaW5nQWNjZXNzb3IiLCJtb3JwaFBvc2l0aW9ucyIsIm1vcnBoTm9ybWFscyIsIm1vcnBoQ29sb3JzIiwibW9ycGhUYXJnZXRzUmVsYXRpdmUiLCJhZGRNb3JwaFRhcmdldHMiLCJMb3dQYXNzRmlsdGVyIiwic2V0QWxwaGEiLCJ0aW1lc3RhbXAiLCJPbmVFdXJvRmlsdGVyIiwiZnJlcSIsIm1pbkN1dE9mZiIsImFyZ3VtZW50cyIsImJldGEiLCJkQ3V0T2ZmIiwieCIsImR4IiwibGFzdHRpbWUiLCJjdXJyVmFsdWUiLCJwcmV2VmFsdWUiLCJjdXRPZmYiLCJ0ZSIsIl9mcmVxIiwiX21pbmN1dG9mZiIsIl9iZXRhIiwiX2RjdXRvZmYiLCJwcmV2WCIsImxhc3RWYWx1ZSIsImVkeCIsIk9uZUV1cm9GaWx0ZXJWZWN0b3IzIiwib25lRXVyb0ZpbHRlcnMiLCJVcGRhdGVQYXJhbXMiLCJfdmFsdWUiLCJvdXQiLCJmaWx0ZXJzIiwiaWR4IiwiRmlsdGVyIiwiYXJyIiwiRGVsYXlhYmxlU2lnbmFsRmlsdGVyIiwidGltZU91dCIsIl90aW1lT3V0IiwiX2luRGVsYXkiLCJ0aWNrIiwidGltZSIsIkRhdGUiLCJub3ciLCJfcHJldlRpbWUiLCJfdG90YWxUaW1lIiwiQVJuZnRGaWx0ZXIiLCJkZWxheUVudGVyQ2hlY2siLCJkZWxheUV4aXRDaGVjayIsIl9wb3NpdGlvbkZpbHRlciIsImZpbHRlckZyZXF1ZW5jeSIsIl9yb3RhdGlvbkZpbHRlciIsInBvcyIsInJvdGF0aW9uVmVjIiwid29ybGRNYXRyaXgiLCJnZXRBcnJheU1hdHJpeCIsIl9oYXNGb3VuZCIsIl9jdXJyZW50VHJhbnNsYXRpb24iLCJzZXRGcm9tTWF0cml4UG9zaXRpb24iLCJfbGFzdFRyYW5zbGF0aW9uIiwiX2RlbHRhQWNjdXJhY3kiLCJfZnJhbWVEcm9wcyIsInZlY1RyYW5zIiwiZmlsdGVyTWluQ3V0b2ZmIiwiZmlsdGVyQmV0YSIsImZpbHRlckRjdXRvZmYiLCJldWxlclJvdCIsIkV1bGVyIiwiZGVjb21wb3NlIiwiZVJvdCIsInNldEZyb21RdWF0ZXJuaW9uIiwiZXVsZXJUb1ZlY3RvcjMiLCJzZXRGcm9tRXVsZXIiLCJORlRhZGRUSlMiLCJnZXRHbG9iYWxTY2VuZSIsIm5hbWVzIiwiX2ZpbHRlciIsIl9vZWYiLCJvYmpWaXNpYmlsaXR5IiwibXNnIiwiZHBpIiwid2lkdGgiLCJ2aXNpYmxlIiwidXBkYXRlIiwibWF0cml4R0xfUkgiLCJ6Iiwic2V0RnJvbVZlY3RvcjMiLCJpbnRlcnBvbGF0ZSIsImVudGl0aWVzIiwibW9kZWwiLCJfdGhpczIiLCJfdGhpczMiLCJpbWFnZVVybCIsImNvbmZpZ3MiLCJfdGhpczQiLCJwbGFuZUdlb20iLCJQbGFuZUdlb21ldHJ5IiwidyIsImgiLCJ3cyIsImhzIiwicGxhbmUiLCJpZCIsIl90aGlzNSIsIkFSVmlkZW8iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiVmlkZW9UZXh0dXJlIiwicGxheSIsInBhdXNlIiwiZW5hYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==